webpackJsonp([23],{BLn5:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Gu7T"),n=i.n(s),a=i("7B+g"),o={name:"notifications",data:function(){return{notifications:[],visiblebuttom:!1,pageInfo:{page:1,limit:10}}},methods:{resreshNotifics:function(){var e,t=this;(e=this.pageInfo,Object(a.a)("/H_roleplay-si/comment/getCommentMessage",e)).then(function(e){t.notifications=t.notifications.concat(e.tableContent),t.notifications===e.dataCount&&(t.visiblebuttom=!0)})},handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;document.body.scrollHeight===document.body.clientHeight+e&&(this.pageInfo.page++,this.resreshNotifics())},subscribeMessage:function(){var e=this,t=this.$deepstream,i=this.$currentUser.userId;t.event.subscribe("commentMessage/"+i,function(t){var i;(i=e.notifications).unshift.apply(i,n()(t.tableContent))})}},mounted:function(){this.resreshNotifics(),this.subscribeMessage(),window.addEventListener("scroll",this.handleScroll)}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"notificas"},[i("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"center"}},[i("Col",{staticClass:"bg_ff marlr10",staticStyle:{"min-width":"500px"},attrs:{span:"8"}},[i("div",{staticClass:"notificas-header"},[i("span",{staticClass:"marlr10"},[e._v("应用")]),e._v(" "),i("span",{staticClass:"marlr10"},[e._v("实例")])]),e._v(" "),e._l(e.notifications,function(t,s){return i("div",{key:s,staticClass:"notificas-item"},[i("img",{staticClass:"notificas-item-img",attrs:{onerror:"src='resources/images/icon/defaultUserPhoto.jpg'",src:t.photo}}),e._v(" "),i("div",{staticClass:"notificas-item-content"},[i("div",{staticClass:"notificas-item-content-title"},[e._v("\n                        "+e._s(t.creatorName)+"\n                    ")]),e._v(" "),i("div",{staticClass:"notificas-item-content-subtitle"},["listComment"==t.type?i("p",[i("span",[e._v("评论了您负责的应用")]),e._v(" "),i("a",[e._v("【销售订单】")]),e._v(" "),i("span",{directives:[{name:"overTimeDirective",rawName:"v-overTimeDirective",value:{time:t.crtTime},expression:"{time:n.crtTime}"}]})]):e._e(),"instanceComment"==t.type?i("p",[i("span",[e._v("评论了您创建的实例")]),e._v(" "),i("a",[e._v("【WL1536231288652】")]),e._v(" "),i("span",{directives:[{name:"overTimeDirective",rawName:"v-overTimeDirective",value:{time:t.crtTime},expression:"{time:n.crtTime}"}]})]):e._e(),"replyComment"==t.type?i("p",[i("span",[e._v("回复了您")]),e._v(" "),i("a",[e._v("【WL1536231288652】")]),e._v(" "),i("span",{directives:[{name:"overTimeDirective",rawName:"v-overTimeDirective",value:{time:t.crtTime},expression:"{time:n.crtTime}"}]})]):e._e(),"praise"==t.type?i("p",[i("span",[e._v("给您点赞啦")]),e._v(" "),i("span",{directives:[{name:"overTimeDirective",rawName:"v-overTimeDirective",value:{time:t.crtTime},expression:"{time:n.crtTime}"}]})]):e._e()]),e._v(" "),"praise"!=t.type?i("div",{staticClass:"notificas-item-content-txt"},[i("div",{domProps:{innerHTML:e._s(t.content)}})]):e._e()])])}),e._v(" "),e.visiblebuttom?i("div",{staticClass:"notificas-footer"},[e._v("我是有底线的")]):e._e()],2)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(o,r,!1,function(e){i("e+G/")},null,null);t.default=c.exports},"e+G/":function(e,t){}});
//# sourceMappingURL=23.c0d0f5c3d3e8b05dcbe2.js.map
webpackJsonp([47],{"+OXj":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("Gu7T"),i=n.n(a),r=n("o32f"),o={data:function(){return{datasource:{groupName:"根节点",groupId:7,creator:" ",children:[]}}},methods:{getGroupData:function(t){var e=this,n=function(t){return'\n            <div class="org-item org-item_'+t.groupId+'">\n              <img class="org-item-img" src='+(t.principalPic?t.principalPic:"resources/images/icon/defaultUserPhoto.png")+'></img>\n              <div class="org-item-content">\n                <a href="/dist/#/addressBook/organization/detail/'+t.groupId+'" target="_blank">'+t.groupName+'</a>\n                <div>\n                  <a href="/dist/#/addressBook/user/detail/'+t.principal+'" target="_blank">\n                    '+(t.principalName?t.principalName:" ")+"\n                  </a>\n                </div>\n              </div>\n            </div>\n            <i id="+t.groupId+' class="iconfont icon-pos">&#xe62b;</i>\n          '};Object(r.F)(t).then(function(t){e.datasource.children=[].concat(i()(t.tableContent));var a=$("#chartContainerId").orgchart({data:e.datasource,nodeTemplate:n});$(".org-item_7")[0].setAttribute("expand",!0),a.$chartContainer.on("click",".node",function(t,n){var i=t.target||t.srcElement,r=i.getAttribute("id");if(r){var o=$(".org-item_"+r);"true"!==o[0].getAttribute("expand")?(i.classList.add("icon-rotate"),e.handleExpandChildNode(o,a,r)):(i.classList.remove("icon-rotate"),e.handleDeleteChildNode(o,a,r))}})})},handleExpandChildNode:function(t,e,n){var a=this;Object(r.F)(n).then(function(n){t[0].setAttribute("expand",!0),n.dataCount>0?e.addChildren(t,n.tableContent.map(function(t){return t})):a.$Message.info("该组织下面没有下级组织!")})},handleDeleteChildNode:function(t,e,n){var a=this;Object(r.F)(n).then(function(n){t[0].setAttribute("expand",!1),n.dataCount>0?n.tableContent.map(function(t){e.removeNodes($(".org-item_"+t.groupId))}):a.$Message.info("该组织下面没有下级组织!")})}},mounted:function(){this.getGroupData(7)}},d={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"tree-container",attrs:{id:"chartContainerId"}})},staticRenderFns:[]};var c=n("VU/8")(o,d,!1,function(t){n("YOZT")},null,null);e.default=c.exports},YOZT:function(t,e){}});
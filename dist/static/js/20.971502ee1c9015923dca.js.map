{"version":3,"sources":["webpack:///src/components/bigProcess.vue","webpack:///./src/components/bigProcess.vue?a021","webpack:///./src/components/bigProcess.vue"],"names":["bigProcess","name","data","bigProcessNodes","methods","getBigProcessInfo","_this","this","me","Object","appService","$route","params","orderCode","then","res","nodes","map","n","index","procedure","color","schedule","appInstances","durationTime","length","calcTimeDiff","Date","startTime","endTime","inst","crtTime","utils","startDate","endDate","date3","getTime","days","Math","floor","leave1","hours","leave2","minutes","leave3","round","viewDetail","transCode","window","open","created","components_bigProcess","render","_vm","_h","$createElement","_c","_self","staticStyle","width","height","staticClass","_l","node","key","_v","_s","_e","style","backgroundColor","instance","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.971502ee1c9015923dca.js","sourcesContent":["<template>\r\n<div style=\"width:100%;height:100%\">\r\n    <div class=\"order\">\r\n        <div v-for=\"(node,index) in bigProcessNodes\" :key=\"index\" class=\"n\">\r\n            <div class=\"lines\" v-if=\"node.durationTime\">\r\n                    <span class=\"dian_l\" >&bull;</span>\r\n                    <span class=\"line\"></span>\r\n                    <span class=\"txt\">{{node.durationTime}}</span>\r\n                    <span class=\"line\"></span>\r\n                    <span class=\"dian_r\">&bull;</span>\r\n                </div>\r\n            <div class=\"nodePro\">\r\n                \r\n                <div class=\"appName\"><strong>{{node.procedure}}</strong></div>\r\n                <div class=\"schedule \"  v-bind:style=\"{ backgroundColor: node.color }\"><span>{{node.schedule}}%</span></div>\r\n                <div class=\"verticalbar\" v-if=\"node.appInstances.length>0\"></div>\r\n                <div class=\"trans\" v-if=\"node.appInstances.length>0\">\r\n                    <div class=\"trans-kuan\"></div>\r\n                    <div class=\"transitem\" v-for=\"(instance,index) in node.appInstances\" :key=\"index\">\r\n                        <p ><a style=\"color:#1e88e5;\" @click=\"viewDetail(instance.transCode)\">{{instance.transCode}}</a></p>\r\n                        <p >{{instance.crtTime }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div> \r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { getBigProcessByOrderCode } from \"@/services/appService.js\";\r\nimport { FormatDate } from '@/utils/utils'\r\nexport default {\r\n  name: \"BigProcessa\",\r\n  data() {\r\n    return {\r\n        bigProcessNodes:[\r\n        ]\r\n    };\r\n  },\r\n  methods:{\r\n      getBigProcessInfo:function () {\r\n          var me = this;\r\n          getBigProcessByOrderCode(this.$route.params.orderCode).then(res=>{\r\n            var nodes = res;\r\n           \r\n            nodes.map(function(n,index) {\r\n                switch (n.procedure) {\r\n                    case '销售订单':\r\n                        n.color = 'black';\r\n                        n.schedule = 100;\r\n                        n.appInstances = [];\r\n                        break;\r\n                    case '需求计划':\r\n                        n.color = '#9C27B0';\r\n                        break;\r\n                     case '下单':\r\n                        n.color = '#03A9F4';\r\n                        break;\r\n                    case '验收':\r\n                        n.color = '#4CAF50';\r\n                        break;\r\n                    case '交付':\r\n                        n.color = '#e8630a';\r\n                        break;\r\n                    case '收款':\r\n                        n.color = '#235784';\r\n                        break;\r\n                    case '开票':\r\n                        n.color = '#red';\r\n                        n.durationTime = '';\r\n                        break;\r\n                }\r\n\r\n                if(n.appInstances.length===0){\r\n                    n.durationTime = '';\r\n                }else{\r\n                    nodes[index-1].durationTime = me.calcTimeDiff(new Date(n.startTime),new Date(n.endTime));\r\n                }\r\n                n.appInstances.map(function (inst) {\r\n                    inst.crtTime = FormatDate(new Date(inst.crtTime),'yyyy/MM/dd  hh:mm:ss');\r\n                });\r\n            });\r\n            this.bigProcessNodes = nodes;\r\n          });\r\n      },\r\n      calcTimeDiff:function (startDate,endDate) {\r\n        \r\n           //结束时间\r\n        var date3=endDate.getTime()-startDate.getTime();  //时间差的毫秒数\r\n          //计算出相差天数\r\n        var days=Math.floor(date3/(24*3600*1000));\r\n        \r\n        //计算出小时数\r\n        var leave1=date3%(24*3600*1000);  //计算天数后剩余的毫秒数\r\n        var hours=Math.floor(leave1/(3600*1000));\r\n        //计算相差分钟数\r\n        var leave2=leave1%(3600*1000);        //计算小时数后剩余的毫秒数\r\n        var minutes=Math.floor(leave2/(60*1000));\r\n        //计算相差秒数\r\n        var leave3=leave2%(60*1000);      //计算分钟数后剩余的毫秒数\r\n        var seconds=Math.round(leave3/1000);\r\n\r\n        if(days>0){\r\n            return days+\"天\"+hours+\"小时\";\r\n        }else{\r\n            return hours+\"小时\" +minutes+\"分\";\r\n        }\r\n        \r\n      },\r\n      viewDetail:function (transCode) {\r\n          window.open('/Form/index.html?data='+ transCode);\r\n      }\r\n  },\r\n   created() {\r\n    this.getBigProcessInfo();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.n{\r\n    float: left;\r\n    margin-bottom: 50px;\r\n}\r\n.nodePro{\r\n\r\n\twidth: 150px;\r\n    text-align: center;\r\n    float: left;\r\n}\r\n.order {\r\n    line-height: 40px;\r\n    text-align: center;\r\n    padding-top: 5%;\r\n    width: 95%;\r\n    margin: 0 auto;\r\n}\r\n.order .line {\r\n  display: inline-block;\r\n  width: 20px;\r\n  border-top: 2px solid #1e88e5;\r\n}\r\n.order .txt {\r\n  color: #686868;\r\n  vertical-align: middle;\r\n}\r\n.appName{\r\n    font-size: 18px;\r\n    font-family: cursive;\r\n}\r\n.dian_r {\r\n  position: relative;\r\n  left: -6px;\r\n  top: 9px;\r\n  font-size: 30px;\r\n  color: #1e88e5;\r\n}\r\n.dian_l{\r\n\tposition: relative;\r\n  left: 6px;\r\n  top: 9px;\r\n  font-size: 30px;\r\n  color: #1e88e5;\r\n}\r\n.num{\r\n    display: inline-block;\r\n}\r\n\r\n.lines{\r\n   position: relative;\r\n    right: -75px;\r\n    top: 32px;\r\n    height: 1px;\r\n}\r\n.transitem{\r\n    text-align: center;\r\n    line-height: 20px;\r\n}\r\n\r\n.schedule{\r\n   width: 40px;\r\n    height: 40px;\r\n    text-align: center;\r\n    background-color: red;\r\n    border-radius: 40px;\r\n    color: white;\r\n    font-size: 14px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.verticalbar{\r\n    width: 2px;\r\n    background-color: #1e88e5;\r\n    height: 30px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.trans{\r\n    width: 80%;\r\n    height: 80px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.trans-kuan{\r\n    height: 8px;\r\n    border: 1px solid #1e88e5;\r\n    border-bottom-style: none;\r\n\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/bigProcess.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{staticClass:\"order\"},_vm._l((_vm.bigProcessNodes),function(node,index){return _c('div',{key:index,staticClass:\"n\"},[(node.durationTime)?_c('div',{staticClass:\"lines\"},[_c('span',{staticClass:\"dian_l\"},[_vm._v(\"•\")]),_vm._v(\" \"),_c('span',{staticClass:\"line\"}),_vm._v(\" \"),_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(node.durationTime))]),_vm._v(\" \"),_c('span',{staticClass:\"line\"}),_vm._v(\" \"),_c('span',{staticClass:\"dian_r\"},[_vm._v(\"•\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"nodePro\"},[_c('div',{staticClass:\"appName\"},[_c('strong',[_vm._v(_vm._s(node.procedure))])]),_vm._v(\" \"),_c('div',{staticClass:\"schedule \",style:({ backgroundColor: node.color })},[_c('span',[_vm._v(_vm._s(node.schedule)+\"%\")])]),_vm._v(\" \"),(node.appInstances.length>0)?_c('div',{staticClass:\"verticalbar\"}):_vm._e(),_vm._v(\" \"),(node.appInstances.length>0)?_c('div',{staticClass:\"trans\"},[_c('div',{staticClass:\"trans-kuan\"}),_vm._v(\" \"),_vm._l((node.appInstances),function(instance,index){return _c('div',{key:index,staticClass:\"transitem\"},[_c('p',[_c('a',{staticStyle:{\"color\":\"#1e88e5\"},on:{\"click\":function($event){_vm.viewDetail(instance.transCode)}}},[_vm._v(_vm._s(instance.transCode))])]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(instance.crtTime))])])})],2):_vm._e()])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-13ab67b6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/bigProcess.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-13ab67b6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./bigProcess.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./bigProcess.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./bigProcess.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-13ab67b6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./bigProcess.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/bigProcess.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
{"source":"webpackJsonp([28],{jZLQ:function(t,a,e){\"use strict\";e.d(a,\"d\",function(){return s}),e.d(a,\"e\",function(){return i}),e.d(a,\"g\",function(){return o}),e.d(a,\"b\",function(){return r}),e.d(a,\"c\",function(){return l}),e.d(a,\"a\",function(){return c}),e.d(a,\"f\",function(){return u});var n=e(\"7B+g\"),s=function(t,a){return Object(n.a)(\"/H_roleplay-si/filing/query\",{folderPath:t,dir:a})},i=function(t){return Object(n.a)(\"/H_roleplay-si/filing/info\",{id:t})},o=function(t,a){return Object(n.a)(\"/H_roleplay-si/filing/rename\",{srcPath:t,newName:a},\"POST\")},r=function(t){return Object(n.a)(\"/H_roleplay-si/filing/mkdir\",{folderPath:t},\"POST\")},l=function(t){return Object(n.a)(\"/H_roleplay-si/filing/delete\",{path:t},\"POST\")},c=function(t,a){return Object(n.a)(\"/H_roleplay-si/filing/copy\",{path:t,toPath:a},\"POST\")},u=function(t,a){return Object(n.a)(\"/H_roleplay-si/filing/move\",{path:t,toPath:a},\"POST\")}},nZ2P:function(t,a,e){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var n=e(\"jZLQ\"),s={name:\"fileCabinetList\",data:function(){return{subareaName:\"\",filePath:\"\",searchValue:\"\",modalTitle:\"分区重命名\",showModal:!1,isAdd:!0,showSubareaModal:!1,columns:[{title:\"名称\",slot:\"name\",width:400},{title:\"权限\",key:\"authority\"},{title:\"管理员\",key:\"creator\"},{title:\"时间\",key:\"crtTime\"}],data:[],subareaInformation:{}}},methods:{fileFilter:function(){},openSubarea:function(t){this.$router.push({path:\"/fileCabinet/detail/\"+t.id})},renameSubarea:function(t){this.showModal=!0,this.subareaName=t.name,this.modalTitle=\"分区重命名\",this.isAdd=!1,this.filePath=t.path},subareaInfo:function(t){this.subareaInformation=t,this.showSubareaModal=!0},addNewSubarea:function(){this.showModal=!0,this.subareaName=\"\",this.modalTitle=\"新建分区\",this.isAdd=!0},getAllFileData:function(){var a=this;Object(n.d)(\"root\").then(function(t){a.data=t}).catch(function(t){a.$Message.error(t.data.message)})},confirmRename:function(){var a=this;this.subareaName&&(this.isAdd?Object(n.b)(this.subareaName).then(function(t){t.success&&(a.$Message.success(t.message),a.getAllFileData())}).catch(function(t){a.$Message.error(t.data.message)}):Object(n.g)(this.filePath,this.subareaName).then(function(t){t.success&&(a.$Message.success(t.message),a.getAllFileData())}).catch(function(t){a.$Message.error(t.data.message)}))},deleteSubarea:function(t){var a=this;t.path&&this.$Modal.confirm({title:\"确认\",content:\"确认删除\"+t.name+\"？\",onOk:function(){Object(n.c)(t.path).then(function(t){t.success&&(a.$Message.success(t.message),a.getAllFileData())}).catch(function(t){a.$Message.error(t.data.message)})}})}},mounted:function(){this.getAllFileData()}},i=e(\"rD09\"),o=e.n(i);var r=function(t){e(\"z4vj\")},l=e(\"VU/8\")(s,o.a,!1,r,\"data-v-7e14c076\",null);a.default=l.exports},rD09:function(t,a){t.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"file\"},[e._m(0),e._v(\" \"),n(\"div\",{staticClass:\"toolbar\"},[n(\"span\",[e._v(\"分区\")]),e._v(\" \"),n(\"Button\",{staticClass:\"toolbar-btn\",on:{click:e.addNewSubarea}},[e._v(\"新建分区\")])],1),e._v(\" \"),n(\"div\",{staticClass:\"subarea\"},[n(\"Table\",{attrs:{columns:e.columns,data:e.data,\"highlight-row\":\"\"},on:{\"on-row-dblclick\":e.openSubarea},scopedSlots:e._u([{key:\"name\",fn:function(t){var a=t.row;return[n(\"Icon\",{staticClass:\"subarea-icon\",attrs:{type:\"ios-grid\"}}),e._v(\" \"),n(\"strong\",[e._v(e._s(a.name))]),e._v(\" \"),n(\"Poptip\",{staticStyle:{float:\"right\"},attrs:{trigger:\"hover\",placement:\"right-start\"}},[n(\"span\",{staticClass:\"subarea-more\"},[n(\"Icon\",{attrs:{type:\"ios-arrow-dropright-circle\"}})],1),e._v(\" \"),n(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[n(\"ul\",{staticClass:\"subarea-menu\"},[n(\"li\",{on:{click:function(t){e.openSubarea(a)}}},[e._v(\"打开\")]),e._v(\" \"),n(\"li\",{on:{click:function(t){e.renameSubarea(a)}}},[e._v(\"重命名\")]),e._v(\" \"),n(\"li\",{on:{click:function(t){e.subareaInfo(a)}}},[e._v(\"分区信息\")]),e._v(\" \"),n(\"li\",{on:{click:function(t){e.deleteSubarea(a)}}},[e._v(\"删除\")])])])])]}}])})],1),e._v(\" \"),n(\"Modal\",{attrs:{title:e.modalTitle},on:{\"on-ok\":e.confirmRename},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:\"showModal\"}},[n(\"span\",[n(\"b\",{staticStyle:{color:\"#e4393c\"}},[e._v(\"*\")]),e._v(\"名称：\")]),e._v(\" \"),n(\"Input\",{staticStyle:{width:\"300px\"},attrs:{placeholder:\"请输入名称\",autofocus:\"\"},model:{value:e.subareaName,callback:function(t){e.subareaName=t},expression:\"subareaName\"}})],1),e._v(\" \"),n(\"Modal\",{attrs:{width:\"300\",title:\"分区信息\"},model:{value:e.showSubareaModal,callback:function(t){e.showSubareaModal=t},expression:\"showSubareaModal\"}},[n(\"ul\",{staticClass:\"subarea-info\"},[n(\"li\",[e._v(\"分区名称：\"+e._s(e.subareaInformation.name))]),e._v(\" \"),n(\"li\",[e._v(\"大小：\"+e._s(e.subareaInformation.size))]),e._v(\" \"),n(\"li\",[e._v(\"可用空间：\"+e._s(e.subareaInformation.size))]),e._v(\" \"),n(\"li\",[e._v(\"权限：\"+e._s(e.subareaInformation.authority))])]),e._v(\" \"),n(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"})])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a(\"div\",{staticClass:\"file-header\"},[a(\"span\",[this._v(\"文件柜\")])])}]}},z4vj:function(t,a){}});"}
{"version":3,"sources":["webpack:///src/views/addressBook/organization/instance/higher-organization.vue","webpack:///./src/views/addressBook/organization/instance/higher-organization.vue?848d","webpack:///./src/views/addressBook/organization/instance/higher-organization.vue","webpack:///src/views/addressBook/organization/instance/lower-origanization.vue","webpack:///./src/views/addressBook/organization/instance/lower-origanization.vue?81e3","webpack:///./src/views/addressBook/organization/instance/lower-origanization.vue","webpack:///src/views/addressBook/organization/instance/member-info.vue","webpack:///./src/views/addressBook/organization/instance/member-info.vue?5d8a","webpack:///./src/views/addressBook/organization/instance/member-info.vue","webpack:///src/views/addressBook/organization/instance/principal.vue","webpack:///./src/views/addressBook/organization/instance/principal.vue?f527","webpack:///./src/views/addressBook/organization/instance/principal.vue","webpack:///src/views/addressBook/organization/instance/permission.vue","webpack:///./src/views/addressBook/organization/instance/permission.vue?2f13","webpack:///./src/views/addressBook/organization/instance/permission.vue","webpack:///src/views/addressBook/organization/organization.vue","webpack:///./src/views/addressBook/organization/organization.vue?c1bc","webpack:///./src/views/addressBook/organization/organization.vue","webpack:///src/views/addressBook/organization/instance/CustomTable.vue","webpack:///./src/views/addressBook/organization/instance/CustomTable.vue?7632","webpack:///./src/views/addressBook/organization/instance/CustomTable.vue"],"names":["higher_organization","CustomTable","MemberModal","Modal","String","groupId","groupType","status","value","currentPage","currentRow","pageSize","val","listUserCurrentPage","_this","this","_this2","filter","total","tableContent","instance_higher_organization","render","_vm","_h","$createElement","_c","_self","attrs","apiUrl","columns","highOrgColumns","apiParams","highOrganizationParams","on","on-refesh-change","onRefeshChange","model","callback","$$v","reload","expression","staticClass","slot","click","showHighOrgModal","_v","width","footerBtnAlign","title","on-ok","saveSelectionHighOrg","isShowMemberModal","staticStyle","margin-top","ref","loading","listUserLoading","highOrgColumnsModal","data","listUserData","size","highlight-row","on-current-change","onSelectUserList","margin","overflow","float","listUserPageTotal","current","page-size","show-total","show-elevator","on-change","listUserChangePage","staticRenderFns","organization_instance_higher_organization","__webpack_require__","normalizeComponent","ssrContext","lower_origanization","operator","property","depFunction","message","selection","_this3","_this4","instance_lower_origanization","lowerOrgColumns","lowOrganizationParams","on-selection-change","onSelectionChange","showLoverOrgModal","deleteLoverOrg","saveSelectionLowerOrg","lowerOrgColumnsModel","onSelectLowerUser","organization_instance_lower_origanization","lower_origanization_normalizeComponent","member_info","gender","h","Object","addressBookService","params","row","userId","then","res","instance_member_info","memberInfoColumns","memberInfoParams","showMemberModal","deleteMemberInfo","exportData","saveSelectionUser","memberInfoColumnsModel","organization_instance_member_info","member_info_normalizeComponent","principal","instance_principal","principallumns","principalParams","organization_instance_principal","principal_normalizeComponent","permission","id","getAllPermissionData","node","name","instance_permission","permissionColumns","permissionParams","addPermission","deletePermission","savePermission","isShowModal","max-height","allPermissionData","multiple","load-data","loadData","on-select-change","onCheckChange","organization_instance_permission","permission_normalizeComponent","organization","HighOrganization","LowerOrganization","MemberInfo","Principal","Permission","index","resetFields","getElementsByClassName","style","height","tabsMaxHight","maxHeight","groupName","comment","organization_organization","color","cursor","goBack","margin-left","_s","formItem","directives","rawName","_e","_l","item","hidden","key","class","actionIndex","$event","handlerViewChange","padding","src","imgPath","number","label","labelWidth","font-size","$set","type","autosize","minRows","maxRows","cancle","save","saveAndAdd","on-high-organization-change","handleChangeObjDetailsCount","on-lower-organization-change","on-member-info-change","on-permission-change","organization_Component","organization_normalizeComponent","__webpack_exports__","Array","Boolean","instance_CustomTable","_t","columnsData","pageTotal","show-sizer","changeCurrentPage","on-page-size-change","onPageSizeChange","Component"],"mappings":"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","file":"static/js/2.9a13135f2faa57fd6714.js","sourcesContent":["<style lang=\"less\" scoped>\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getParentGroupByGroupId\" :columns=\"highOrgColumns\" :apiParams=\"highOrganizationParams\" v-model=\"reload\" @on-refesh-change='onRefeshChange'>\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"showHighOrgModal\">上级组织</label>\r\n        <span>-选择上级用户</span>\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowMemberModal\" width=\"1000\" footerBtnAlign=\"right\" title=\"选择用户\" @on-ok=\"saveSelectionHighOrg\">\r\n      <div style=\"margin-top:10px;\">\r\n        <Table :loading=\"listUserLoading\" :columns=\"highOrgColumnsModal\" :data=\"listUserData\" size='small' highlight-row ref=\"currentRowTable\" @on-current-change=\"onSelectUserList\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-change=\"listUserChangePage\" show-total show-elevator></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport { saveHighOrg, getAllGroup } from \"@/services/addressBookService.js\";\r\nimport CustomTable from \"./CustomTable\";\r\nexport default {\r\n  name: \"higher-organization\",\r\n\r\n  components: {\r\n    CustomTable,\r\n    MemberModal\r\n  },\r\n\r\n  props: {\r\n    groupId: {\r\n      type: String\r\n    },\r\n    groupType: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      //上级组织\r\n      highOrganizationParams: {\r\n        groupId: this.groupId,\r\n        page: 1,\r\n        limit: 8\r\n      },\r\n      highOrgColumns: [\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"组织名称\",\r\n          key: \"groupName\"\r\n        },\r\n        {\r\n          title: \"组织类型\",\r\n          key: \"groupType\",\r\n          render: (h, params) => {\r\n            let groupType = params.row.groupType;\r\n            switch (groupType) {\r\n              case \"M\":\r\n                groupType = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                groupType = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                groupType = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                groupType = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", groupType);\r\n          }\r\n        },\r\n        {\r\n          title: \"部门职能类型\",\r\n          key: \"depFunction\",\r\n          render: (h, params) => {\r\n            let groupType = params.row.groupType;\r\n            switch (groupType) {\r\n              case \"M\":\r\n                groupType = \"管理\";\r\n                break;\r\n              case \"S\":\r\n                groupType = \"销售\";\r\n                break;\r\n              case \"C\":\r\n                groupType = \"制造\";\r\n                break;\r\n              case \"R\":\r\n                groupType = \"研发\";\r\n                break;\r\n            }\r\n            return h(\"span\", groupType);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织状态\",\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status,\r\n              value = \"\";\r\n            switch (status) {\r\n              case 0:\r\n                value = \"停用\";\r\n                break;\r\n              case 1:\r\n                value = \"使用中\";\r\n                break;\r\n              case 2:\r\n                value = \"未使用\";\r\n                break;\r\n              case 3:\r\n                value = \"草稿\";\r\n                break;\r\n            }\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              value\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"组织说明\",\r\n          key: \"comment\"\r\n        }\r\n      ],\r\n\r\n      highOrgColumnsModal: [\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"组织名称\",\r\n          key: \"groupName\"\r\n        },\r\n        {\r\n          title: \"组织类型\",\r\n          key: \"groupType\"\r\n        },\r\n        {\r\n          title: \"部门职能类型\",\r\n          key: \"depFunction\"\r\n        },\r\n        {\r\n          title: \"组织状态\",\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status,\r\n              value = \"\";\r\n            switch (status) {\r\n              case 0:\r\n                value = \"停用\";\r\n                break;\r\n              case 1:\r\n                value = \"使用中\";\r\n                break;\r\n              case 2:\r\n                value = \"未使用\";\r\n                break;\r\n              case 3:\r\n                value = \"草稿\";\r\n                break;\r\n            }\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              value\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"组织说明\",\r\n          key: \"comment\"\r\n        }\r\n      ],\r\n\r\n      isShowMemberModal: false,\r\n      listUserLoading: false,\r\n      listUserData: [],\r\n      listUserPageTotal: 0,\r\n      listUserCurrentPage: 1,\r\n      pageSize: 8,\r\n\r\n      reload: false,\r\n      onSelectionModal: []\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    listUserChangePage(currentPage) {\r\n      this.getAllGroup(currentPage);\r\n    },\r\n\r\n    //监听模态框选中的用户\r\n    onSelectUserList(currentRow, oldCurrentRow) {\r\n      this.onSelectionModal = currentRow;\r\n    },\r\n\r\n    //显示模态框-添加上级组织\r\n    showMemberModal() {\r\n      this.isShowMemberModal = true;\r\n      this.getListUsers(this.listUserCurrentPage, this.pageSize);\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //显示上级组织模态框\r\n    showHighOrgModal() {\r\n      this.isShowMemberModal = true;\r\n      this.getAllGroup(this.listUserCurrentPage);\r\n    },\r\n\r\n    //添加上级组织\r\n    saveSelectionHighOrg() {\r\n      let parentId = \"\";\r\n      parentId = this.onSelectionModal.groupId;\r\n      saveHighOrg(parentId, this.groupId).then(res => {\r\n        if (res.success) {\r\n          this.$Message.success(\"保存成功\");\r\n          this.isShowMemberModal = false;\r\n          this.reload = true;\r\n          this.$emit(\"on-high-organization-change\", true);\r\n        }\r\n      });\r\n    },\r\n\r\n    getAllGroup(currentPage) {\r\n      this.listUserLoading = true;\r\n      let filter = [];\r\n      if (this.groupType) {\r\n        switch (this.groupType) {\r\n          case \"小组\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"岗位\",\r\n              property: \"groupType\"\r\n            }); //岗位\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            break;\r\n          case \"部门\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"岗位\",\r\n              property: \"groupType\"\r\n            }); //岗位\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            break;\r\n          case \"事业部\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"岗位\",\r\n              property: \"groupType\"\r\n            }); //岗位\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"事业部\",\r\n              property: \"groupType\"\r\n            }); //事业部\r\n            break;\r\n        }\r\n        filter = JSON.stringify(filter);\r\n      }\r\n      getAllGroup(currentPage, this.pageSize, filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.listUserPageTotal = res.summary.total;\r\n          this.listUserData = res.tableContent;\r\n          this.listUserLoading = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/higher-organization.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getParentGroupByGroupId\",\"columns\":_vm.highOrgColumns,\"apiParams\":_vm.highOrganizationParams},on:{\"on-refesh-change\":_vm.onRefeshChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.showHighOrgModal}},[_vm._v(\"上级组织\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-选择上级用户\")])])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"1000\",\"footerBtnAlign\":\"right\",\"title\":\"选择用户\"},on:{\"on-ok\":_vm.saveSelectionHighOrg},model:{value:(_vm.isShowMemberModal),callback:function ($$v) {_vm.isShowMemberModal=$$v},expression:\"isShowMemberModal\"}},[_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('Table',{ref:\"currentRowTable\",attrs:{\"loading\":_vm.listUserLoading,\"columns\":_vm.highOrgColumnsModal,\"data\":_vm.listUserData,\"size\":\"small\",\"highlight-row\":\"\"},on:{\"on-current-change\":_vm.onSelectUserList}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.listUserPageTotal,\"current\":_vm.listUserCurrentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":_vm.listUserChangePage}})],1)])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f54c4fb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/higher-organization.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f54c4fb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./higher-organization.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./higher-organization.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./higher-organization.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f54c4fb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./higher-organization.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f54c4fb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/higher-organization.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getAllGroup\" :columns=\"lowerOrgColumns\" :apiParams=\"lowOrganizationParams\" v-model=\"reload\" @on-refesh-change='onRefeshChange' @on-selection-change=\"onSelectionChange\">\r\n\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"showLoverOrgModal\">添加下级组织</label>\r\n        <span>-添加下级组织</span>\r\n\r\n        <label @click=\"deleteLoverOrg\">删除下级组织</label>\r\n        <span>-删除下级组织</span>\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowMemberModal\" width=\"1000\" footerBtnAlign=\"right\" title=\"选择用户\" @on-ok=\"saveSelectionLowerOrg\">\r\n      <div style=\"margin-top:10px;\">\r\n        <Table :loading=\"listUserLoading\" :columns=\"lowerOrgColumnsModel\" :data=\"listUserData\" size='small' ref=\"selection\" @on-selection-change=\"onSelectLowerUser\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-change=\"listUserChangePage\" show-total show-elevator></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport CustomTable from \"./CustomTable\";\r\nimport {\r\n  saveBatchChildGroup,\r\n  deleteBatchGroup,\r\n  getAllGroup\r\n} from \"@/services/addressBookService.js\";\r\nexport default {\r\n  name: \"lower-organization\",\r\n\r\n  components: {\r\n    CustomTable,\r\n    MemberModal\r\n  },\r\n\r\n  props: {\r\n    groupId: {\r\n      type: String\r\n    },\r\n    groupType: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      //下级组织\r\n      lowOrganizationParams: {\r\n        filter: JSON.stringify([\r\n          { operator: \"eq\", value: this.groupId, property: \"parentId\" }\r\n        ]),\r\n        page: 1,\r\n        limit: 8\r\n      },\r\n      lowerOrgColumns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"组织名称\",\r\n          key: \"groupName\"\r\n        },\r\n        {\r\n          title: \"组织类型\",\r\n          key: \"groupType\",\r\n          render: (h, params) => {\r\n            let groupType = params.row.groupType;\r\n            switch (groupType) {\r\n              case \"M\":\r\n                groupType = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                groupType = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                groupType = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                groupType = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", groupType);\r\n          }\r\n        },\r\n        {\r\n          title: \"部门职能类型\",\r\n          key: \"depFunction\",\r\n          render: (h, params) => {\r\n            let depFunction = params.row.depFunction;\r\n            switch (depFunction) {\r\n              case \"M\":\r\n                depFunction = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                depFunction = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                depFunction = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                depFunction = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", depFunction);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织状态\",\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status,\r\n              value = \"\";\r\n            switch (status) {\r\n              case 0:\r\n                value = \"停用\";\r\n                break;\r\n              case 1:\r\n                value = \"使用中\";\r\n                break;\r\n              case 2:\r\n                value = \"未使用\";\r\n                break;\r\n              case 3:\r\n                value = \"草稿\";\r\n                break;\r\n            }\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              value\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"组织说明\",\r\n          key: \"comment\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 120,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Button\",\r\n              {\r\n                props: {\r\n                  type: \"error\",\r\n                  size: \"small\"\r\n                },\r\n                style: {\r\n                  cursor: \"pointer\",\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: \"确认\",\r\n                      content: \"确认删除此组织？\",\r\n                      onOk: () => {\r\n                        let del = { groupId: params.row.groupId, parentId: \"\" };\r\n                        deleteBatchGroup(del).then(res => {\r\n                          if (res.success) {\r\n                            this.$Message.success(res.message);\r\n                            this.reload = true;\r\n                            this.$emit(\"on-lower-organization-change\", true);\r\n                          }\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              },\r\n              \"删除\"\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      lowerOrgColumnsModel: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"组织名称\",\r\n          key: \"groupName\"\r\n        },\r\n        {\r\n          title: \"组织类型\",\r\n          key: \"groupType\",\r\n          render: (h, params) => {\r\n            let groupType = params.row.groupType;\r\n            switch (groupType) {\r\n              case \"M\":\r\n                groupType = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                groupType = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                groupType = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                groupType = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", groupType);\r\n          }\r\n        },\r\n        {\r\n          title: \"部门职能类型\",\r\n          key: \"depFunction\",\r\n          render: (h, params) => {\r\n            let depFunction = params.row.depFunction;\r\n            switch (depFunction) {\r\n              case \"M\":\r\n                depFunction = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                depFunction = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                depFunction = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                depFunction = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", depFunction);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织状态\",\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status,\r\n              value = \"\";\r\n            switch (status) {\r\n              case 0:\r\n                value = \"停用\";\r\n                break;\r\n              case 1:\r\n                value = \"使用中\";\r\n                break;\r\n              case 2:\r\n                value = \"未使用\";\r\n                break;\r\n              case 3:\r\n                value = \"草稿\";\r\n                break;\r\n            }\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              value\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"组织说明\",\r\n          key: \"comment\"\r\n        }\r\n      ],\r\n\r\n      isShowMemberModal: false,\r\n      listUserLoading: false,\r\n      listUserData: [],\r\n      listUserPageTotal: 0,\r\n      listUserCurrentPage: 1,\r\n      pageSize: 8,\r\n      deleteBtnDisable: true,\r\n      reload: false,\r\n      onSelectionModal: [],\r\n      selectDeleteLowerOrg: []\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    listUserChangePage(currentPage) {\r\n      this.getAllGroup(currentPage);\r\n    },\r\n\r\n    //监听模态框选中的用户\r\n    onSelectLowerUser(currentRow) {\r\n      this.onSelectionModal = currentRow;\r\n    },\r\n\r\n    //选中的下级组织信息\r\n    onSelectionChange(selection) {\r\n      if (selection.length > 0) {\r\n        this.deleteBtnDisable = false;\r\n        this.selectDeleteLowerOrg = selection;\r\n      } else {\r\n        this.deleteBtnDisable = true;\r\n      }\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //显示上级组织模态框\r\n    showLoverOrgModal() {\r\n      this.isShowMemberModal = true;\r\n      this.getAllGroup(this.listUserCurrentPage);\r\n    },\r\n\r\n    //添加组织\r\n    saveSelectionLowerOrg() {\r\n      let childrenId = [];\r\n      this.onSelectionModal.forEach(val => {\r\n        childrenId.push(val.groupId);\r\n      });\r\n      saveBatchChildGroup(this.groupId, childrenId.join(\",\")).then(res => {\r\n        if (res.success) {\r\n          this.$Message.success(\"保存成功\");\r\n          this.isShowMemberModal = false;\r\n          this.reload = true;\r\n          this.$emit(\"on-lower-organization-change\", true);\r\n        }\r\n      });\r\n    },\r\n    //删除下级组织\r\n    deleteLoverOrg() {\r\n      let delData = [];\r\n      this.selectDeleteLowerOrg.forEach(val => {\r\n        delData.push({ groupId: val.groupId, parentId: \"\" });\r\n      });\r\n      if (delData) {\r\n        deleteBatchGroup(delData).then(res => {\r\n          if (res.success) {\r\n            this.$Message.success(res.message);\r\n            this.reload = true;\r\n            this.$emit(\"on-lower-organization-change\", true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    getAllGroup(currentPage) {\r\n      this.listUserLoading = true;\r\n      let filter = [];\r\n      if (this.groupType) {\r\n        switch (this.groupType) {\r\n          case \"小组\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"事业部\",\r\n              property: \"groupType\"\r\n            }); //事业部\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"管理层\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            break;\r\n          case \"部门\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"事业部\",\r\n              property: \"groupType\"\r\n            }); //事业部\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"管理层\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            break;\r\n          case \"事业部\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"事业部\",\r\n              property: \"groupType\"\r\n            }); //事业部\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"管理层\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            break;\r\n        }\r\n        filter = JSON.stringify(filter);\r\n      }\r\n      getAllGroup(currentPage, this.pageSize, filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.listUserPageTotal = res.summary.total;\r\n          this.listUserData = res.tableContent;\r\n        }\r\n        this.listUserLoading = false;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/lower-origanization.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getAllGroup\",\"columns\":_vm.lowerOrgColumns,\"apiParams\":_vm.lowOrganizationParams},on:{\"on-refesh-change\":_vm.onRefeshChange,\"on-selection-change\":_vm.onSelectionChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.showLoverOrgModal}},[_vm._v(\"添加下级组织\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-添加下级组织\")]),_vm._v(\" \"),_c('label',{on:{\"click\":_vm.deleteLoverOrg}},[_vm._v(\"删除下级组织\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-删除下级组织\")])])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"1000\",\"footerBtnAlign\":\"right\",\"title\":\"选择用户\"},on:{\"on-ok\":_vm.saveSelectionLowerOrg},model:{value:(_vm.isShowMemberModal),callback:function ($$v) {_vm.isShowMemberModal=$$v},expression:\"isShowMemberModal\"}},[_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('Table',{ref:\"selection\",attrs:{\"loading\":_vm.listUserLoading,\"columns\":_vm.lowerOrgColumnsModel,\"data\":_vm.listUserData,\"size\":\"small\"},on:{\"on-selection-change\":_vm.onSelectLowerUser}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.listUserPageTotal,\"current\":_vm.listUserCurrentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":_vm.listUserChangePage}})],1)])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-11718010\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/lower-origanization.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-11718010\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./lower-origanization.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./lower-origanization.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./lower-origanization.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-11718010\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./lower-origanization.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-11718010\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/lower-origanization.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\r\n.permission-container-btn-export {\r\n  float: right;\r\n}\r\n\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n</style>\r\n\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getUsersByGroupId\" :columns=\"memberInfoColumns\" :apiParams=\"memberInfoParams\" v-model=\"reload\" @on-selection-change=\"onSelectionChange\" @on-refesh-change='onRefeshChange'>\r\n      <!-- <div slot=\"header\">\r\n        <Button icon=\"md-add\" type=\"primary\" @click=\"showMemberModal\">添加成员</Button>\r\n        <Button icon=\"md-remove\" type=\"info\" @click=\"deleteMemberInfo\" :disabled=\"deleteBtnDisable\">移除成员</Button>\r\n        <Button icon=\"ios-download-outline\" type=\"primary\" class=\"permission-container-btn-export\" @click=\"exportData\">导出</Button>\r\n      </div> -->\r\n\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"showMemberModal\">添加成员</label>\r\n        <span>-添加成员</span>\r\n\r\n        <label @click=\"deleteMemberInfo\">移除成员</label>\r\n        <span>-移除成员</span>\r\n\r\n        <label @click=\"exportData\" class=\"permission-container-btn-export\">导出</label>\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowMemberModal\" width=\"1000\" footerBtnAlign=\"right\" title=\"选择用户\" @on-ok=\"saveSelectionUser\">\r\n      <div style=\"margin-top:10px;\">\r\n        <Table :loading=\"listUserLoading\" :columns=\"memberInfoColumnsModel\" :data=\"listUserData\" size='small' ref=\"selection\" @on-selection-change=\"onSelectUserList\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-change=\"listUserChangePage\" show-total show-elevator></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport {\r\n  listUsers,\r\n  addOrgMember,\r\n  deleteOrgMember\r\n} from \"@/services/addressBookService.js\";\r\nimport CustomTable from \"./CustomTable\";\r\nexport default {\r\n  name: \"member-info\",\r\n\r\n  components: {\r\n    MemberModal,\r\n    CustomTable\r\n  },\r\n\r\n  props: {\r\n    groupId: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      memberInfoLoading: false,\r\n      memberInfoParams: {\r\n        groupId: this.groupId,\r\n        page: 1,\r\n        limit: 8\r\n      },\r\n      memberInfoColumns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"工号\",\r\n          width: 100,\r\n          key: \"userCode\"\r\n        },\r\n        {\r\n          title: \"姓名\",\r\n          width: 100,\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n          width: 60,\r\n          render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"手机号\",\r\n          key: \"mobile\"\r\n        },\r\n        {\r\n          title: \"状态\",\r\n          width: 60,\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status;\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              status ? \"在职\" : \"离职\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"创建者\",\r\n          key: \"creator\",\r\n          width: 100\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"crtTime\"\r\n        },\r\n        {\r\n          title: \"修改时间\",\r\n          key: \"changeTime\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 120,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Button\",\r\n              {\r\n                props: {\r\n                  type: \"error\",\r\n                  size: \"small\"\r\n                },\r\n                style: {\r\n                  cursor: \"pointer\",\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: \"确认\",\r\n                      content: \"确认删除该成员？\",\r\n                      onOk: () => {\r\n                        deleteOrgMember(\r\n                          this.groupId,\r\n                          params.row.userId,\r\n                          0\r\n                        ).then(res => {\r\n                          if (res.success) {\r\n                            this.$Message.success(res.message);\r\n                            this.reload = true;\r\n                            this.$emit(\"on-member-info-change\", true);\r\n                          }\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              },\r\n              \"删除\"\r\n            );\r\n          }\r\n        }\r\n      ],\r\n      memberInfoColumnsModel: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"工号\",\r\n          width: 100,\r\n          key: \"userCode\"\r\n        },\r\n        {\r\n          title: \"姓名\",\r\n          width: 100,\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n          width: 60,\r\n          render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"手机号\",\r\n          key: \"mobile\"\r\n        },\r\n        {\r\n          title: \"状态\",\r\n          width: 60,\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status;\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              status ? \"在职\" : \"离职\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"创建者\",\r\n          key: \"creator\",\r\n          width: 100\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          key: \"crtTime\"\r\n        },\r\n        {\r\n          title: \"修改时间\",\r\n          key: \"changeTime\"\r\n        }\r\n      ],\r\n\r\n      //模态框参数\r\n      isShowMemberModal: false,\r\n      listUserLoading: false,\r\n      listUserData: [],\r\n      listUserPageTotal: 0,\r\n      listUserCurrentPage: 1,\r\n      pageSize: 8,\r\n\r\n      //模态框参数\r\n      onSelectionModal: [],\r\n      selectDeleteMemberInfo: [],\r\n      reload: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    //选中的成员信息\r\n    onSelectionChange(selection) {\r\n      if (selection.length > 0) {\r\n        this.selectDeleteMemberInfo = selection;\r\n      }\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //监听模态框选中的用户\r\n    onSelectUserList(selection) {\r\n      this.onSelectionModal = selection;\r\n    },\r\n\r\n    //保存选中的用户\r\n    saveSelectionUser() {\r\n      let multiId = [];\r\n      this.onSelectionModal.forEach(val => {\r\n        multiId.push(val.userId);\r\n      });\r\n      if (multiId) {\r\n        addOrgMember(this.groupId, multiId.join(\",\"), 1).then(res => {\r\n          if (res.success) {\r\n            this.$Message.success(res.message);\r\n            this.reload = true;\r\n            this.isShowMemberModal = false;\r\n            this.$emit(\"on-member-info-change\", true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    deleteMemberInfo() {\r\n      let multiId = [];\r\n      this.selectDeleteMemberInfo.forEach(val => {\r\n        multiId.push(val.userId);\r\n      });\r\n      if (multiId) {\r\n        deleteOrgMember(this.groupId, multiId.join(\",\"), 0).then(res => {\r\n          if (res.success) {\r\n            this.$Message.success(res.message);\r\n            this.reload = true;\r\n            this.$emit(\"on-member-info-change\", true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    //获取用户列表\r\n    getListUsers(currentPage, pageSize) {\r\n      this.listUserLoading = true;\r\n      listUsers(currentPage, pageSize).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.listUserPageTotal = res.summary.total;\r\n          this.listUserData = res.tableContent;\r\n          this.listUserLoading = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    listUserChangePage(currentPage) {\r\n      this.getListUsers(currentPage, this.pageSize);\r\n    },\r\n\r\n    //显示模态框-添加成员\r\n    showMemberModal() {\r\n      this.isShowMemberModal = true;\r\n      this.getListUsers(this.listUserCurrentPage, this.pageSize);\r\n    },\r\n    //成员信息导出xmls\r\n    exportData() {\r\n      this.$refs.selection.exportCsv({\r\n        filename: \"成员信息\"\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/member-info.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getUsersByGroupId\",\"columns\":_vm.memberInfoColumns,\"apiParams\":_vm.memberInfoParams},on:{\"on-selection-change\":_vm.onSelectionChange,\"on-refesh-change\":_vm.onRefeshChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.showMemberModal}},[_vm._v(\"添加成员\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-添加成员\")]),_vm._v(\" \"),_c('label',{on:{\"click\":_vm.deleteMemberInfo}},[_vm._v(\"移除成员\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-移除成员\")]),_vm._v(\" \"),_c('label',{staticClass:\"permission-container-btn-export\",on:{\"click\":_vm.exportData}},[_vm._v(\"导出\")])])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"1000\",\"footerBtnAlign\":\"right\",\"title\":\"选择用户\"},on:{\"on-ok\":_vm.saveSelectionUser},model:{value:(_vm.isShowMemberModal),callback:function ($$v) {_vm.isShowMemberModal=$$v},expression:\"isShowMemberModal\"}},[_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('Table',{ref:\"selection\",attrs:{\"loading\":_vm.listUserLoading,\"columns\":_vm.memberInfoColumnsModel,\"data\":_vm.listUserData,\"size\":\"small\"},on:{\"on-selection-change\":_vm.onSelectUserList}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.listUserPageTotal,\"current\":_vm.listUserCurrentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":_vm.listUserChangePage}})],1)])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b0e23d42\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/member-info.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b0e23d42\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./member-info.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./member-info.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./member-info.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b0e23d42\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./member-info.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b0e23d42\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/member-info.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <custom-table apiUrl=\"/ds/getPrincipalByGroupId\" :columns=\"principallumns\" :apiParams=\"principalParams\">\r\n        </custom-table>\r\n\r\n        <!-- <member-modal v-model=\"isShowModal\" width=\"1000\" footerBtnAlign=\"right\" title=\"选择用户\" @on-ok=\"addUser\">\r\n            <div>\r\n                <Table :loading=\"listUserLoading\" :columns=\"highOrgColumns\" :data=\"listUserData\" size='small' ref=\"selection\"></Table>\r\n                <div style=\"margin: 10px;overflow: hidden\">\r\n                    <div style=\"float: right;\">\r\n                        <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-change=\"listUserChangePage\" show-total show-elevator></Page>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </member-modal> -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport CustomTable from \"./CustomTable\";\r\nexport default {\r\n  name: \"principal\",\r\n\r\n  components: {\r\n    CustomTable\r\n  },\r\n\r\n  props:{\r\n      groupId:{\r\n          type:String\r\n      }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      principalParams: {\r\n        groupId: this.groupId,\r\n        page: 1,\r\n        limit: 8\r\n      },\r\n      principallumns: [\r\n        {\r\n          title: \"名称\",\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n           render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"联系电话\",\r\n          key: \"phone\"\r\n        }\r\n      ]\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/principal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getPrincipalByGroupId\",\"columns\":_vm.principallumns,\"apiParams\":_vm.principalParams}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e606233\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/principal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0e606233\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./principal.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./principal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./principal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e606233\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./principal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/principal.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getObjectPermission2Oneself\" :columns=\"permissionColumns\" :apiParams=\"permissionParams\" v-model=\"reload\" @on-selection-change=\"onSelectionChange\" @on-refesh-change='onRefeshChange'>\r\n      <!-- <div slot=\"header\" class=\"permission-container-btn\">\r\n        <Button icon=\"md-add\" type=\"primary\" @click=\"addPermission\">添加权限</Button>\r\n        <Button icon=\"md-remove\" type=\"info\" @click=\"deletePermission\" :disabled=\"deleteBtnDisable\">移除权限</Button>\r\n      </div> -->\r\n\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"addPermission\">添加权限</label>\r\n        <span>-添加权限</span>\r\n\r\n        <label @click=\"deletePermission\">移除权限</label>\r\n        <span>-移除权限</span>\r\n\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowModal\" width=\"600\" footerBtnAlign=\"right\" title=\"权限列表\" @on-ok=\"savePermission\">\r\n      <div style=\"max-height:350px;overflow:auto;\">\r\n        <Tree :data=\"allPermissionData\" :multiple=\"true\" @on-select-change=\"onCheckChange\" :load-data=\"loadData\"></Tree>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport {\r\n  getAllPermissionData,\r\n  addOrgPermission,\r\n  deleteOrgPermission\r\n} from \"@/services/addressBookService.js\";\r\nimport CustomTable from \"./CustomTable\";\r\nexport default {\r\n  name: \"principal\",\r\n\r\n  components: {\r\n    CustomTable,\r\n    MemberModal\r\n  },\r\n\r\n  props: {\r\n    groupId: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      permissionParams: {\r\n        objectName: \"group\",\r\n        objectId: this.groupId,\r\n        page: 1,\r\n        limit: 8,\r\n        start: 0\r\n      },\r\n      permissionColumns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          type: \"index\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"id\",\r\n          key: \"id\",\r\n          hidden: true\r\n        },\r\n        {\r\n          title: \"名称\",\r\n          key: \"name\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 120,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Button\",\r\n              {\r\n                props: {\r\n                  type: \"error\",\r\n                  size: \"small\"\r\n                },\r\n                style: {\r\n                  cursor: \"pointer\",\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: \"确认\",\r\n                      content: \"确认删除该权限？\",\r\n                      onOk: () => {\r\n                        deleteOrgPermission(\r\n                          this.groupId,\r\n                          params.row.id\r\n                        ).then(res => {\r\n                          if (res.success) {\r\n                            this.$Message.success(res.message);\r\n                            this.reload = true;\r\n                            this.isShowModal = false;\r\n                            this.$emit(\"on-permission-change\", true);\r\n                          }\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              },\r\n              \"删除\"\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      //模态框参数\r\n      isShowModal: false,\r\n      allPermissionData: [],\r\n      selectPermissionNode: [],\r\n      selectDeletePermission: [],\r\n      reload: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    listUserChangePage(currentPage) {\r\n      this.getListUsers(currentPage, this.pageSize);\r\n    },\r\n\r\n    addPermission() {\r\n      this.isShowModal = true;\r\n      this.getAllPermissionData();\r\n    },\r\n\r\n    deletePermission() {\r\n      let that = this;\r\n      let multiId = [];\r\n      this.selectDeletePermission.forEach(val => {\r\n        multiId.push(val.id);\r\n      });\r\n      if (multiId) {\r\n        deleteOrgPermission(this.groupId, multiId.join(\",\")).then(res => {\r\n          if (res.success) {\r\n            that.$Message.success(res.message);\r\n            that.reload = true;\r\n            that.isShowModal = false;\r\n            this.$emit(\"on-permission-change\", true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    onSelectionChange(selection) {\r\n      if (selection.length > 0) {\r\n        this.selectDeletePermission = selection;\r\n      }\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //点击节点选择权限\r\n    onCheckChange(node) {\r\n      this.selectPermissionNode = node;\r\n    },\r\n\r\n    //保存添加的权限\r\n    savePermission() {\r\n      let multiId = [];\r\n      this.selectPermissionNode.forEach(val => {\r\n        multiId.push(val.id);\r\n      });\r\n      if (multiId) {\r\n        addOrgPermission(this.groupId, multiId.join(\",\")).then(res => {\r\n          if (res.success) {\r\n            this.$Message.success(res.message);\r\n            this.selectPermissionNode = [];\r\n            this.reload = true;\r\n            this.isShowModal = false;\r\n            this.$emit(\"on-permission-change\", true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    //加载所有权限数据\r\n    getAllPermissionData() {\r\n      if (this.allPermissionData.length === 0) {\r\n        getAllPermissionData(0).then(res => {\r\n          res.tableContent.forEach(val => {\r\n            this.allPermissionData.push({\r\n              title: val.name,\r\n              id: val.id,\r\n              loading: false,\r\n              children: []\r\n            });\r\n          });\r\n        });\r\n      }\r\n    },\r\n\r\n    //异步加载权限数据\r\n    loadData(item, callback) {\r\n      getAllPermissionData(item.id).then(res => {\r\n        let data = [];\r\n        res.tableContent.forEach(val => {\r\n          if (val.leaf === \"false\") {\r\n            data.push({\r\n              title: val.name,\r\n              id: val.id,\r\n              loading: false,\r\n              children: []\r\n            });\r\n          } else {\r\n            data.push({\r\n              title: val.name,\r\n              id: val.id\r\n            });\r\n          }\r\n        });\r\n        callback(data);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/permission.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getObjectPermission2Oneself\",\"columns\":_vm.permissionColumns,\"apiParams\":_vm.permissionParams},on:{\"on-selection-change\":_vm.onSelectionChange,\"on-refesh-change\":_vm.onRefeshChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.addPermission}},[_vm._v(\"添加权限\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-添加权限\")]),_vm._v(\" \"),_c('label',{on:{\"click\":_vm.deletePermission}},[_vm._v(\"移除权限\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-移除权限\")])])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"600\",\"footerBtnAlign\":\"right\",\"title\":\"权限列表\"},on:{\"on-ok\":_vm.savePermission},model:{value:(_vm.isShowModal),callback:function ($$v) {_vm.isShowModal=$$v},expression:\"isShowModal\"}},[_c('div',{staticStyle:{\"max-height\":\"350px\",\"overflow\":\"auto\"}},[_c('Tree',{attrs:{\"data\":_vm.allPermissionData,\"multiple\":true,\"load-data\":_vm.loadData},on:{\"on-select-change\":_vm.onCheckChange}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4b2080d2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/permission.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4b2080d2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./permission.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./permission.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./permission.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4b2080d2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./permission.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4b2080d2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/permission.vue\n// module id = null\n// module chunks = ","<style lang=\"less\">\r\n@import \"./organization.less\";\r\n</style>\r\n\r\n<template>\r\n  <div class=\"organization-wrap\">\r\n    <header class=\"organization-wrap-header\">\r\n      <h2 v-if=\"groupId\">\r\n        <span style=\"color:#4CAF50;cursor:pointer\" @click=\"goBack\">组织</span>\r\n        <span style=\"color:#808080;margin-left:10px\">/</span>\r\n        <span style=\"color:#808080;margin-left:10px\">{{formItem.groupName}}</span>\r\n        <span style=\"color:#808080;margin-left:10px\">/</span>\r\n        <span style=\"color:#808080;margin-left:10px\">{{groupId}}</span>\r\n        <Tag class=\"radius10 marlr10 color_fff\" v-instanceStateDirective=\"{status:formItem.status,color:'#eb2f96'}\"></Tag>\r\n      </h2>\r\n      <h2 v-if=\"!groupId\">\r\n        <span style=\"color:#4CAF50\">添加组织</span>\r\n        <span style=\"color:#808080;margin-left:10px\">/</span>\r\n        <span style=\"color:#808080;margin-left:10px\">创建</span>\r\n      </h2>\r\n    </header>\r\n\r\n    <div class=\"organization-wrap-action\">\r\n      <ul>\r\n        <li v-for=\"(item,index) in actionBtn\" :key=\"index\" v-if=\"!item.hidden\" class=\"organization-wrap-action-li\" v-bind:class=\"index===actionIndex?'organization-wrap-action-li-active':''\" @click=\"handlerViewChange(index)\">\r\n          <div style=\"padding:5px 0\">\r\n            <img :src=\"item.imgPath\" class=\"organization-wrap-action-li-img\"><img>\r\n            <div class=\"left-content\">\r\n              <span v-show=\"item.number!=='undefine'\">{{item.number}}</span>\r\n              <h3>{{item.label}}</h3>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"organization-wrap-tabs\">\r\n      <!-- 基本信息 -->\r\n      <section class=\"baseinfo-container rfd-tab-container-common\" v-if=\"actionIndex===5\">\r\n        <Form :model=\"formItem\" :labelWidth=\"100\" ref=\"formItem\">\r\n          <FormItem label=\"组织名称:\" style=\"font-size:16px\">\r\n            <Input v-model=\"formItem.groupName\" />\r\n          </FormItem>\r\n          <FormItem label=\"组织状态\" :labelWidth=\"100\">\r\n            <Select v-model=\"formItem.status\">\r\n              <Option v-for=\"(item,index) in statusRadio\" :key=\"index\" :value=\"item.value\">{{item.name}}</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <FormItem label=\"组织类型\" :labelWidth=\"100\">\r\n            <RadioGroup v-model=\"formItem.groupType\">\r\n              <Radio label=\"M\">管理层</Radio>\r\n              <Radio label=\"A\">事业部</Radio>\r\n              <Radio label=\"O\">部门</Radio>\r\n              <Radio label=\"G\">小组</Radio>\r\n            </RadioGroup>\r\n          </FormItem>\r\n          <FormItem label=\"部门职能类型\" :labelWidth=\"100\" v-if=\"formItem.groupType ==='O'\">\r\n            <RadioGroup v-model=\"formItem.depFunction\">\r\n              <Radio label=\"M\">管理</Radio>\r\n              <Radio label=\"S\">销售</Radio>\r\n              <Radio label=\"C\">制造</Radio>\r\n              <Radio label=\"R\">研发</Radio>\r\n            </RadioGroup>\r\n          </FormItem>\r\n          <FormItem label=\"组织说明\" :labelWidth=\"100\">\r\n            <Input v-model=\"formItem.comment\" type=\"textarea\" :autosize=\"{minRows: 3,maxRows: 5}\" />\r\n          </FormItem>\r\n        </Form>\r\n        <div class=\"baseinfo-container-action\">\r\n          <input type='submit' value=\"取消\" class=\"baseinfo-container-action-submit\" @click=\"cancle\" />\r\n          <input type='submit' value=\"保存\" class=\"baseinfo-container-action-submit\" @click=\"save\" />\r\n          <input type='submit' value=\"保存并添加\" class=\"baseinfo-container-action-submit\" v-if=\"!groupId\" @click=\"saveAndAdd\" />\r\n        </div>\r\n      </section>\r\n      <!-- 上级组织 -->\r\n      <section class=\"memberinfo-container rfd-tab-container-common\" v-if=\"actionIndex===4\">\r\n        <high-organization :groupId=\"groupId\" :groupType=\"formItem.groupType\" @on-high-organization-change='handleChangeObjDetailsCount'></high-organization>\r\n      </section>\r\n      <!-- 下级组织 -->\r\n      <section class=\"memberinfo-container rfd-tab-container-common\" v-if=\"actionIndex===3\">\r\n        <lower-organization :groupId=\"groupId\" :groupType=\"formItem.groupType\" @on-lower-organization-change='handleChangeObjDetailsCount'></lower-organization>\r\n      </section>\r\n      <!-- 负责人 -->\r\n      <section class=\"memberinfo-container rfd-tab-container-common\" v-if=\"actionIndex===2\">\r\n        <principal :groupId=\"groupId\"></principal>\r\n      </section>\r\n      <!-- 成员信息 -->\r\n      <section class=\"memberinfo-container rfd-tab-container-common\" v-if=\"actionIndex===1\">\r\n        <member-info :groupId=\"groupId\" @on-member-info-change='handleChangeObjDetailsCount'></member-info>\r\n      </section>\r\n      <!-- 权限 -->\r\n      <section class=\"permission-container rfd-tab-container-common\" v-if=\"actionIndex===0\">\r\n        <permission :groupId=\"groupId\" @on-permission-change='handleChangeObjDetailsCount'></permission>\r\n      </section>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getOrgBaseInfo,\r\n  getObjDetailsCountByGroupId,\r\n  saveBaseinfo,\r\n  updateBaseinfo\r\n} from \"@/services/addressBookService.js\";\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport HighOrganization from \"./instance/higher-organization\";\r\nimport LowerOrganization from \"./instance/lower-origanization\";\r\nimport MemberInfo from \"./instance/member-info\";\r\nimport Principal from \"./instance/principal\";\r\nimport Permission from \"./instance/permission\";\r\nexport default {\r\n  name: \"organization\",\r\n\r\n  components: {\r\n    MemberModal,\r\n    HighOrganization,\r\n    LowerOrganization,\r\n    MemberInfo,\r\n    Principal,\r\n    Permission\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      formItem: {\r\n        groupName: \"\",\r\n        groupType: \"\",\r\n        depFunction: \"\",\r\n        comment: \"\",\r\n        status: 1\r\n      },\r\n      groupType: \"\",\r\n\r\n      statusRadio: [\r\n        {\r\n          name: \"停用\",\r\n          value: 0\r\n        },\r\n        {\r\n          name: \"使用中\",\r\n          value: 1\r\n        },\r\n        {\r\n          name: \"未使用\",\r\n          value: 2\r\n        },\r\n        {\r\n          name: \"草稿\",\r\n          value: 3\r\n        }\r\n      ],\r\n\r\n      actionBtn: [\r\n        {\r\n          label: \"权限\",\r\n          imgPath: \"resources/images/icon/2_0.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"objectPermission\"\r\n        },\r\n        {\r\n          label: \"成员信息\",\r\n          imgPath: \"resources/images/icon/user.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"user\"\r\n        },\r\n        {\r\n          label: \"负责人\",\r\n          imgPath: \"resources/images/icon/user.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"groupPrincipal\"\r\n        },\r\n        {\r\n          label: \"下级组织\",\r\n          imgPath: \"resources/images/icon/organization.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"childGroup\"\r\n        },\r\n        {\r\n          label: \"上级组织\",\r\n          imgPath: \"resources/images/icon/organization.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"parentGroup\"\r\n        },\r\n        {\r\n          label: \"基本信息\",\r\n          imgPath: \"resources/images/icon/organization.png\",\r\n          hidden: false,\r\n          id: \"baseinfo\"\r\n        }\r\n      ],\r\n      actionIndex: 5,\r\n\r\n      groupId: this.$route.params.groupId\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handlerViewChange(index) {\r\n      this.actionIndex = index;\r\n    },\r\n\r\n    cancle() {\r\n      this.$router.push({\r\n        path: \"addressBook/organization/board\"\r\n      });\r\n    },\r\n\r\n    saveAndAdd() {\r\n      if (!this.groupId) {\r\n        delete this.formItem.groupId;\r\n        if (this.formItem.groupType === \"O\") {\r\n          this.formItem.depFunction = \"\";\r\n        }\r\n        saveBaseinfo(this.formItem).then(res => {\r\n          if (res) {\r\n            this.$Message.success(\"保存成功\");\r\n            this.$refs[\"formItem\"].resetFields();\r\n            this.formItem = {\r\n              groupName: \"\",\r\n              groupType: \"\",\r\n              depFunction: \"\",\r\n              comment: \"\",\r\n              status: 1\r\n            };\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    save() {\r\n      if (this.formItem.groupType === \"O\") {\r\n        this.formItem.depFunction = \"\";\r\n      }\r\n      if (!this.groupId) {\r\n        delete this.formItem.groupId;\r\n        saveBaseinfo(this.formItem).then(res => {\r\n          if (res) {\r\n            this.$Message.success(\"保存成功\");\r\n            this.$router.push({ path: \"/addressBook/organization/detail/\"+res.groupId });\r\n            window.location.reload();\r\n          }\r\n        });\r\n      }else{\r\n        this.formItem.groupId = this.groupId;\r\n        updateBaseinfo(this.formItem).then(res => {\r\n          if (res) {\r\n            this.$Message.success(\"保存成功\");\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    getObjDetailsCountByGroupId(groupId) {\r\n      getObjDetailsCountByGroupId(groupId).then(res => {\r\n        this.actionBtn.forEach(element => {\r\n          element.number = res[element.id];\r\n        });\r\n      });\r\n    },\r\n\r\n    handleChangeObjDetailsCount(val) {\r\n      if (val) {\r\n        this.getObjDetailsCountByGroupId(this.groupId);\r\n      }\r\n    },\r\n\r\n    goBack() {\r\n      this.$router.push({\r\n        path: \"/addressBook/organization/board\"\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    let tabsMaxHight = document.body.clientHeight - 95;\r\n\r\n    window.document.getElementsByClassName(\r\n      \"organization-wrap-tabs\"\r\n    )[0].style.height =\r\n      tabsMaxHight + \"px\";\r\n\r\n    window.document.getElementsByClassName(\r\n      \"organization-wrap-tabs\"\r\n    )[0].style.maxHeight =\r\n      tabsMaxHight + \"px\";\r\n\r\n    let filter = JSON.stringify([\r\n      { operator: \"eq\", value: this.groupId, property: \"groupId\" }\r\n    ]);\r\n    if (this.groupId) {\r\n      getOrgBaseInfo(filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          let tableContent = res.tableContent[0];\r\n          this.formItem.groupName = tableContent.groupName;\r\n          this.formItem.groupType = tableContent.groupType;\r\n          this.formItem.depFunction = tableContent.depFunction;\r\n          this.formItem.status = tableContent.status;\r\n          this.formItem.comment = tableContent.comment;\r\n          switch (tableContent.groupType) {\r\n            case \"M\":\r\n              this.groupType = \"管理层\";\r\n              break;\r\n            case \"A\":\r\n              this.groupType = \"事业部\";\r\n              break;\r\n            case \"O\":\r\n              this.groupType = \"部门\";\r\n              break;\r\n            case \"G\":\r\n              this.groupType = \"小组\";\r\n              break;\r\n          }\r\n        }\r\n      });\r\n      this.getObjDetailsCountByGroupId(this.groupId);\r\n    } else if (!this.groupId && this.$route.name == \"add\") {\r\n      this.actionBtn.forEach(element => {\r\n        if (element.id !== \"baseinfo\") {\r\n          element.hidden = true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/organization.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organization-wrap\"},[_c('header',{staticClass:\"organization-wrap-header\"},[(_vm.groupId)?_c('h2',[_c('span',{staticStyle:{\"color\":\"#4CAF50\",\"cursor\":\"pointer\"},on:{\"click\":_vm.goBack}},[_vm._v(\"组织\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#808080\",\"margin-left\":\"10px\"}},[_vm._v(\"/\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#808080\",\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm.formItem.groupName))]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#808080\",\"margin-left\":\"10px\"}},[_vm._v(\"/\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#808080\",\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm.groupId))]),_vm._v(\" \"),_c('Tag',{directives:[{name:\"instanceStateDirective\",rawName:\"v-instanceStateDirective\",value:({status:_vm.formItem.status,color:'#eb2f96'}),expression:\"{status:formItem.status,color:'#eb2f96'}\"}],staticClass:\"radius10 marlr10 color_fff\"})],1):_vm._e(),_vm._v(\" \"),(!_vm.groupId)?_c('h2',[_c('span',{staticStyle:{\"color\":\"#4CAF50\"}},[_vm._v(\"添加组织\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#808080\",\"margin-left\":\"10px\"}},[_vm._v(\"/\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#808080\",\"margin-left\":\"10px\"}},[_vm._v(\"创建\")])]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"organization-wrap-action\"},[_c('ul',_vm._l((_vm.actionBtn),function(item,index){return (!item.hidden)?_c('li',{key:index,staticClass:\"organization-wrap-action-li\",class:index===_vm.actionIndex?'organization-wrap-action-li-active':'',on:{\"click\":function($event){_vm.handlerViewChange(index)}}},[_c('div',{staticStyle:{\"padding\":\"5px 0\"}},[_c('img',{staticClass:\"organization-wrap-action-li-img\",attrs:{\"src\":item.imgPath}}),_c('img'),_vm._v(\" \"),_c('div',{staticClass:\"left-content\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.number!=='undefine'),expression:\"item.number!=='undefine'\"}]},[_vm._v(_vm._s(item.number))]),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(item.label))])])])]):_vm._e()}))]),_vm._v(\" \"),_c('div',{staticClass:\"organization-wrap-tabs\"},[(_vm.actionIndex===5)?_c('section',{staticClass:\"baseinfo-container rfd-tab-container-common\"},[_c('Form',{ref:\"formItem\",attrs:{\"model\":_vm.formItem,\"labelWidth\":100}},[_c('FormItem',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"label\":\"组织名称:\"}},[_c('Input',{model:{value:(_vm.formItem.groupName),callback:function ($$v) {_vm.$set(_vm.formItem, \"groupName\", $$v)},expression:\"formItem.groupName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"组织状态\",\"labelWidth\":100}},[_c('Select',{model:{value:(_vm.formItem.status),callback:function ($$v) {_vm.$set(_vm.formItem, \"status\", $$v)},expression:\"formItem.status\"}},_vm._l((_vm.statusRadio),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}))],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"组织类型\",\"labelWidth\":100}},[_c('RadioGroup',{model:{value:(_vm.formItem.groupType),callback:function ($$v) {_vm.$set(_vm.formItem, \"groupType\", $$v)},expression:\"formItem.groupType\"}},[_c('Radio',{attrs:{\"label\":\"M\"}},[_vm._v(\"管理层\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"A\"}},[_vm._v(\"事业部\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"O\"}},[_vm._v(\"部门\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"G\"}},[_vm._v(\"小组\")])],1)],1),_vm._v(\" \"),(_vm.formItem.groupType ==='O')?_c('FormItem',{attrs:{\"label\":\"部门职能类型\",\"labelWidth\":100}},[_c('RadioGroup',{model:{value:(_vm.formItem.depFunction),callback:function ($$v) {_vm.$set(_vm.formItem, \"depFunction\", $$v)},expression:\"formItem.depFunction\"}},[_c('Radio',{attrs:{\"label\":\"M\"}},[_vm._v(\"管理\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"S\"}},[_vm._v(\"销售\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"C\"}},[_vm._v(\"制造\")]),_vm._v(\" \"),_c('Radio',{attrs:{\"label\":\"R\"}},[_vm._v(\"研发\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"组织说明\",\"labelWidth\":100}},[_c('Input',{attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 3,maxRows: 5}},model:{value:(_vm.formItem.comment),callback:function ($$v) {_vm.$set(_vm.formItem, \"comment\", $$v)},expression:\"formItem.comment\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"baseinfo-container-action\"},[_c('input',{staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\",\"value\":\"取消\"},on:{\"click\":_vm.cancle}}),_vm._v(\" \"),_c('input',{staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\",\"value\":\"保存\"},on:{\"click\":_vm.save}}),_vm._v(\" \"),(!_vm.groupId)?_c('input',{staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\",\"value\":\"保存并添加\"},on:{\"click\":_vm.saveAndAdd}}):_vm._e()])],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===4)?_c('section',{staticClass:\"memberinfo-container rfd-tab-container-common\"},[_c('high-organization',{attrs:{\"groupId\":_vm.groupId,\"groupType\":_vm.formItem.groupType},on:{\"on-high-organization-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===3)?_c('section',{staticClass:\"memberinfo-container rfd-tab-container-common\"},[_c('lower-organization',{attrs:{\"groupId\":_vm.groupId,\"groupType\":_vm.formItem.groupType},on:{\"on-lower-organization-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===2)?_c('section',{staticClass:\"memberinfo-container rfd-tab-container-common\"},[_c('principal',{attrs:{\"groupId\":_vm.groupId}})],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===1)?_c('section',{staticClass:\"memberinfo-container rfd-tab-container-common\"},[_c('member-info',{attrs:{\"groupId\":_vm.groupId},on:{\"on-member-info-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===0)?_c('section',{staticClass:\"permission-container rfd-tab-container-common\"},[_c('permission',{attrs:{\"groupId\":_vm.groupId},on:{\"on-permission-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3a67be21\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/organization.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3a67be21\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./organization.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./organization.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./organization.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3a67be21\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./organization.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/organization.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"rfd-cs\">\r\n    <header class=\"rfd-cs-header\">\r\n      <slot name=\"header\"></slot>\r\n    </header>\r\n    <div class=\"rfd-cs-table\">\r\n      <Table :loading=\"loading\" :columns=\"columns\" :data=\"columnsData\" ref=\"selection\" @on-selection-change='onSelectionChange'></Table>\r\n    </div>\r\n    <div class=\"rfd-cs-table\">\r\n      <div style=\"float: right;\">\r\n        <Page :total=\"pageTotal\" :current=\"currentPage\" :page-size=\"pageSize\" size=\"small\" @on-change=\"changeCurrentPage\" @on-page-size-change=\"onPageSizeChange\" show-total show-elevator show-sizer></Page>\r\n      </div>\r\n    </div>\r\n    <footer class=\"rfd-cs-footer\">\r\n      <slot name=\"footer\"></slot>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTableData } from \"@/services/addressBookService.js\";\r\n\r\nexport default {\r\n  name: \"CustomTable\",\r\n\r\n  props: {\r\n    columns: {\r\n      type: Array\r\n    },\r\n\r\n    apiUrl: {\r\n      type: String\r\n    },\r\n    apiParams: {\r\n      type: Object\r\n    },\r\n\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      pageTotal: 0,\r\n      currentPage: 1,\r\n      pageSize: 8,\r\n      loading: false,\r\n      columnsData: []\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value(val) {\r\n      if (val) {\r\n        this.getTableData(this.apiParams);\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    changeCurrentPage(currentPage) {\r\n      let params = this.apiParams;\r\n      params.page = currentPage;\r\n      this.getTableData(params);\r\n    },\r\n\r\n    onSelectionChange(selection) {\r\n      this.$emit(\"on-selection-change\", selection);\r\n    },\r\n\r\n    //点击切换每页显示条数\r\n    onPageSizeChange(size) {\r\n      let params = this.apiParams;\r\n      params.limit = size;\r\n      this.getTableData(params);\r\n    },\r\n\r\n    getTableData(params) {\r\n      this.loading = true;\r\n      getTableData(this.apiUrl, params).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.pageTotal = res.summary.total;\r\n          this.columnsData = res.tableContent;\r\n          if (this.value) {\r\n            this.$emit(\"on-refesh-change\", false);\r\n          }\r\n        }\r\n        this.loading = false;\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getTableData(this.apiParams);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.rfd-cs {\r\n  width: 100%;\r\n  min-height: 500px;\r\n  background-color: #fff;\r\n  padding: 20px 20px;\r\n\r\n  &-header {\r\n    .ivu-btn-primary {\r\n      background-color: #2db7f5;\r\n      border-color: #2db7f5;\r\n    }\r\n  }\r\n\r\n  &-table {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  &-page {\r\n    margin: 10px;\r\n    overflow: hidden;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/CustomTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rfd-cs\"},[_c('header',{staticClass:\"rfd-cs-header\"},[_vm._t(\"header\")],2),_vm._v(\" \"),_c('div',{staticClass:\"rfd-cs-table\"},[_c('Table',{ref:\"selection\",attrs:{\"loading\":_vm.loading,\"columns\":_vm.columns,\"data\":_vm.columnsData},on:{\"on-selection-change\":_vm.onSelectionChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"rfd-cs-table\"},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.pageTotal,\"current\":_vm.currentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changeCurrentPage,\"on-page-size-change\":_vm.onPageSizeChange}})],1)]),_vm._v(\" \"),_c('footer',{staticClass:\"rfd-cs-footer\"},[_vm._t(\"footer\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f5a57496\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/CustomTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f5a57496\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CustomTable.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f5a57496\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CustomTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/CustomTable.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
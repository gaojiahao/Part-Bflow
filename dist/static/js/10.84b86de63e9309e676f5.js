webpackJsonp([10,11],{"40Y/":function(t,e){},"65ec":function(t,e){},BLn5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Gu7T"),i=a.n(n),s=a("mvHQ"),o=a.n(s),c={name:"flowTaskNotice",props:{data:{}},methods:{handleViewDetail:function(){this.data.tempContent.transCode&&window.open("/Form/index.html?data="+this.data.tempContent.transCode)}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"msg-comment"},[a("div",{staticClass:"msg-comment-title"},[a("Icon",{attrs:{type:"ios-notifications-outline",size:18,color:"red"}}),t._v(" "),"taskCreate"==t.data.noticeSource?a("span",[t._v(" 工作流-新任务通知")]):t._e(),t._v(" "),"taskTransfer"==t.data.noticeSource?a("span",[t._v("工作流-转办任务通知")]):t._e(),t._v(" "),t.data.noticeSource.includes("taskComplete")?a("span",[t._v("工作流-任务已办通知")]):t._e(),t._v(" "),t.data.noticeSource.includes("taskInformed")?a("span",[t._v("知会通知")]):t._e(),t._v(" "),"taskRetract"==t.data.noticeSource||"taskStop"==t.data.noticeSource?a("span",[t._v("工作流-任务取消通知")]):t._e()],1),t._v(" "),a("div",{staticClass:"msg-comment-content"},[a("p",[t._v("实例编码:"),a("a",{on:{click:t.handleViewDetail}},[t._v(t._s(t.data.tempContent.transCode))])]),t._v(" "),a("p",[t._v("节点名称:"+t._s(t.data.tempContent.name))]),t._v(" "),a("p",[t._v("任务编码:"+t._s(t.data.relationKey))]),t._v(" "),"taskComplete"==t.data.noticeSource||"taskRetract"==t.data.noticeSource||"taskStop"==t.data.noticeSource?a("p",[t._v("操作名称:"+t._s(t.data.tempContent.operation))]):t._e(),t._v(" "),"taskTransfer"!=t.data.noticeSource?a("p",[t._v("执行者:"+t._s(t.data.tempContent.executor))]):t._e(),t._v(" "),"taskTransfer"==t.data.noticeSource?a("p",[t._v("转出者:"+t._s(t.data.tempContent.executor))]):t._e(),t._v(" "),"taskTransfer"==t.data.noticeSource?a("p",[t._v("执行者:"+t._s(t.data.tempContent.transfer))]):t._e(),t._v(" "),a("p",[t._v("任务创建时间:"+t._s(t.data.tempContent.taskCrtTime))]),t._v(" "),t.data.noticeSource.includes("taskComplete")||t.data.noticeSource.includes("taskRetract")||t.data.noticeSource.includes("taskStop")?a("p",[t._v("\n            任务截至时间:"+t._s(t.data.tempContent.cplTime)+"\n           \n        ")]):t._e(),t._v(" "),t.data.noticeSource.includes("taskComplete")||t.data.noticeSource.includes("taskRetract")||t.data.noticeSource.includes("taskStop")?a("p",[t._v("\n            任务历时: "),a("span",{directives:[{name:"overTimeDirective",rawName:"v-overTimeDirective",value:{startTime:t.data.tempContent.taskCrtTime,endTime:t.data.tempContent.cplTime},expression:"{startTime:data.tempContent.taskCrtTime, endTime:data.tempContent.cplTime}"}]})]):t._e(),t._v(" "),a("p",[t._v("实例创建者:"+t._s(t.data.tempContent.starter))]),t._v(" "),a("p",[t._v("实例创建时间:"+t._s(t.data.tempContent.startTime))])])])},staticRenderFns:[]};var l=a("VU/8")(c,r,!1,function(t){a("gs9C")},"data-v-361f0d09",null).exports,d={name:"commentNoticeTpl",props:{data:{}},data:function(){return{imgModalVisible:!1,imgName:""}},methods:{handleViewDetail:function(){var t=void 0;switch(this.data.sourceContent.type){case"list":t="/Site/index.html#appSetting/"+this.data.sourceContent.relationKey;break;case"instance":t="/Form/index.html?data="+this.data.sourceContent.relationKey}t&&window.open(t)},handleViewImg:function(t){this.imgName=t,this.imgModalVisible=!0},handleViewFile:function(t){window.open(t.attachment)}},mounted:function(){},beforeMount:function(){}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-container",class:{noticefromme:t.data.creatorName===t.$currentUser.nickname}},[a("div",[t._v(t._s(t.data.crtTime))]),t._v(" "),a("div",[t.data.sourceContent.objContent||t.data.sourceContent.objAttachment?[a("div",{staticClass:"message-container-content"},[a("div",{staticClass:"message-container-creator"},[a("span",{staticClass:"notice-creator"},[t._v(t._s(t.data.creatorName))]),t._v("\n                    回复了\n                    "),"instance"===t.data.sourceContent.type?a("span",[t._v("实例")]):t._e(),t._v(" "),"list"===t.data.sourceContent.type?a("span",[t._v("应用")]):t._e(),t._v("\n                    的评论:\n                ")]),t._v(" "),a("span",{staticClass:"notice-container",domProps:{innerHTML:t._s(t.data.tempContent)}}),t._v(" "),a("div",{staticClass:"notice-container-relpy"},[a("div",{staticClass:"notice-container-relpy-content"},[a("span",{staticClass:"notice-creator"},[t._v("@"+t._s(t.data.sourceContent.objCreator))]),t._v(":\n                        "),"instance"===t.data.sourceContent.type?a("a",{staticClass:"notice-relationKey",on:{click:t.handleViewDetail}},[t._v(t._s(t.data.sourceContent.relationKey))]):t._e(),t._v(":\n                        "),a("span",{staticClass:"notice-container",domProps:{innerHTML:t._s(t.data.sourceContent.objContent)}}),t._v(" "),t._l(t.data.sourceContent.objAttachment,function(e,n){return"image"===e.type?a("div",{key:n,staticClass:"comimg"},[a("img",{attrs:{src:e.attachment?e.attachment:"resources/images/icon/defaultUserPhoto.png"}}),t._v(" "),a("div",{staticClass:"comimg-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleViewImg(e.attachment)}}})],1)]):t._e()}),t._v(" "),a("div",t._l(t.data.sourceContent.objAttachment,function(e,n){return"file"===e.type?a("p",{key:n},[a("a",{on:{click:function(a){t.handleViewFile(e)}}},[t._v(t._s(e.name)+"\n                                ")])]):t._e()}))],2)])])]:[a("div",{staticClass:"message-container-content"},[a("div",{staticClass:"message-container-creator "},[a("span",{staticClass:"notice-creator"},[t._v(t._s(t.data.creatorName)+":")]),t._v(" "),"instance"===t.data.sourceContent.type?a("span",[t._v("对实例 ")]):t._e(),t._v(" "),"list"===t.data.sourceContent.type?a("span",[t._v("对"),a("a",{on:{click:t.handleViewDetail}},[a("strong",[t._v("应用")])])]):t._e(),t._v(" "),"instance"===t.data.sourceContent.type?a("a",{staticClass:"notice-relationKey",on:{click:t.handleViewDetail}},[t._v(t._s(t.data.sourceContent.relationKey))]):t._e(),t._v("\n                发表了评论\n            ")]),t._v(" "),a("div",{domProps:{innerHTML:t._s(t.data.tempContent)}}),t._v(" "),a("div",{staticClass:"notice-comment-images"},t._l(t.data.sourceContent.attachment,function(e,n){return"image"===e.type?a("div",{key:n,staticClass:"comimg"},[a("img",{attrs:{src:e.attachment?e.attachment:"resources/images/icon/defaultUserPhoto.png"}}),t._v(" "),a("div",{staticClass:"comimg-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleViewImg(e.attachment)}}})],1)]):t._e()})),t._v(" "),a("div",{staticClass:"notice-comment-files"},t._l(t.data.sourceContent.attachment,function(e,n){return"file"===e.type?a("p",{key:n},[a("a",{on:{click:function(a){t.handleViewFile(e)}}},[t._v(t._s(e.name)+"\n                        ")])]):t._e()}))])]],2),t._v(" "),a("Modal",{attrs:{title:"查看图片",width:"60%"},model:{value:t.imgModalVisible,callback:function(e){t.imgModalVisible=e},expression:"imgModalVisible"}},[t.imgModalVisible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgName}}):t._e()])],1)},staticRenderFns:[]};var m=a("VU/8")(d,v,!1,function(t){a("YTvU")},"data-v-ee214c9a",null).exports,u={name:"praiseNoticeTpl",props:{data:{}},data:function(){return{imgModalVisible:!1,imgName:""}},methods:{handleViewDetail:function(){var t=void 0;switch(this.data.sourceContent.type){case"list":t="/Site/index.html#appSetting/"+this.data.sourceContent.relationKey;break;case"instance":t="/Form/index.html?data="+this.data.sourceContent.relationKey}t&&window.open(t)},handleViewImg:function(t){this.imgName=t,this.imgModalVisible=!0},handleViewFile:function(t){window.open(t.attachment)}},mounted:function(){},beforeMount:function(){}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-container",class:{noticefromme:t.data.creatorName===t.$currentUser.nickname}},[a("div",[t._v(t._s(t.data.crtTime))]),t._v(" "),a("div",{staticClass:"message-container-content"},[a("span",{staticClass:"notice-creator"},[t._v("\n            "+t._s(t.data.creatorName)+"\n        ")]),t._v("\n        :\n        "),a("span",["instance"===t.data.sourceContent.type?a("span",[t._v("对实例 ")]):t._e(),t._v(" "),"list"===t.data.sourceContent.type?a("span",[t._v("对应用")]):t._e(),t._v(" "),"instance"===t.data.sourceContent.type?a("a",{staticClass:"notice-relationKey",on:{click:t.handleViewDetail}},[t._v(t._s(t.data.sourceContent.relationKey))]):t._e(),t._v("\n            的评论发表了态度\n            "),a("Icon",{attrs:{type:"md-thumbs-up",size:"18",color:"#FF5722"}}),t._v(" "),a("div",{staticClass:"notice-container-comment"},[a("div",{staticClass:"notice-container-comment-content"},[a("span",{staticClass:"notice-creator"},[t._v("@"+t._s(t.data.sourceContent.creator))]),t._v(":\n                "),a("span",{domProps:{innerHTML:t._s(t.data.tempContent)}}),t._v(" "),a("div",{staticClass:"notice-comment-images"},t._l(t.data.sourceContent.attachment,function(e,n){return"image"===e.type?a("div",{key:n,staticClass:"comimg"},[a("img",{attrs:{src:e.attachment?e.attachment:"resources/images/icon/defaultUserPhoto.png"}}),t._v(" "),a("div",{staticClass:"comimg-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleViewImg(e.attachment)}}})],1)]):t._e()})),t._v(" "),a("div",{staticClass:"notice-comment-files"},t._l(t.data.sourceContent.attachment,function(e,n){return"file"===e.type?a("p",{key:n},[a("a",{on:{click:function(a){t.handleViewFile(e)}}},[t._v(t._s(e.name)+"\n                        ")])]):t._e()}))])])],1)]),t._v(" "),a("Modal",{attrs:{title:"查看图片",width:"60%"},model:{value:t.imgModalVisible,callback:function(e){t.imgModalVisible=e},expression:"imgModalVisible"}},[t.imgModalVisible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgName}}):t._e()])],1)},staticRenderFns:[]};var p=a("VU/8")(u,_,!1,function(t){a("ahE/")},"data-v-713ac214",null).exports,f={name:"ProStatusTpl",props:{data:""},methods:{handleViewDetail:function(){var t="/Form/index.html?data="+this.data.tempContent.transCode;window.open(t)}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-container",class:{noticefromme:t.data.creatorName===t.$currentUser.nickname}},[a("div",[t._v(t._s(t.data.crtTime))]),t._v(" "),a("div",[a("span",{staticClass:"message-container-content"},["processStatusChange"==t.data.noticeSource?a("span",{staticClass:"message-container-creator notice-creator"},[t._v(t._s(t.data.creatorName))]):t._e(),t._v(" "),"processStatusOvertime"==t.data.noticeSource?a("span",{staticClass:"message-container-creator notice-creator"},[t._v("路塔")]):t._e(),t._v("\n            :\n            "),a("a",{on:{click:t.handleViewDetail}},[t._v(t._s(t.data.tempContent.transCode))]),t._v("实例\n            "),"processStatusOvertime"==t.data.noticeSource?a("span",[t._v("有"+t._s(t.data.tempContent.delayHour)+"小时未更新状态,当前状态")]):t._e(),t._v(" "),a("strong",[t._v(t._s(t.data.tempContent.processStatus))])])])])},staticRenderFns:[]};var C=a("VU/8")(f,h,!1,function(t){a("Ragj")},"data-v-3265357a",null).exports,g={name:"instanceCreateNotice",props:{data:""},methods:{handleViewDetail:function(){var t="/Form/index.html?data="+this.data.tempContent.transCode;window.open(t)}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-container",class:{noticefromme:t.data.tempContent.creator===t.$currentUser.nickname}},[a("div",[t._v(t._s(t.data.tempContent.crtTime))]),t._v(" "),a("div",[a("span",{staticClass:"message-container-content"},[a("span",{staticClass:"message-container-creator notice-creator"},[t._v("路塔")]),t._v(" "),a("span",[t._v(":您有新的经办实例")]),t._v(" "),a("a",{on:{click:t.handleViewDetail}},[t._v(t._s(t.data.tempContent.transCode))]),t._v(" "),a("span",[t._v("当前状态")]),t._v(" "),a("strong",[t._v(t._s(t.data.tempContent.status))])])])])},staticRenderFns:[]};var b=a("VU/8")(g,y,!1,function(t){a("p3zA")},"data-v-0604c683",null).exports,w={name:"changeLogNotice",props:{data:""},methods:{handleViewDetail:function(){window.open("/Site/index.html#appSetting/"+this.data.listId)}}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-container",class:{noticefromme:t.data.tempContent.creator===t.$currentUser.nickname}},[a("div",[t._v(t._s(t.data.tempContent.crtTime))]),t._v(" "),a("div",[a("span",{staticClass:"message-container-content"},[a("span",{staticClass:"message-container-creator notice-creator"},[t._v(t._s(t.data.tempContent.creator))]),t._v(" "),a("span",[t._v(":应用有更新,点击")]),t._v(" "),a("a",{on:{click:t.handleViewDetail}},[t._v("了解")]),t._v("更多\n        ")])])])},staticRenderFns:[]};var k=a("VU/8")(w,N,!1,function(t){a("40Y/")},"data-v-0e0aedc0",null).exports,V={name:"instanceChangeNotice",props:{data:""},methods:{handleViewDetail:function(){var t="/Form/index.html?data="+this.data.tempContent.transCode;window.open(t)}}},S={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-container",class:{noticefromme:t.data.tempContent.creator===t.$currentUser.nickname}},[a("div",[t._v(t._s(t.data.tempContent.crtTime))]),t._v(" "),a("div",[a("span",{staticClass:"message-container-content"},[a("span",{staticClass:"message-container-creator notice-creator"},[t._v("路塔")]),t._v(" "),a("span",[t._v(":您有经办实例")]),t._v(" "),a("a",{on:{click:t.handleViewDetail}},[t._v(t._s(t.data.tempContent.transCode))]),t._v(" "),a("span",[t._v("状态从")]),t._v(" "),a("strong",[t._v(t._s(t.data.tempContent.oldStatus))]),t._v(" "),a("span",[t._v("变为")]),t._v(" "),a("strong",[t._v(t._s(t.data.tempContent.newStatus))])])])])},staticRenderFns:[]};var x=a("VU/8")(V,S,!1,function(t){a("65ec")},"data-v-e805e5be",null).exports,I=a("a8xa"),T={name:"notifilist",components:{flowTaskTpl:l,commentNoticeTpl:m,praiseNoticeTpl:p,ProStatusTpl:C,InstanceCreateNotice:b,ChangeLogNotice:k,InstanceChangeNotice:x},props:{list:"",listId:{type:String,default:""}},watch:{navId:{handler:function(t,e){t&&(this.listId=t)},deep:!0}},data:function(){return{params:{page:1,limit:10,filter:[],total:0},notifications:[],isRolling:!1,navId:""}},methods:{handleScroll:function(){var t=document.getElementById("msgList"),e=this,a=void 0;t.addEventListener("scroll",function(){a=t.scrollTop,Math.ceil(t.clientHeight+a)+2>=t.scrollHeight&&e.params.total>e.notifications.length&&(e.params.page++,e.isRolling=!0,e.refreshNotifics())})},refreshNotifics:function(){var t=this,e=[{property:"listid",value:this.listId,operator:"eq"}];this.params.filter=o()(e),Object(I.b)(this.params).then(function(e){var a;(t.params.total=e.dataCount,t.isRolling)?t.notifications=(a=t.notifications).concat.apply(a,i()(e.tableContent)):t.notifications=e.tableContent;t.formatNotifications()})},formatNotifications:function(){this.notifications.map(function(t){"comment"===t.type||"praise"===t.type?(t.tempContent=JSON.parse(t.content).content,t.sourceContent=JSON.parse(t.content)):t.tempContent=JSON.parse(t.content)})}},mounted:function(){this.handleScroll(),this.refreshNotifics()}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-list notificasscrollbar",attrs:{id:"msgList"}},t._l(t.notifications,function(e,n){return a("div",{key:n,staticClass:"message-list-item",class:{createbyme:e.creatorName===t.$currentUser.nickname}},["comment"==e.type?a("comment-notice-tpl",{class:{"notice-unread":!e.isRead},attrs:{data:e}}):t._e(),t._v(" "),"praise"==e.type?a("praise-notice-tpl",{class:{"notice-unread":!e.isRead},attrs:{data:e}}):t._e(),t._v(" "),"flowTask"==e.type?a("flow-task-tpl",{class:{"notice-unread":!e.isRead},attrs:{data:e}}):t._e(),t._v(" "),"processStatus"==e.type?a("pro-status-tpl",{attrs:{data:e}}):t._e(),t._v(" "),"instanceCreate"==e.type?a("instance-create-notice",{attrs:{data:e}}):t._e(),t._v(" "),"appChangeLog"==e.type?a("change-log-notice",{attrs:{data:e}}):t._e(),t._v(" "),"instanceStatusChange"==e.type?a("instance-change-notice",{attrs:{data:e}}):t._e()],1)}))},staticRenderFns:[]};var F=a("VU/8")(T,M,!1,function(t){a("tcjM")},"data-v-6b549a92",null).exports,R={name:"notifiLayoutSider",props:{handleAvtiveNav:Function},data:function(){return{navs:{},params:{page:1,limit:100,filter:""},searchkeywords:"",searchResult:[]}},methods:{hanleWindowNotification:function(t){var e=function(){var e=new Notification("Roletask【路塔】",{body:t,icon:"static/favicon.ico"});e.onclick=function(){console.log("点击"),window.self.focus(),e.close()}};if(window.Notification){var a=navigator.userAgent.toLowerCase();-1!=a.indexOf("safari")&&(a.indexOf("chrome")>-1?Notification.requestPermission().then(function(t){"granted"==t?e():(Notification.requestPermission(),console.log("没有权限,用户拒绝:Notification"))}):Notification.requestPermission(function(t){"granted"==t||(Notification.requestPermission(),console.log("没有权限,用户拒绝:Notification"))}))}else console.log("不支持Notification")},refreshNavListByMessage:function(){var t=this,e=localStorage.getItem("activeNavigatioIdOfNotice"),a=void 0;Object(I.d)(this.params).then(function(n){t.navs=n.tableContent,0!==n.dataCount&&(e?t.navs.map(function(t){t.listId===e&&(t.isActive=!0,a=t)}):(t.navs[0].isActive=!0,a=t.navs[0]),a||(t.navs[0].isActive=!0,a=t.navs[0]),t.handleAvtiveNav(a))})},handleActiveNavigation:function(t){this.$forceUpdate(),this.handleAvtiveNav(t),localStorage.setItem("activeNavigatioIdOfNotice",t.listId),this.navs.map(function(t){t.isActive=!1}),t.isActive=!0,Object(I.e)(t.listId).then(function(e){t.unreadNum=0})},subscribeMessage:function(){var t=this,e=this.$deepstream,a=this.$currentUser.userId;console.log("订阅"),e.event.subscribe("commentMessage/"+a,function(e){t.refreshNavListByMessage(),e.dataCount>0&&t.hanleWindowNotification("您有"+e.dataCount+"未读消息")})},handleSearch:function(t){var e=this;this.searchResult=this.navs.filter(function(t){return t.listName.includes(e.searchkeywords)})}},mounted:function(){this.refreshNavListByMessage(),this.subscribeMessage()}},$={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("div",{staticClass:"notificas-layout-sider-search"},[a("AutoComplete",{attrs:{clearable:"",placeholder:"搜索"},on:{"on-search":t.handleSearch},model:{value:t.searchkeywords,callback:function(e){t.searchkeywords=e},expression:"searchkeywords"}},t._l(t.searchResult,function(e,n){return a("div",{key:n,staticClass:"notificas-layout-sider-item",class:{activeNav:e.isActive},on:{click:function(a){t.handleActiveNavigation(e)}}},[a("img",{attrs:{width:"50",src:e.icon}}),t._v(" "),a("div",{staticClass:"notificas-layout-sider-item-describe"},[a("div",{staticClass:"notificas-layout-sider-item-describe-title"},[t._v(t._s(e.listName))]),t._v(" "),a("div",{staticClass:"notificas-layout-sider-item-describe-txt"},[a("p",{domProps:{innerHTML:t._s(e.comment)}})])]),t._v(" "),e.unreadNum>0?a("div",{staticClass:"notificas-layout-sider-item-msgcount"},[t._v(t._s(e.unreadNum>99?"99+":e.unreadNum))]):t._e()])}))],1),t._v(" "),a("div",{staticClass:"notificas-layout-sider-navs notificasscrollbar"},[0==t.navs.length?a("div",{staticClass:"notificas-layout-sider-item"},[a("img",{attrs:{width:"50",src:"static/favicon.ico"}}),t._v(" "),t._m(0)]):t._e(),t._v(" "),t._l(t.navs,function(e,n){return a("div",{key:n,staticClass:"notificas-layout-sider-item",class:{activeNav:e.isActive},on:{click:function(a){t.handleActiveNavigation(e)}}},[a("img",{attrs:{width:"50",src:e.icon}}),t._v(" "),a("div",{staticClass:"notificas-layout-sider-item-describe"},[a("div",{staticClass:"notificas-layout-sider-item-describe-title"},[t._v(t._s(e.listName))]),t._v(" "),a("div",{staticClass:"notificas-layout-sider-item-describe-txt"},[a("p",{domProps:{innerHTML:t._s(e.comment)}})])]),t._v(" "),e.unreadNum>0?a("div",{staticClass:"notificas-layout-sider-item-msgcount"},[t._v(t._s(e.unreadNum>99?"99+":e.unreadNum))]):t._e()])})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"notificas-layout-sider-item-describe"},[e("div",{staticClass:"notificas-layout-sider-item-describe-title"},[this._v("\n                    Roletask团队\n                ")]),this._v(" "),e("div",{staticClass:"notificas-layout-sider-item-describe-txt"},[e("p",[this._v("暂无通知...")])])])}]};var H=a("VU/8")(R,$,!1,function(t){a("vcwC")},"data-v-2589a5b9",null).exports,U={name:"notifiHistory",props:{list:"",listId:{type:String,default:""},expendVisbible:{type:Boolean,default:!1}},data:function(){return{images:[],imgName:"",imgModalVisible:!1,files:[]}},watch:{listId:{handler:function(t,e){this.refreshImages(),this.refreshFiles()},deep:!0}},methods:{refreshAllWorkFlowTasks:function(){var t=[{property:"listid",value:this.listId,operator:"eq"}];this.notiParams.filter=o()(t),Object(I.a)(this.notiParams).then(function(t){})},refreshFiles:function(){var t=this,e={page:1,limit:10,listId:this.listId,type:"file"};Object(I.c)(e).then(function(e){t.files=e.tableContent})},refreshImages:function(){var t=this,e={page:1,limit:10,listId:this.listId,type:"image"};Object(I.c)(e).then(function(e){t.images=e.tableContent})},handleViewImg:function(t){this.imgName=t,this.imgModalVisible=!0}},mounted:function(){this.refreshFiles(),this.refreshImages()}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Tabs",[a("TabPane",{attrs:{label:"文档"}},t._l(t.files,function(e,n){return a("div",{key:n},[a("a",[t._v(t._s(e.attachmentName))])])})),t._v(" "),a("TabPane",{attrs:{label:"图片"}},t._l(t.images,function(e,n){return a("div",{key:n,staticClass:"comimg"},[a("img",{attrs:{width:"80",src:e.attachment}}),t._v(" "),a("div",{staticClass:"comimg-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(a){t.handleViewImg(e.attachment)}}})],1)])}))],1),t._v(" "),a("Modal",{attrs:{title:"查看图片",width:"50%"},model:{value:t.imgModalVisible,callback:function(e){t.imgModalVisible=e},expression:"imgModalVisible"}},[t.imgModalVisible?a("img",{staticStyle:{width:"100%"},attrs:{src:t.imgName}}):t._e()])],1)},staticRenderFns:[]};var A=a("VU/8")(U,E,!1,function(t){a("SGTE")},"data-v-9c4ca5fc",null).exports,O={name:"notificationsHeader",props:{nav:{type:Object,default:function(){return{}}},handleExpendHistory:{type:Function}},methods:{handleExpend:function(){this.expend=!this.expend,this.handleExpendHistory(this.expend)},handleViewDetail:function(){window.open("/Site/index.html#appSetting/"+this.nav.listId)}},data:function(){return{expend:!1}}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notificas-layout-content-header"},[t.nav.listName?a("div",[a("a",{attrs:{title:"查看应用详情"},on:{click:t.handleViewDetail}},[a("b",[t._v(t._s(t.nav.listName))])]),t._v("\n        【"+t._s(t.nav.transName)+"】管理员:"+t._s(t.nav.administratorName)+"\n            \n        ")]):t._e(),t._v(" "),t.nav.listName?t._e():a("div",{staticStyle:{"text-align":"center"}},[t._v("\n        暂无通知\n    ")]),t._v(" "),a("p",{staticClass:"nav-comment",domProps:{innerHTML:t._s(t.nav.comment)}})])},staticRenderFns:[]};var P={name:"notifications",components:{notifilist:F,notifiLayoutSider:H,notifiHistory:A,notificationsHeader:a("VU/8")(O,L,!1,function(t){a("ehlj")},"data-v-06fc5195",null).exports},data:function(){return{avtiveNav:{},expendHistoryVisbible:!1}},methods:{handleAvtiveNav:function(t){this.$forceUpdate(),this.avtiveNav=t,this.$refs.notifilist&&(this.$refs.notifilist.listId=t.listId,this.$refs.notifilist.params.page=1,this.$refs.notifilist.isRolling=!1,this.$refs.notifilist.refreshNotifics())},handleExpendHistory:function(t){this.expendHistoryVisbible=t}},mounted:function(){}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notificas"},[a("div",{staticClass:"notificas-content notificas-layout"},[a("div",{staticClass:"bg_ff notificas-layout-sider "},[a("notifi-layout-sider",{attrs:{handleAvtiveNav:t.handleAvtiveNav}})],1),t._v(" "),a("div",{staticClass:"notificas-list bg_ff notificas-layout-content"},[a("notifications-header",{attrs:{nav:t.avtiveNav,handleExpendHistory:t.handleExpendHistory}}),t._v(" "),a("Row",{staticClass:"notificas-layout-content-notificwin"},[a("Col",{staticClass:"notificas-layout-content-notificwin-msg",attrs:{span:t.expendHistoryVisbible?"16":"24"}},[t.avtiveNav.listId?a("notifilist",{ref:"notifilist",attrs:{listId:t.avtiveNav.listId}}):t._e(),t._v(" "),t.avtiveNav.listId?t._e():a("div",{staticStyle:{height:"100%",width:"100%",position:"relative"}},[a("Icon",{staticStyle:{"font-size":"50px",position:"absolute",left:"50%",top:"50%"},attrs:{type:"ios-notifications-outline",size:60}})],1)],1),t._v(" "),t.expendHistoryVisbible?a("Col",{staticClass:"notificas-layout-content-notificwin-orderlist",attrs:{span:"8"}},[t.avtiveNav.listId?a("notifi-history",{ref:"noticeHistory",attrs:{listId:t.avtiveNav.listId,expendVisbible:t.expendHistoryVisbible}}):t._e()],1):t._e()],1)],1)])])},staticRenderFns:[]};var D=a("VU/8")(P,j,!1,function(t){a("k8J7")},"data-v-5cce9093",null);e.default=D.exports},Ragj:function(t,e){},SGTE:function(t,e){},WlHs:function(t,e){},YTvU:function(t,e){},"ahE/":function(t,e){},ehlj:function(t,e){},gs9C:function(t,e){},k8J7:function(t,e){},p3zA:function(t,e){},tOow:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"SocialLayout",components:{notifications:a("BLn5").default}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"social"},[e("div",{staticClass:"social-content"},[e("router-view")],1)])},staticRenderFns:[]};var s=a("VU/8")(n,i,!1,function(t){a("WlHs")},"data-v-3291cbc1",null);e.default=s.exports},tcjM:function(t,e){},vcwC:function(t,e){}});
{"version":3,"sources":["webpack:///src/views/addressBook/organization/instance/higher-organization.vue","webpack:///./src/views/addressBook/organization/instance/higher-organization.vue?dfe8","webpack:///./src/views/addressBook/organization/instance/higher-organization.vue","webpack:///src/views/addressBook/organization/instance/lower-origanization.vue","webpack:///./src/views/addressBook/organization/instance/lower-origanization.vue?77ee","webpack:///./src/views/addressBook/organization/instance/lower-origanization.vue","webpack:///src/views/addressBook/organization/instance/member-info.vue","webpack:///./src/views/addressBook/organization/instance/member-info.vue?b720","webpack:///./src/views/addressBook/organization/instance/member-info.vue","webpack:///src/views/addressBook/organization/instance/principal.vue","webpack:///./src/views/addressBook/organization/instance/principal.vue?0c0c","webpack:///./src/views/addressBook/organization/instance/principal.vue","webpack:///src/views/addressBook/organization/instance/permission.vue","webpack:///./src/views/addressBook/organization/instance/permission.vue?378b","webpack:///./src/views/addressBook/organization/instance/permission.vue","webpack:///src/views/addressBook/organization/organization.vue","webpack:///./src/views/addressBook/organization/organization.vue?1eb8","webpack:///./src/views/addressBook/organization/organization.vue","webpack:///src/views/addressBook/organization/instance/CustomTable.vue","webpack:///./src/views/addressBook/organization/instance/CustomTable.vue?3617","webpack:///./src/views/addressBook/organization/instance/CustomTable.vue"],"names":["higher_organization","CustomTable","MemberModal","Modal","String","groupId","groupType","depFunction","status","value","operator","this","searchValue","property","filter","size","currentRow","_this","message","pageSize","val","_this2","parentId","_this3","total","tableContent","instance_higher_organization","render","_vm","_h","$createElement","_c","_self","attrs","apiUrl","columns","highOrgColumns","apiParams","highOrganizationParams","isHiddenPage","on","on-refesh-change","onRefeshChange","model","callback","$$v","reload","expression","staticClass","slot","click","showHighOrgModal","_v","width","footerBtnAlign","title","on-ok","saveSelectionHighOrg","isShowMemberModal","staticStyle","margin-top","search","placeholder","on-search","orgFilter","type","ref","height","loading","listUserLoading","highOrgColumnsModal","data","listUserData","highlight-row","on-row-dblclick","handleDblclick","on-current-change","onSelectUserList","margin","overflow","float","listUserPageTotal","current","listUserCurrentPage","page-size","show-total","show-elevator","show-sizer","on-change","listUserChangePage","on-page-size-change","onPageSizeChange","staticRenderFns","organization_instance_higher_organization","__webpack_require__","normalizeComponent","ssrContext","lower_origanization","_onPageSelection","selection","next","cur","onPageSelection","p","_onPageSelection2","id","index","_this4","_this5","instance_lower_origanization","lowerOrgColumns","lowOrganizationParams","on-selection-change","onSelectionChange","showLoverOrgModal","deleteLoverOrg","saveSelectionLowerOrg","lowerOrgColumnsModel","on-select-all","onSelectAll","handerSelectionChange","on-select-cancel","onSelectCancel","directives","name","rawName","_l","item","key","closable","color","on-close","deletePageSelection","_s","groupName","organization_instance_lower_origanization","lower_origanization_normalizeComponent","member_info","photo","gender","h","Object","addressBookService","params","row","userId","then","res","dataCount","instance_member_info","memberInfoColumns","memberInfoParams","showMemberModal","deleteMemberInfo","saveSelectionUser","userFilter","memberInfoColumnsModel","nickname","organization_instance_member_info","member_info_normalizeComponent","principal","PrincipalModal","catch","error","instance_principal","principalColumns","principalParams","addPrincipal","savaSelectUser","isShowPrincipalModal","principalColumnsModel","organization_instance_principal","principal_normalizeComponent","permission","getAllPermissionData","node","instance_permission","permissionColumns","permissionParams","addPermission","deletePermission","savePermission","isShowModal","max-height","allPermissionData","multiple","load-data","loadData","on-select-change","onCheckChange","organization_instance_permission","permission_normalizeComponent","organization","HighOrganization","LowerOrganization","MemberInfo","Principal","Permission","isEdit","resetFields","searchHighOrgValue","editHighOrg","editHighOrgParentId","principalPageSize","_this6","searchPrincipalValue","_this7","getElementsByClassName","style","tabsMaxHight","maxHeight","parentName","parentType","highGroup","organization_organization","formItem","margin-bottom","hidden","_e","class","actionIndex","$event","handlerViewChange","src","imgPath","number","label","is-required","labelWidth","rules","ruleValidate","font-size","prop","readonly","on-blur","onGroupNameOutBlur","$set","disabled","changeGroupType","icon","on-click","selectPrincipalModal","selectHighOrgModal","cancle","domProps","editBtnName","edit","save","saveAndAdd","on-high-organization-change","handleChangeObjDetailsCount","on-lower-organization-change","on-principal-change","on-member-info-change","on-permission-change","highOrgModalLoading","handleHighOrgDblclick","onHighOrgPageSizeChange","savaSelectPrincipal","PrincipalModaLoading","principalData","handlePrinciplDblclick","onSelectPrincipal","principalPageTotal","principalCurrentPage","onPrincipalPageSizeChange","principalChangePage","organization_Component","organization_normalizeComponent","__webpack_exports__","Array","Boolean","currentPage","instance_CustomTable","_t","columnsData","pageTotal","changeCurrentPage","Component"],"mappings":"mOA4DAA,QAGA,kCAEAC,cAAA,EAGAC,YAAAC,EAAA,wBAIAC,wBAKAA,qEAKAC,aACA,QAEA,2BAGA,WAEA,oBAEA,WACA,6CAEAC,iBACAA,OACA,MACA,MACA,UACA,MACA,MACA,UACA,MACA,KACA,UACA,MACA,qBAGAA,YAIA,WACA,+CAEAC,mBACAA,OACA,MACA,KACA,UACA,MACA,KACA,UACA,MACA,KACA,UACA,MACA,qBAGAA,YAIA,WACA,0CAEAC,SACA,UACAA,QACA,IACA,KACA,WACA,IACA,MACA,WACA,IACA,MACA,WACA,IACA,cAIA,iCAGA,iBAGA,YAEAC,kCAOA,WAEA,oBAEA,WACA,6CAEAH,iBACAA,OACA,MACA,MACA,UACA,MACA,MACA,UACA,MACA,KACA,UACA,MACA,qBAGAA,YAIA,WACA,+CAEAC,mBACAA,OACA,MACA,KACA,UACA,MACA,KACA,UACA,MACA,KACA,UACA,MACA,qBAGAA,YAIA,WACA,0CAEAC,SACA,UACAA,QACA,IACA,KACA,WACA,IACA,MACA,WACA,IACA,MACA,WACA,IACA,cAIA,iCAGA,iBAGA,YAEAC,yBAKA,mBACA,oCAEA,sBACA,WACA,eAEA,WACA,wEAOAC,SAAA,OAAAD,MAAAE,KAAAC,YAAAC,SAEA,+CACAC,+CAKAC,UACAL,SAAA,OAAAD,MAAAE,KAAAC,YAAAC,SAEA,mCACAC,yDAKAE,gCAIA,IAAAC,EAAAN,qBAEAN,mBAEAA,wEAGA,6BACA,YACA,yCACA,uBAEAa,+DAOA,kDACAC,sDAKAC,wDAMA,mBACA,kDACAD,2CAIA,MAAAE,EAAAV,6BAEAN,4BAEAiB,iBACAjB,uEAGA,6BACA,YACA,yCACA,uBAEAa,wCAKA,IAAAK,EAAAZ,2BACA,gCAEA,aACAL,eACA,sBAEA,WACA,cACA,+BAGA,WACA,cACA,cAEA,UACA,sBAEA,WACA,cACA,+BAGA,WACA,cACA,+BAGA,WACA,cACA,cAEA,UACA,uBAEA,WACA,cACA,+BAGA,WACA,cACA,+BAGA,WACA,cACA,+BAGA,WACA,eACA,oBAIAQ,yFAIAU,uBACAC,g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","file":"static/js/2.5fd497e821a7254940ae.js","sourcesContent":["<style lang=\"less\" >\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n.app-search {\r\n  margin-bottom: 5px;\r\n  .app-search-icon {\r\n    font-size: 1rem;\r\n    color: #39f;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.rfd-table .ivu-table-row-highlight td{\r\n  background-color: #81b2e59c !important;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getParentGroupByGroupId\" :columns=\"highOrgColumns\" :apiParams=\"highOrganizationParams\" v-model=\"reload\" @on-refesh-change='onRefeshChange' :isHiddenPage=\"true\">\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"showHighOrgModal\">上级组织</label>\r\n        <span>-选择上级组织</span>\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowMemberModal\" width=\"1000\" footerBtnAlign=\"right\" title=\"选择组织\" @on-ok=\"saveSelectionHighOrg\">\r\n      <div style=\"margin-top:10px;\">\r\n        <div class=\"app-search\">\r\n          <Input @on-search=\"orgFilter\" :search=\"true\" v-model=\"searchValue\" placeholder=\"搜索组织名称\" style=\"width: 300px\"></Input>\r\n          <a @click=\"orgFilter\" class=\"app-search-icon\">\r\n            <Button type=\"primary\" size=\"small\">查询</Button>\r\n          </a>\r\n        </div>\r\n        <Table class=\"rfd-table\" height=\"400\" :loading=\"listUserLoading\" :columns=\"highOrgColumnsModal\" :data=\"listUserData\" size='small' highlight-row ref=\"currentRowTable\" @on-row-dblclick=\"handleDblclick\" @on-current-change=\"onSelectUserList\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-change=\"listUserChangePage\" @on-page-size-change=\"onPageSizeChange\" show-total show-elevator show-sizer></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport { updateBaseinfo, getAllGroup } from \"@/services/addressBookService.js\";\r\nimport CustomTable from \"./CustomTable\";\r\nexport default {\r\n  name: \"higher-organization\",\r\n\r\n  components: {\r\n    CustomTable,\r\n    MemberModal\r\n  },\r\n\r\n  props: {\r\n    groupId: {\r\n      type: String\r\n    },\r\n    groupType: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      //上级组织\r\n      highOrganizationParams: {\r\n        groupId: this.groupId,\r\n        page: 1,\r\n        limit: 10\r\n      },\r\n      highOrgColumns: [\r\n        {\r\n          title: \"组织名称\",\r\n          key: \"groupName\"\r\n        },\r\n        {\r\n          title: \"组织类型\",\r\n          key: \"groupType\",\r\n          render: (h, params) => {\r\n            let groupType = params.row.groupType;\r\n            switch (groupType) {\r\n              case \"M\":\r\n                groupType = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                groupType = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                groupType = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                groupType = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", groupType);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织职能\",\r\n          key: \"depFunction\",\r\n          render: (h, params) => {\r\n            let depFunction = params.row.depFunction;\r\n            switch (depFunction) {\r\n              case \"M\":\r\n                depFunction = \"管理\";\r\n                break;\r\n              case \"S\":\r\n                depFunction = \"销售\";\r\n                break;\r\n              case \"C\":\r\n                depFunction = \"制造\";\r\n                break;\r\n              case \"R\":\r\n                depFunction = \"研发\";\r\n                break;\r\n            }\r\n            return h(\"span\", depFunction);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织状态\",\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status,\r\n              value = \"\";\r\n            switch (status) {\r\n              case -1:\r\n                value = \"停用\";\r\n                break;\r\n              case 1:\r\n                value = \"使用中\";\r\n                break;\r\n              case 2:\r\n                value = \"未使用\";\r\n                break;\r\n              case 3:\r\n                value = \"草稿\";\r\n                break;\r\n            }\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              value\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      highOrgColumnsModal: [\r\n        {\r\n          title: \"组织名称\",\r\n          key: \"groupName\"\r\n        },\r\n        {\r\n          title: \"组织类型\",\r\n          key: \"groupType\",\r\n          render: (h, params) => {\r\n            let groupType = params.row.groupType;\r\n            switch (groupType) {\r\n              case \"M\":\r\n                groupType = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                groupType = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                groupType = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                groupType = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", groupType);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织职能\",\r\n          key: \"depFunction\",\r\n          render: (h, params) => {\r\n            let depFunction = params.row.depFunction;\r\n            switch (depFunction) {\r\n              case \"M\":\r\n                depFunction = \"管理\";\r\n                break;\r\n              case \"S\":\r\n                depFunction = \"销售\";\r\n                break;\r\n              case \"C\":\r\n                depFunction = \"制造\";\r\n                break;\r\n              case \"R\":\r\n                depFunction = \"研发\";\r\n                break;\r\n            }\r\n            return h(\"span\", depFunction);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织状态\",\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status,\r\n              value = \"\";\r\n            switch (status) {\r\n              case -1:\r\n                value = \"停用\";\r\n                break;\r\n              case 1:\r\n                value = \"使用中\";\r\n                break;\r\n              case 2:\r\n                value = \"未使用\";\r\n                break;\r\n              case 3:\r\n                value = \"草稿\";\r\n                break;\r\n            }\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              value\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      isShowMemberModal: false,\r\n      listUserLoading: false,\r\n      listUserData: [],\r\n      listUserPageTotal: 0,\r\n      listUserCurrentPage: 1,\r\n      pageSize: 10,\r\n      searchValue: \"\",\r\n\r\n      reload: false,\r\n      onSelectionModal: []\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    listUserChangePage(currentPage) {\r\n      let filter = [\r\n        { operator: \"like\", value: this.searchValue, property: \"groupName\" }\r\n      ];\r\n      this.getAllGroup(currentPage, this.pageSize, filter);\r\n    },\r\n\r\n    //点击切换每页显示条数\r\n    onPageSizeChange(size) {\r\n      this.pageSize = size;\r\n      let filter = [\r\n        { operator: \"like\", value: this.searchValue, property: \"groupName\" }\r\n      ];\r\n      this.getAllGroup(1, size,filter);\r\n    },\r\n\r\n    //监听模态框选中的用户\r\n    onSelectUserList(currentRow, oldCurrentRow) {\r\n      this.onSelectionModal = currentRow;\r\n    },\r\n\r\n    //双击选中\r\n    handleDblclick(row, index) {\r\n      let params = {\r\n        groupId: this.groupId,\r\n        parentId: row.groupId\r\n      };\r\n      updateBaseinfo(params).then(res => {\r\n        if (res.success) {\r\n          this.$Message.success(\"更新成功\");\r\n          this.isShowMemberModal = false;\r\n          this.reload = true;\r\n          this.$emit(\"on-high-organization-change\", true);\r\n        }else{\r\n          this.$Message.error(res.message);\r\n        }\r\n      });\r\n    },\r\n\r\n    //显示模态框-添加上级组织\r\n    showMemberModal() {\r\n      this.isShowMemberModal = true;\r\n      this.getListUsers(this.listUserCurrentPage, this.pageSize);\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //显示上级组织模态框\r\n    showHighOrgModal() {\r\n      this.isShowMemberModal = true;\r\n      this.searchValue = '';\r\n      this.getAllGroup(this.listUserCurrentPage, this.pageSize);\r\n    },\r\n\r\n    //添加上级组织\r\n    saveSelectionHighOrg() {\r\n      let parentId = \"\";\r\n      parentId = this.onSelectionModal.groupId;\r\n      let params = {};\r\n      params.parentId = parentId;\r\n      params.groupId = this.groupId;\r\n      updateBaseinfo(params).then(res => {\r\n        if (res.success) {\r\n          this.$Message.success(\"更新成功\");\r\n          this.isShowMemberModal = false;\r\n          this.reload = true;\r\n          this.$emit(\"on-high-organization-change\", true);\r\n        }else{\r\n          this.$Message.error(res.message);\r\n        }\r\n      });\r\n    },\r\n\r\n    getAllGroup(currentPage, pageSize, relfilter) {\r\n      this.listUserLoading = true;\r\n      let filter = relfilter ? relfilter : [];\r\n      if (this.groupType) {\r\n        switch (this.groupType) {\r\n          case \"小组\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"岗位\",\r\n              property: \"groupType\"\r\n            }); //岗位\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            break;\r\n          case \"部门\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"岗位\",\r\n              property: \"groupType\"\r\n            }); //岗位\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            break;\r\n          case \"事业部\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"岗位\",\r\n              property: \"groupType\"\r\n            }); //岗位\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"事业部\",\r\n              property: \"groupType\"\r\n            }); //事业部\r\n            break;\r\n        }\r\n        filter = JSON.stringify(filter);\r\n      }\r\n      getAllGroup(currentPage, pageSize, filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.listUserPageTotal = res.summary.total;\r\n          this.listUserData = res.tableContent;\r\n          this.listUserLoading = false;\r\n        }\r\n      });\r\n    },\r\n    //过滤\r\n    orgFilter() {\r\n      let filter = [\r\n        { operator: \"like\", value: this.searchValue, property: \"groupName\" }\r\n      ];\r\n      this.getAllGroup(this.listUserCurrentPage, this.pageSize, filter);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/higher-organization.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getParentGroupByGroupId\",\"columns\":_vm.highOrgColumns,\"apiParams\":_vm.highOrganizationParams,\"isHiddenPage\":true},on:{\"on-refesh-change\":_vm.onRefeshChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.showHighOrgModal}},[_vm._v(\"上级组织\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-选择上级组织\")])])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"1000\",\"footerBtnAlign\":\"right\",\"title\":\"选择组织\"},on:{\"on-ok\":_vm.saveSelectionHighOrg},model:{value:(_vm.isShowMemberModal),callback:function ($$v) {_vm.isShowMemberModal=$$v},expression:\"isShowMemberModal\"}},[_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticClass:\"app-search\"},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"search\":true,\"placeholder\":\"搜索组织名称\"},on:{\"on-search\":_vm.orgFilter},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_vm._v(\" \"),_c('a',{staticClass:\"app-search-icon\",on:{\"click\":_vm.orgFilter}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('Table',{ref:\"currentRowTable\",staticClass:\"rfd-table\",attrs:{\"height\":\"400\",\"loading\":_vm.listUserLoading,\"columns\":_vm.highOrgColumnsModal,\"data\":_vm.listUserData,\"size\":\"small\",\"highlight-row\":\"\"},on:{\"on-row-dblclick\":_vm.handleDblclick,\"on-current-change\":_vm.onSelectUserList}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.listUserPageTotal,\"current\":_vm.listUserCurrentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.listUserChangePage,\"on-page-size-change\":_vm.onPageSizeChange}})],1)])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4f1fb2d0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/higher-organization.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4f1fb2d0\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./higher-organization.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./higher-organization.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./higher-organization.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4f1fb2d0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./higher-organization.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/higher-organization.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n.app-search {\r\n  margin-bottom: 5px;\r\n  .app-search-icon {\r\n    font-size: 1rem;\r\n    color: #39f;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n  }\r\n}\r\n.page-selection-warp {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 30px;\r\n  background-color: #e6e6e6;\r\n  margin-bottom: 10px;\r\n  padding: 1px 5px;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getAllGroup\" :columns=\"lowerOrgColumns\" :apiParams=\"lowOrganizationParams\" v-model=\"reload\" @on-refesh-change='onRefeshChange' @on-selection-change=\"onSelectionChange\">\r\n\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"showLoverOrgModal\">添加下级组织</label>\r\n        <span>-添加下级组织</span>\r\n\r\n        <label @click=\"deleteLoverOrg\">删除下级组织</label>\r\n        <span>-删除下级组织</span>\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowMemberModal\" width=\"1000\" footerBtnAlign=\"right\" title=\"选择组织\" @on-ok=\"saveSelectionLowerOrg\">\r\n      <div style=\"margin-top:10px;\">\r\n        <div class=\"app-search\">\r\n          <Input @on-search=\"orgFilter\" :search=\"true\" v-model=\"searchValue\" placeholder=\"搜索组织名称\" style=\"width: 300px\"></Input>\r\n          <a @click=\"orgFilter\" class=\"app-search-icon\">\r\n            <Button type=\"primary\" size=\"small\">查询</Button>\r\n          </a>\r\n        </div>\r\n        <Table height=\"400\" :loading=\"listUserLoading\" :columns=\"lowerOrgColumnsModel\" :data=\"listUserData\" size='small' ref=\"selection\" @on-select-all=\"onSelectAll\" @on-selection-change=\"handerSelectionChange\" @on-select-cancel=\"onSelectCancel\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-page-size-change=\"onPageSizeChange\" @on-change=\"listUserChangePage\" show-total show-elevator show-sizer></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"page-selection-warp\" v-show=\"onPageSelection[0] \">\r\n        <Tag v-for=\"item in onPageSelection\" :key=\"item.groupId\" :groupId=\"item.groupId\" :closable=\"true\" @on-close=\"deletePageSelection\" type=\"border\" color=\"primary\" size=\"small\">\r\n          {{item.groupName}}\r\n        </Tag>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport CustomTable from \"./CustomTable\";\r\nimport {\r\n  saveBatchChildGroup,\r\n  deleteBatchGroup,\r\n  getAllGroup\r\n} from \"@/services/addressBookService.js\";\r\nexport default {\r\n  name: \"lower-organization\",\r\n\r\n  components: {\r\n    CustomTable,\r\n    MemberModal\r\n  },\r\n\r\n  props: {\r\n    groupId: {\r\n      type: String\r\n    },\r\n    groupType: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      //下级组织\r\n      lowOrganizationParams: {\r\n        filter: JSON.stringify([\r\n          { operator: \"eq\", value: this.groupId, property: \"parentId\" }\r\n        ]),\r\n        page: 1,\r\n        limit: 10\r\n      },\r\n      lowerOrgColumns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"组织名称\",\r\n          key: \"groupName\"\r\n        },\r\n        {\r\n          title: \"组织类型\",\r\n          key: \"groupType\",\r\n          render: (h, params) => {\r\n            let groupType = params.row.groupType;\r\n            switch (groupType) {\r\n              case \"M\":\r\n                groupType = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                groupType = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                groupType = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                groupType = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", groupType);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织职能\",\r\n          key: \"depFunction\",\r\n          render: (h, params) => {\r\n            let depFunction = params.row.depFunction;\r\n            switch (depFunction) {\r\n              case \"M\":\r\n                depFunction = \"管理\";\r\n                break;\r\n              case \"S\":\r\n                depFunction = \"销售\";\r\n                break;\r\n              case \"C\":\r\n                depFunction = \"制造\";\r\n                break;\r\n              case \"R\":\r\n                depFunction = \"研发\";\r\n                break;\r\n            }\r\n            return h(\"span\", depFunction);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织状态\",\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status,\r\n              value = \"\";\r\n            switch (status) {\r\n              case -1:\r\n                value = \"停用\";\r\n                break;\r\n              case 1:\r\n                value = \"使用中\";\r\n                break;\r\n              case 2:\r\n                value = \"未使用\";\r\n                break;\r\n              case 3:\r\n                value = \"草稿\";\r\n                break;\r\n            }\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              value\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 120,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Button\",\r\n              {\r\n                props: {\r\n                  type: \"error\",\r\n                  size: \"small\"\r\n                },\r\n                style: {\r\n                  cursor: \"pointer\"\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: \"确认\",\r\n                      content: \"确认删除此组织？\",\r\n                      onOk: () => {\r\n                        let del = [{ groupId: params.row.groupId, parentId: \"\" }];\r\n                        deleteBatchGroup(del).then(res => {\r\n                          if (res.success) {\r\n                            this.$Message.success(res.message);\r\n                            this.reload = true;\r\n                            this.$emit(\"on-lower-organization-change\", true);\r\n                          }\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              },\r\n              \"删除\"\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      lowerOrgColumnsModel: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"组织名称\",\r\n          key: \"groupName\"\r\n        },\r\n        {\r\n          title: \"组织类型\",\r\n          key: \"groupType\",\r\n          render: (h, params) => {\r\n            let groupType = params.row.groupType;\r\n            switch (groupType) {\r\n              case \"M\":\r\n                groupType = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                groupType = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                groupType = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                groupType = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", groupType);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织职能\",\r\n          key: \"depFunction\",\r\n          render: (h, params) => {\r\n            let depFunction = params.row.depFunction;\r\n            switch (depFunction) {\r\n              case \"M\":\r\n                depFunction = \"管理\";\r\n                break;\r\n              case \"S\":\r\n                depFunction = \"销售\";\r\n                break;\r\n              case \"C\":\r\n                depFunction = \"制造\";\r\n                break;\r\n              case \"R\":\r\n                depFunction = \"研发\";\r\n                break;\r\n            }\r\n            return h(\"span\", depFunction);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织状态\",\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status,\r\n              value = \"\";\r\n            switch (status) {\r\n              case -1:\r\n                value = \"停用\";\r\n                break;\r\n              case 1:\r\n                value = \"使用中\";\r\n                break;\r\n              case 2:\r\n                value = \"未使用\";\r\n                break;\r\n              case 3:\r\n                value = \"草稿\";\r\n                break;\r\n            }\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              value\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      isShowMemberModal: false,\r\n      listUserLoading: false,\r\n      listUserData: [],\r\n      listUserPageTotal: 0,\r\n      listUserCurrentPage: 1,\r\n      pageSize: 10,\r\n      deleteBtnDisable: true,\r\n      reload: false,\r\n      onPageSelection: [],\r\n      selectDeleteLowerOrg: [],\r\n      searchValue: \"\"\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    listUserChangePage(currentPage) {\r\n      let filter = [\r\n        { operator: \"like\", value: this.searchValue, property: \"groupName\" }\r\n      ];\r\n      this.getAllGroup(currentPage, filter);\r\n    },\r\n\r\n    //点击切换每页显示条数\r\n    onPageSizeChange(size) {\r\n      this.pageSize = size;\r\n      let filter = [\r\n        { operator: \"like\", value: this.searchValue, property: \"groupName\" }\r\n      ];\r\n      this.getAllGroup(1, size, filter);\r\n    },\r\n  \r\n      //全选\r\n    onSelectAll(selection) {\r\n      let obj = {};\r\n      //触发全选事件\r\n      //全选\r\n      this.onPageSelection.push(...selection);\r\n      //数组去重\r\n      this.onPageSelection = this.onPageSelection.reduce((cur, next) => {\r\n        obj[next.groupId] ? \"\" : (obj[next.groupId] = true && cur.push(next));\r\n        return cur;\r\n      }, []);\r\n    },\r\n\r\n    //保存分页选中\r\n    handerSelectionChange(selection) {\r\n      //取消全选\r\n      if (selection.length === 0) {\r\n        let s = this.$refs.selection.data;\r\n        let p = this.onPageSelection;\r\n        s.map(item => {\r\n          p = p.filter(f => {\r\n            return f.groupId !== item.groupId;\r\n          });\r\n        });\r\n        this.onPageSelection = p;\r\n      } else {\r\n        let obj = {};\r\n        this.onPageSelection.push(...selection);\r\n        //数组去重\r\n        this.onPageSelection = this.onPageSelection.reduce((cur, next) => {\r\n          obj[next.groupId] ? \"\" : (obj[next.groupId] = true && cur.push(next));\r\n          return cur;\r\n        }, []);\r\n      }\r\n    },\r\n    //删除分页选中\r\n    deletePageSelection(event) {\r\n      let id = Number(event.target.parentElement.getAttribute(\"groupId\"));\r\n      this.onPageSelection = this.onPageSelection.filter(f => {\r\n        return f.groupId !== id;\r\n      });\r\n\r\n      this.$refs.selection.data.forEach((item,index) => {\r\n        if (id === item.groupId) {\r\n          this.$refs.selection.toggleSelect(index)\r\n        }\r\n      });\r\n    },\r\n\r\n    //单选取消\r\n    onSelectCancel(selection, row) {\r\n      this.onPageSelection = this.onPageSelection.filter(f => {\r\n        return f.groupId !== row.groupId;\r\n      });\r\n    },\r\n\r\n    //选中的下级组织信息\r\n    onSelectionChange(selection) {\r\n      if (selection.length > 0) {\r\n        this.deleteBtnDisable = false;\r\n        this.selectDeleteLowerOrg = selection;\r\n      } else {\r\n        this.deleteBtnDisable = true;\r\n      }\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //显示上级组织模态框\r\n    showLoverOrgModal() {\r\n      this.isShowMemberModal = true;\r\n       this.searchValue = '';\r\n       this.onPageSelection = [];\r\n      this.getAllGroup(this.listUserCurrentPage);\r\n    },\r\n\r\n    //添加组织\r\n    saveSelectionLowerOrg() {\r\n      let childrenId = [];\r\n      this.onPageSelection.forEach(val => {\r\n        childrenId.push(val.groupId);\r\n      });\r\n      saveBatchChildGroup(this.groupId, childrenId.join(\",\")).then(res => {\r\n        if (res.success) {\r\n          this.$Message.success(\"更新成功\");\r\n          this.isShowMemberModal = false;\r\n          this.reload = true;\r\n          this.$emit(\"on-lower-organization-change\", true);\r\n        }else{\r\n          this.$Message.error(res.message);\r\n        }\r\n      });\r\n    },\r\n    //删除下级组织\r\n    deleteLoverOrg() {\r\n      let delData = [];\r\n      if(this.selectDeleteLowerOrg.length>0){\r\n        this.selectDeleteLowerOrg.forEach(val => {\r\n          delData.push({ groupId: val.groupId, parentId: \"\" });\r\n        });\r\n        if (delData) {\r\n          deleteBatchGroup(delData).then(res => {\r\n            if (res.success) {\r\n              this.$Message.success(res.message);\r\n              this.reload = true;\r\n              this.$emit(\"on-lower-organization-change\", true);\r\n            }\r\n          });\r\n        }\r\n      }else{\r\n        this.$Message.info('请选择要删除的下级组织');\r\n      }\r\n    },\r\n\r\n    getAllGroup(currentPage, relfilter) {\r\n      this.listUserLoading = true;\r\n      let filter = relfilter ? relfilter : [];\r\n      if (this.groupType) {\r\n        switch (this.groupType) {\r\n          case \"小组\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"事业部\",\r\n              property: \"groupType\"\r\n            }); //事业部\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"管理层\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            break;\r\n          case \"部门\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"事业部\",\r\n              property: \"groupType\"\r\n            }); //事业部\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"管理层\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            break;\r\n          case \"事业部\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"事业部\",\r\n              property: \"groupType\"\r\n            }); //事业部\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"管理层\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            break;\r\n        }\r\n        filter = JSON.stringify(filter);\r\n      }\r\n      getAllGroup(currentPage, this.pageSize, filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.listUserPageTotal = res.summary.total;\r\n          this.listUserData = res.tableContent;\r\n\r\n          if (this.onPageSelection.length > 0) {\r\n            this.listUserData.map(item => {\r\n              this.onPageSelection.map(sel => {\r\n                if (item.groupId === sel.groupId) {\r\n                  item._checked = true;\r\n                }\r\n              });\r\n            });\r\n          }\r\n        }\r\n        this.listUserLoading = false;\r\n      });\r\n    },\r\n    //过滤\r\n    orgFilter() {\r\n      let filter = [\r\n        { operator: \"like\", value: this.searchValue, property: \"groupName\" }\r\n      ];\r\n      this.getAllGroup(this.listUserCurrentPage, filter);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/lower-origanization.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getAllGroup\",\"columns\":_vm.lowerOrgColumns,\"apiParams\":_vm.lowOrganizationParams},on:{\"on-refesh-change\":_vm.onRefeshChange,\"on-selection-change\":_vm.onSelectionChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.showLoverOrgModal}},[_vm._v(\"添加下级组织\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-添加下级组织\")]),_vm._v(\" \"),_c('label',{on:{\"click\":_vm.deleteLoverOrg}},[_vm._v(\"删除下级组织\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-删除下级组织\")])])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"1000\",\"footerBtnAlign\":\"right\",\"title\":\"选择组织\"},on:{\"on-ok\":_vm.saveSelectionLowerOrg},model:{value:(_vm.isShowMemberModal),callback:function ($$v) {_vm.isShowMemberModal=$$v},expression:\"isShowMemberModal\"}},[_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticClass:\"app-search\"},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"search\":true,\"placeholder\":\"搜索组织名称\"},on:{\"on-search\":_vm.orgFilter},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_vm._v(\" \"),_c('a',{staticClass:\"app-search-icon\",on:{\"click\":_vm.orgFilter}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('Table',{ref:\"selection\",attrs:{\"height\":\"400\",\"loading\":_vm.listUserLoading,\"columns\":_vm.lowerOrgColumnsModel,\"data\":_vm.listUserData,\"size\":\"small\"},on:{\"on-select-all\":_vm.onSelectAll,\"on-selection-change\":_vm.handerSelectionChange,\"on-select-cancel\":_vm.onSelectCancel}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.listUserPageTotal,\"current\":_vm.listUserCurrentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-page-size-change\":_vm.onPageSizeChange,\"on-change\":_vm.listUserChangePage}})],1)])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.onPageSelection[0] ),expression:\"onPageSelection[0] \"}],staticClass:\"page-selection-warp\"},_vm._l((_vm.onPageSelection),function(item){return _c('Tag',{key:item.groupId,attrs:{\"groupId\":item.groupId,\"closable\":true,\"type\":\"border\",\"color\":\"primary\",\"size\":\"small\"},on:{\"on-close\":_vm.deletePageSelection}},[_vm._v(\"\\n        \"+_vm._s(item.groupName)+\"\\n      \")])}))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2897f0eb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/lower-origanization.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2897f0eb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./lower-origanization.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./lower-origanization.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./lower-origanization.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2897f0eb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./lower-origanization.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2897f0eb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/lower-origanization.vue\n// module id = null\n// module chunks = ","<style lang=\"less\">\r\n.permission-container-btn-export {\r\n  float: right;\r\n}\r\n\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n.app-search {\r\n  margin-bottom: 5px;\r\n  .app-search-icon {\r\n    font-size: 1rem;\r\n    color: #39f;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.page-selection-warp {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 30px;\r\n  background-color: #e6e6e6;\r\n  margin-bottom: 10px;\r\n  padding: 1px 5px;\r\n}\r\n</style>\r\n\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getUsersByGroupId\" :columns=\"memberInfoColumns\" :apiParams=\"memberInfoParams\" v-model=\"reload\" @on-selection-change=\"onSelectionChange\" @on-refesh-change='onRefeshChange'>\r\n      <!-- <div slot=\"header\">\r\n        <Button icon=\"md-add\" type=\"primary\" @click=\"showMemberModal\">添加成员</Button>\r\n        <Button icon=\"md-remove\" type=\"info\" @click=\"deleteMemberInfo\" :disabled=\"deleteBtnDisable\">移除成员</Button>\r\n        <Button icon=\"ios-download-outline\" type=\"primary\" class=\"permission-container-btn-export\" @click=\"exportData\">导出</Button>\r\n      </div> -->\r\n\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"showMemberModal\">添加成员</label>\r\n        <span>-添加成员</span>\r\n\r\n        <label @click=\"deleteMemberInfo\">移除成员</label>\r\n        <span>-移除成员</span>\r\n\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowMemberModal\" width=\"1000\" footerBtnAlign=\"right\" title=\"选择用户\" @on-ok=\"saveSelectionUser\">\r\n      <div style=\"margin-top:10px;\">\r\n        <div class=\"app-search\">\r\n          <Input @on-search=\"userFilter\" :search=\"true\" v-model=\"searchValue\" placeholder=\"搜索工号或名称\" style=\"width: 300px\"></Input>\r\n          <a @click=\"userFilter\" class=\"app-search-icon\">\r\n            <Button type=\"primary\" size=\"small\">查询</Button>\r\n          </a>\r\n        </div>\r\n        <Table height=\"400\" :loading=\"listUserLoading\" :columns=\"memberInfoColumnsModel\" :data=\"listUserData\" size='small' ref=\"selection\" @on-select-all=\"onSelectAll\" @on-selection-change=\"handerSelectionChange\" @on-select-cancel=\"onSelectCancel\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-page-size-change=\"onPageSizeChange\" @on-change=\"listUserChangePage\" show-total show-elevator show-sizer></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"page-selection-warp\" v-show=\"onPageSelection[0] \">\r\n        <Tag v-for=\"item in onPageSelection\" :key=\"item.userId\" :userId=\"item.userId\" :closable=\"true\" @on-close=\"deletePageSelection\" type=\"border\" color=\"primary\" size=\"small\">\r\n          {{item.nickname}}\r\n        </Tag>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport {\r\n  listUsers,\r\n  addOrgMember,\r\n  deleteOrgMember,\r\n  getAllUsers\r\n} from \"@/services/addressBookService.js\";\r\nimport CustomTable from \"./CustomTable\";\r\nexport default {\r\n  name: \"member-info\",\r\n\r\n  components: {\r\n    MemberModal,\r\n    CustomTable\r\n  },\r\n\r\n  props: {\r\n    groupId: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      memberInfoLoading: false,\r\n      memberInfoParams: {\r\n        groupId: this.groupId,\r\n        page: 1,\r\n        limit: 10\r\n      },\r\n      memberInfoColumns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"头像\",\r\n          key: \"photo\",\r\n          width: 80,\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\"Avatar\", {\r\n                props: {\r\n                  src: params.row.photo\r\n                }\r\n              })\r\n            ]);\r\n          }\r\n        },\r\n        {\r\n          title: \"工号\",\r\n          key: \"userCode\"\r\n        },\r\n        {\r\n          title: \"姓名\",\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n          render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"手机号\",\r\n          key: \"mobile\"\r\n        },\r\n        {\r\n          title: \"邮箱\",\r\n          key: \"email\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 100,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Button\",\r\n              {\r\n                props: {\r\n                  type: \"error\",\r\n                  size: \"small\"\r\n                },\r\n                style: {\r\n                  cursor: \"pointer\"\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: \"确认\",\r\n                      content: \"确认删除该成员？\",\r\n                      onOk: () => {\r\n                        deleteOrgMember(\r\n                          this.groupId,\r\n                          params.row.userId,\r\n                          0\r\n                        ).then(res => {\r\n                          if (res.success) {\r\n                            this.$Message.success(res.message);\r\n                            this.reload = true;\r\n                            this.$emit(\"on-member-info-change\", true);\r\n                          }\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              },\r\n              \"删除\"\r\n            );\r\n          }\r\n        }\r\n      ],\r\n      memberInfoColumnsModel: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"头像\",\r\n          key: \"photo\",\r\n          width: 80,\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\"Avatar\", {\r\n                props: {\r\n                  src: params.row.photo\r\n                }\r\n              })\r\n            ]);\r\n          }\r\n        },\r\n        {\r\n          title: \"工号\",\r\n          key: \"userCode\"\r\n        },\r\n        {\r\n          title: \"姓名\",\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n          render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"手机号\",\r\n          key: \"mobile\"\r\n        },\r\n        {\r\n          title: \"邮箱\",\r\n          key: \"email\"\r\n        }\r\n      ],\r\n\r\n      //模态框参数\r\n      searchValue: \"\",\r\n      isShowMemberModal: false,\r\n      listUserLoading: false,\r\n      listUserData: [],\r\n      listUserPageTotal: 0,\r\n      listUserCurrentPage: 1,\r\n      pageSize: 10,\r\n      //模态框参数\r\n      onPageSelection: [],\r\n      selectDeleteMemberInfo: [],\r\n      reload: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    //选中的成员信息\r\n    onSelectionChange(selection) {\r\n      if (selection.length > 0) {\r\n        this.selectDeleteMemberInfo = selection;\r\n      }\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //全选\r\n    onSelectAll(selection) {\r\n      let obj = {};\r\n      //触发全选事件\r\n      //全选\r\n      this.onPageSelection.push(...selection);\r\n      //数组去重\r\n      this.onPageSelection = this.onPageSelection.reduce((cur, next) => {\r\n        obj[next.userId] ? \"\" : (obj[next.userId] = true && cur.push(next));\r\n        return cur;\r\n      }, []);\r\n    },\r\n\r\n    handerSelectionChange(selection) {\r\n      //取消全选\r\n      if (selection.length === 0) {\r\n        let s = this.$refs.selection.data;\r\n        let p = this.onPageSelection;\r\n        s.map(item => {\r\n          p = p.filter(f => {\r\n            return f.userId !== item.userId;\r\n          });\r\n        });\r\n        this.onPageSelection = p;\r\n      } else {\r\n        let obj = {};\r\n        this.onPageSelection.push(...selection);\r\n        //数组去重\r\n        this.onPageSelection = this.onPageSelection.reduce((cur, next) => {\r\n          obj[next.userId] ? \"\" : (obj[next.userId] = true && cur.push(next));\r\n          return cur;\r\n        }, []);\r\n      }\r\n    },\r\n    //删除分页选中\r\n    deletePageSelection(event) {\r\n      let id = Number(event.target.parentElement.getAttribute(\"userId\"));\r\n      this.onPageSelection = this.onPageSelection.filter(f => {\r\n        return f.userId !== id;\r\n      });\r\n\r\n      this.$refs.selection.data.forEach((item,index) => {\r\n        if (id === item.userId) {\r\n          this.$refs.selection.toggleSelect(index)\r\n        }\r\n      });\r\n    },\r\n\r\n    //单选取消\r\n    onSelectCancel(selection, row) {\r\n      this.onPageSelection = this.onPageSelection.filter(f => {\r\n        return f.userId !== row.userId;\r\n      });\r\n    },\r\n\r\n    //保存选中的用户\r\n    saveSelectionUser() {\r\n      let multiId = [];\r\n      this.onPageSelection.forEach(val => {\r\n        multiId.push(val.userId);\r\n      });\r\n      if (multiId) {\r\n        addOrgMember(this.groupId, multiId.join(\",\"), 1).then(res => {\r\n          if (res.success) {\r\n            this.$Message.success('更新成功');\r\n            this.reload = true;\r\n            this.isShowMemberModal = false;\r\n            this.$emit(\"on-member-info-change\", true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    deleteMemberInfo() {\r\n      let multiId = [];\r\n      if (this.selectDeleteMemberInfo.length > 0) {\r\n        this.selectDeleteMemberInfo.forEach(val => {\r\n          multiId.push(val.userId);\r\n        });\r\n        if (multiId) {\r\n          deleteOrgMember(this.groupId, multiId.join(\",\"), 0).then(res => {\r\n            if (res.success) {\r\n              this.$Message.success(res.message);\r\n              this.reload = true;\r\n              this.$emit(\"on-member-info-change\", true);\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        this.$Message.info(\"请选择要删除的成员\");\r\n      }\r\n    },\r\n\r\n    //获取用户列表\r\n    getListUsers(currentPage, pageSize, filter) {\r\n      this.listUserLoading = true;\r\n      getAllUsers(pageSize, currentPage, filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.listUserPageTotal = res.dataCount;\r\n          this.listUserData = res.tableContent;\r\n\r\n          if (this.onPageSelection.length > 0) {\r\n            this.listUserData.map(item => {\r\n              this.onPageSelection.map(sel => {\r\n                if (item.userId === sel.userId) {\r\n                  item._checked = true;\r\n                }\r\n              });\r\n            });\r\n          }\r\n          this.listUserLoading = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    listUserChangePage(currentPage) {\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.getListUsers(currentPage, this.pageSize, filter);\r\n    },\r\n\r\n    //点击切换每页显示条数\r\n    onPageSizeChange(size) {\r\n      this.pageSize = size;\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.getListUsers(1, size, filter);\r\n    },\r\n\r\n    //显示模态框-添加成员\r\n    showMemberModal() {\r\n      this.isShowMemberModal = true;\r\n      this.searchValue = \"\";\r\n      this.onPageSelection = []; //清空选中的用户\r\n      this.getListUsers(this.listUserCurrentPage, this.pageSize);\r\n    },\r\n\r\n    //过滤\r\n    userFilter() {\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.getListUsers(this.listUserCurrentPage, this.pageSize, filter);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/member-info.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getUsersByGroupId\",\"columns\":_vm.memberInfoColumns,\"apiParams\":_vm.memberInfoParams},on:{\"on-selection-change\":_vm.onSelectionChange,\"on-refesh-change\":_vm.onRefeshChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.showMemberModal}},[_vm._v(\"添加成员\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-添加成员\")]),_vm._v(\" \"),_c('label',{on:{\"click\":_vm.deleteMemberInfo}},[_vm._v(\"移除成员\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-移除成员\")])])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"1000\",\"footerBtnAlign\":\"right\",\"title\":\"选择用户\"},on:{\"on-ok\":_vm.saveSelectionUser},model:{value:(_vm.isShowMemberModal),callback:function ($$v) {_vm.isShowMemberModal=$$v},expression:\"isShowMemberModal\"}},[_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticClass:\"app-search\"},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"search\":true,\"placeholder\":\"搜索工号或名称\"},on:{\"on-search\":_vm.userFilter},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_vm._v(\" \"),_c('a',{staticClass:\"app-search-icon\",on:{\"click\":_vm.userFilter}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('Table',{ref:\"selection\",attrs:{\"height\":\"400\",\"loading\":_vm.listUserLoading,\"columns\":_vm.memberInfoColumnsModel,\"data\":_vm.listUserData,\"size\":\"small\"},on:{\"on-select-all\":_vm.onSelectAll,\"on-selection-change\":_vm.handerSelectionChange,\"on-select-cancel\":_vm.onSelectCancel}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.listUserPageTotal,\"current\":_vm.listUserCurrentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-page-size-change\":_vm.onPageSizeChange,\"on-change\":_vm.listUserChangePage}})],1)])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.onPageSelection[0] ),expression:\"onPageSelection[0] \"}],staticClass:\"page-selection-warp\"},_vm._l((_vm.onPageSelection),function(item){return _c('Tag',{key:item.userId,attrs:{\"userId\":item.userId,\"closable\":true,\"type\":\"border\",\"color\":\"primary\",\"size\":\"small\"},on:{\"on-close\":_vm.deletePageSelection}},[_vm._v(\"\\n        \"+_vm._s(item.nickname)+\"\\n      \")])}))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-da3ca8b2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/member-info.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-da3ca8b2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./member-info.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./member-info.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./member-info.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-da3ca8b2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./member-info.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/member-info.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" >\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n.app-search {\r\n    margin-bottom: 5px;\r\n    .app-search-icon {\r\n      font-size: 1rem;\r\n      color: #39f;\r\n      display: inline-block;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n\r\n  .rfd-principal-table .ivu-table-row-highlight td{\r\n  background-color: #81b2e59c !important;\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getPrincipalByGroupId\" :columns=\"principalColumns\" :apiParams=\"principalParams\" v-model=\"reload\" @on-refesh-change='onRefeshChange' :isHiddenPage=\"true\">\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"addPrincipal\">添加负责人</label>\r\n        <span>-添加负责人</span>\r\n      </div>\r\n    </custom-table>\r\n\r\n    <principal-modal v-model=\"isShowPrincipalModal\" width=\"1000\" footerBtnAlign=\"right\" title=\"选择负责人\" @on-ok=\"savaSelectUser\">\r\n      <div>\r\n        <div class=\"app-search\">\r\n          <Input @on-search=\"userFilter\" :search=\"true\" v-model=\"searchValue\" placeholder=\"搜索工号或者名称\" style=\"width: 300px\"></Input>\r\n          <a @click=\"userFilter\" class=\"app-search-icon\">\r\n              <Button type=\"primary\" size=\"small\">查询</Button>\r\n          </a>\r\n        </div>\r\n        <Table class=\"rfd-principal-table\" height=\"400\" :loading=\"listUserLoading\" :columns=\"principalColumnsModel\" :data=\"listUserData\" size='small' highlight-row ref=\"currentRowTable\" @on-row-dblclick=\"handleDblclick\" @on-current-change=\"onSelectUserList\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-change=\"listUserChangePage\" @on-page-size-change=\"onPageSizeChange\" show-total show-elevator show-sizer></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </principal-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport PrincipalModal from \"@/components/modal/Modal\";\r\nimport CustomTable from \"./CustomTable\";\r\nimport { listUsers, savePrincipal,getAllUsers } from \"@/services/addressBookService.js\";\r\nexport default {\r\n  name: \"principal\",\r\n\r\n  components: {\r\n    CustomTable,\r\n    PrincipalModal\r\n  },\r\n\r\n  props: {\r\n    groupId: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      principalParams: {\r\n        groupId: this.groupId,\r\n        page: 1,\r\n        limit: 10\r\n      },\r\n      searchValue: '',\r\n      principalColumns: [\r\n        {\r\n          title: \"头像\",\r\n          key: \"photo\",\r\n          width: 80,\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\"Avatar\", {\r\n                props: {\r\n                  src: params.row.photo\r\n                }\r\n              })\r\n            ]);\r\n          }\r\n        },\r\n         {\r\n          title: \"工号\",\r\n          width: 100,\r\n          key: \"USER_CODE\"\r\n        },\r\n        {\r\n          title: \"名称\",\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n          render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"联系电话\",\r\n          key: \"mobile\"\r\n        },\r\n        {\r\n          title: \"邮箱\",\r\n          key: \"email\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 120,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Button\",\r\n              {\r\n                props: {\r\n                  type: \"error\",\r\n                  size: \"small\"\r\n                },\r\n                style: {\r\n                  cursor: \"pointer\"\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: \"确认\",\r\n                      content: \"确认删除该负责人？\",\r\n                      onOk: () => {\r\n                        let data = {\r\n                          groupId:this.groupId,\r\n                          principal:''\r\n                        }\r\n                        this.savePrincipal(data)\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              },\r\n              \"删除\"\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      principalColumnsModel: [\r\n         {\r\n          title: \"头像\",\r\n          key: \"photo\",\r\n          width: 80,\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\"Avatar\", {\r\n                props: {\r\n                  src: params.row.photo\r\n                }\r\n              })\r\n            ]);\r\n          }\r\n        },\r\n        {\r\n          title: \"工号\",\r\n          key: \"userCode\"\r\n        },\r\n        {\r\n          title: \"姓名\",\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n          render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"手机号\",\r\n          key: \"mobile\"\r\n        },\r\n        {\r\n          title: \"邮箱\",\r\n          key: \"email\"\r\n        }\r\n      ],\r\n\r\n      //模态框参数\r\n      isShowPrincipalModal: false,\r\n      listUserLoading: false,\r\n      listUserData: [],\r\n      listUserPageTotal: 0,\r\n      listUserCurrentPage: 1,\r\n      pageSize: 10,\r\n\r\n      //模态框参数\r\n      onSelectionModal: [],\r\n      selectDeleteMemberInfo: [],\r\n      reload: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    addPrincipal() {\r\n      this.isShowPrincipalModal = true;\r\n       this.searchValue = '';\r\n      this.getListUsers(this.listUserCurrentPage, this.pageSize);\r\n    },\r\n\r\n    //获取用户列表\r\n    getListUsers(currentPage, pageSize,filter) {\r\n      this.listUserLoading = true;\r\n      getAllUsers(pageSize,currentPage,filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.listUserPageTotal = res.summary.total;\r\n          this.listUserData = res.tableContent;\r\n          this.listUserLoading = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    listUserChangePage(currentPage) {\r\n      let filter = JSON.stringify([{operator_1:\"like\",value_1:this.searchValue,property_1:\"nickname\",link:\"or\",operator_2:\"like\",value_2:this.searchValue,property_2:\"userCode\"}\r\n      ]);\r\n      this.getListUsers(currentPage, this.pageSize,filter);\r\n    },\r\n\r\n       //点击切换每页显示条数\r\n    onPageSizeChange(size) {\r\n      this.pageSize = size;\r\n       let filter = JSON.stringify([{operator_1:\"like\",value_1:this.searchValue,property_1:\"nickname\",link:\"or\",operator_2:\"like\",value_2:this.searchValue,property_2:\"userCode\"}\r\n      ]);\r\n      this.getListUsers(1, size,filter);\r\n    },\r\n\r\n    //监听自定义table传回来的状体值\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //监听模态框选中的用户\r\n    onSelectUserList(currentRow, oldCurrentRow) {\r\n      this.onSelectionModal = currentRow;\r\n    },\r\n\r\n    //双击选中\r\n    handleDblclick(row, index) {\r\n      let data = {\r\n        groupId: this.groupId,\r\n        principal: row.userId\r\n      };\r\n      this.savePrincipal(data);\r\n    },\r\n\r\n    //点击确定保存\r\n    savaSelectUser() {\r\n      let data = {\r\n        groupId: this.groupId,\r\n        principal: this.onSelectionModal.userId\r\n      };\r\n      this.savePrincipal(data);\r\n    },\r\n\r\n    savePrincipal(data) {\r\n      savePrincipal(data)\r\n        .then(res => {\r\n          if (res.success) {\r\n            this.$Message.success(\"更新成功\");\r\n            this.isShowPrincipalModal = false;\r\n            this.reload = true;\r\n            this.$emit(\"on-principal-change\", true);\r\n          }\r\n        })\r\n        .catch(error => {\r\n          this.$Message.error(error.data.message);\r\n        });\r\n    },\r\n    //过滤\r\n    userFilter() {\r\n      let filter = JSON.stringify([{operator_1:\"like\",value_1:this.searchValue,property_1:\"nickname\",link:\"or\",operator_2:\"like\",value_2:this.searchValue,property_2:\"userCode\"}\r\n      ]);\r\n      this.getListUsers(this.listUserCurrentPage,this.pageSize,filter);\r\n    }\r\n  }\r\n};\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/principal.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getPrincipalByGroupId\",\"columns\":_vm.principalColumns,\"apiParams\":_vm.principalParams,\"isHiddenPage\":true},on:{\"on-refesh-change\":_vm.onRefeshChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.addPrincipal}},[_vm._v(\"添加负责人\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-添加负责人\")])])]),_vm._v(\" \"),_c('principal-modal',{attrs:{\"width\":\"1000\",\"footerBtnAlign\":\"right\",\"title\":\"选择负责人\"},on:{\"on-ok\":_vm.savaSelectUser},model:{value:(_vm.isShowPrincipalModal),callback:function ($$v) {_vm.isShowPrincipalModal=$$v},expression:\"isShowPrincipalModal\"}},[_c('div',[_c('div',{staticClass:\"app-search\"},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"search\":true,\"placeholder\":\"搜索工号或者名称\"},on:{\"on-search\":_vm.userFilter},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_vm._v(\" \"),_c('a',{staticClass:\"app-search-icon\",on:{\"click\":_vm.userFilter}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('Table',{ref:\"currentRowTable\",staticClass:\"rfd-principal-table\",attrs:{\"height\":\"400\",\"loading\":_vm.listUserLoading,\"columns\":_vm.principalColumnsModel,\"data\":_vm.listUserData,\"size\":\"small\",\"highlight-row\":\"\"},on:{\"on-row-dblclick\":_vm.handleDblclick,\"on-current-change\":_vm.onSelectUserList}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.listUserPageTotal,\"current\":_vm.listUserCurrentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.listUserChangePage,\"on-page-size-change\":_vm.onPageSizeChange}})],1)])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0bf2d072\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/principal.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0bf2d072\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./principal.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./principal.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./principal.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0bf2d072\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./principal.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/principal.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getObjectPermission2Oneself\" :columns=\"permissionColumns\" :apiParams=\"permissionParams\" v-model=\"reload\" @on-selection-change=\"onSelectionChange\" @on-refesh-change='onRefeshChange'>\r\n      <!-- <div slot=\"header\" class=\"permission-container-btn\">\r\n        <Button icon=\"md-add\" type=\"primary\" @click=\"addPermission\">添加权限</Button>\r\n        <Button icon=\"md-remove\" type=\"info\" @click=\"deletePermission\" :disabled=\"deleteBtnDisable\">移除权限</Button>\r\n      </div> -->\r\n\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"addPermission\">添加权限</label>\r\n        <span>-添加权限</span>\r\n\r\n        <label @click=\"deletePermission\">移除权限</label>\r\n        <span>-移除权限</span>\r\n\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowModal\" width=\"600\" footerBtnAlign=\"right\" title=\"权限列表\" @on-ok=\"savePermission\">\r\n      <div style=\"max-height:350px;overflow:auto;\">\r\n        <Tree :data=\"allPermissionData\" :multiple=\"true\" @on-select-change=\"onCheckChange\" :load-data=\"loadData\"></Tree>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport {\r\n  getAllPermissionData,\r\n  addOrgPermission,\r\n  deleteOrgPermission\r\n} from \"@/services/addressBookService.js\";\r\nimport CustomTable from \"./CustomTable\";\r\nexport default {\r\n  name: \"principal\",\r\n\r\n  components: {\r\n    CustomTable,\r\n    MemberModal\r\n  },\r\n\r\n  props: {\r\n    groupId: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      permissionParams: {\r\n        objectName: \"group\",\r\n        objectId: this.groupId,\r\n        page: 1,\r\n        limit: 10,\r\n        start: 0\r\n      },\r\n      permissionColumns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"id\",\r\n          key: \"id\",\r\n          hidden: true\r\n        },\r\n        {\r\n          title: \"名称\",\r\n          key: \"name\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 120,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Button\",\r\n              {\r\n                props: {\r\n                  type: \"error\",\r\n                  size: \"small\"\r\n                },\r\n                style: {\r\n                  cursor: \"pointer\",\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: \"确认\",\r\n                      content: \"确认删除该权限？\",\r\n                      onOk: () => {\r\n                        deleteOrgPermission(\r\n                          this.groupId,\r\n                          params.row.id\r\n                        ).then(res => {\r\n                          if (res.success) {\r\n                            this.$Message.success(res.message);\r\n                            this.reload = true;\r\n                            this.isShowModal = false;\r\n                            this.$emit(\"on-permission-change\", true);\r\n                          }\r\n                        });\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              },\r\n              \"删除\"\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      //模态框参数\r\n      isShowModal: false,\r\n      allPermissionData: [],\r\n      selectPermissionNode: [],\r\n      selectDeletePermission: [],\r\n      reload: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    listUserChangePage(currentPage) {\r\n      this.getListUsers(currentPage, this.pageSize);\r\n    },\r\n\r\n    addPermission() {\r\n      this.isShowModal = true;\r\n      this.getAllPermissionData();\r\n    },\r\n\r\n    deletePermission() {\r\n      let that = this;\r\n      let multiId = [];\r\n      this.selectDeletePermission.forEach(val => {\r\n        multiId.push(val.id);\r\n      });\r\n      if (multiId) {\r\n        deleteOrgPermission(this.groupId, multiId.join(\",\")).then(res => {\r\n          if (res.success) {\r\n            that.$Message.success(res.message);\r\n            that.reload = true;\r\n            that.isShowModal = false;\r\n            this.$emit(\"on-permission-change\", true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    onSelectionChange(selection) {\r\n      if (selection.length > 0) {\r\n        this.selectDeletePermission = selection;\r\n      }\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //点击节点选择权限\r\n    onCheckChange(node) {\r\n      this.selectPermissionNode = node;\r\n    },\r\n\r\n    //保存添加的权限\r\n    savePermission() {\r\n      let multiId = [];\r\n      this.selectPermissionNode.forEach(val => {\r\n        multiId.push(val.id);\r\n      });\r\n      if (multiId) {\r\n        addOrgPermission(this.groupId, multiId.join(\",\")).then(res => {\r\n          if (res.success) {\r\n            this.$Message.success(res.message);\r\n            this.selectPermissionNode = [];\r\n            this.reload = true;\r\n            this.isShowModal = false;\r\n            this.$emit(\"on-permission-change\", true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    //加载所有权限数据\r\n    getAllPermissionData() {\r\n      if (this.allPermissionData.length === 0) {\r\n        getAllPermissionData(0).then(res => {\r\n          res.tableContent.forEach(val => {\r\n            this.allPermissionData.push({\r\n              title: val.name,\r\n              id: val.id,\r\n              loading: false,\r\n              children: []\r\n            });\r\n          });\r\n        });\r\n      }\r\n    },\r\n\r\n    //异步加载权限数据\r\n    loadData(item, callback) {\r\n      getAllPermissionData(item.id).then(res => {\r\n        let data = [];\r\n        res.tableContent.forEach(val => {\r\n          if (val.leaf === \"false\") {\r\n            data.push({\r\n              title: val.name,\r\n              id: val.id,\r\n              loading: false,\r\n              children: []\r\n            });\r\n          } else {\r\n            data.push({\r\n              title: val.name,\r\n              id: val.id\r\n            });\r\n          }\r\n        });\r\n        callback(data);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/permission.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getObjectPermission2Oneself\",\"columns\":_vm.permissionColumns,\"apiParams\":_vm.permissionParams},on:{\"on-selection-change\":_vm.onSelectionChange,\"on-refesh-change\":_vm.onRefeshChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.addPermission}},[_vm._v(\"添加权限\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-添加权限\")]),_vm._v(\" \"),_c('label',{on:{\"click\":_vm.deletePermission}},[_vm._v(\"移除权限\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-移除权限\")])])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"600\",\"footerBtnAlign\":\"right\",\"title\":\"权限列表\"},on:{\"on-ok\":_vm.savePermission},model:{value:(_vm.isShowModal),callback:function ($$v) {_vm.isShowModal=$$v},expression:\"isShowModal\"}},[_c('div',{staticStyle:{\"max-height\":\"350px\",\"overflow\":\"auto\"}},[_c('Tree',{attrs:{\"data\":_vm.allPermissionData,\"multiple\":true,\"load-data\":_vm.loadData},on:{\"on-select-change\":_vm.onCheckChange}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f10ee940\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/permission.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f10ee940\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./permission.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./permission.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./permission.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f10ee940\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./permission.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f10ee940\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/permission.vue\n// module id = null\n// module chunks = ","<style lang=\"less\">\r\n@import \"./organization.less\";\r\n</style>\r\n\r\n<template>\r\n  <div class=\"organization-wrap\">\r\n    <header class=\"organization-wrap-header\">\r\n      <span class=\"organization-wrap-header-org\">组织</span>\r\n      <span class=\"organization-wrap-header-others\">/</span>\r\n      <span v-show=\"groupId\" class=\"organization-wrap-header-others\">{{name}}</span>\r\n      <span v-show=\"!groupId\" class=\"organization-wrap-header-others\">创建</span>\r\n      <Tag v-show=\"groupId\" class=\"radius10 marlr10 color_fff\" v-instanceStateDirective=\"{status:formItem.status}\" style=\"margin-bottom: 7px;\"></Tag>\r\n    </header>\r\n\r\n    <div class=\"organization-wrap-action\">\r\n      <ul>\r\n        <li v-for=\"(item,index) in actionBtn\" :key=\"index\" v-if=\"!item.hidden\" class=\"organization-wrap-action-li\" v-bind:class=\"index===actionIndex?'organization-wrap-action-li-active':''\" @click=\"handlerViewChange(index)\">\r\n          <div>\r\n            <img v-if=\"!item.type\" :src=\"item.imgPath\" class=\"organization-wrap-action-li-img\" />\r\n            <Icon v-else :type=\"item.type\" class=\"icon\" />\r\n            <div class=\"left-content\">\r\n              <span v-show=\"item.number!=='undefine'\">{{item.number}}</span>\r\n              <h3>{{item.label}}</h3>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"organization-wrap-tabs\">\r\n      <!-- 基本信息 -->\r\n      <section class=\"baseinfo-container rfd-tab-container-common\" v-if=\"actionIndex===5\">\r\n        <Form :model=\"formItem\" :labelWidth=\"120\" ref=\"formItem\" :rules=\"ruleValidate\" :class=\"{'is-required':isEdit}\">\r\n          <FormItem label=\"组织名称:\" style=\"font-size:16px\" prop=\"groupName\">\r\n            <Input v-model=\"formItem.groupName\" @on-blur=\"onGroupNameOutBlur\" :readonly=\"isEdit\" :class=\"isEdit?'input-status-isedit':''\" />\r\n          </FormItem>\r\n\r\n          <FormItem label=\"组织类型\" :labelWidth=\"120\" prop=\"groupType\">\r\n            <Select @on-change=\"changeGroupType\" v-model=\"formItem.groupType\" :disabled=\"isEdit\" :class=\"isEdit?'input-status-isedit':''\">\r\n              <Option value=\"M\">管理层</Option>\r\n              <Option value=\"A\">事业部</Option>\r\n              <Option value=\"O\">部门</Option>\r\n              <Option value=\"G\">小组</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <FormItem label=\"组织职能\" :labelWidth=\"120\" prop=\"depFunction\">\r\n            <Select v-model=\"formItem.depFunction\" :disabled=\"isEdit\" :class=\"isEdit?'input-status-isedit':''\">\r\n              <Option value=\"M\">管理</Option>\r\n              <Option value=\"S\">销售</Option>\r\n              <Option value=\"C\">制造</Option>\r\n              <Option value=\"R\">研发</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <div class=\"baseinfo-container-divider\"></div>\r\n          <FormItem label=\"组织负责人\" :labelWidth=\"120\" prop=\"principalName\" style=\"margin-top:20px\">\r\n            <Input @on-click=\"selectPrincipalModal\" v-model=\"formItem.principalName\" icon=\"md-arrow-dropdown\" placeholder=\"选择用户\" :readonly=\"isEdit\" :class=\"isEdit?'input-status-isedit':''\"></Input>\r\n          </FormItem>\r\n          <FormItem label=\"上级组织\" :labelWidth=\"120\" prop=\"highGroup\" style=\"margin-top:20px\">\r\n            <Input @on-click=\"selectHighOrgModal\" v-model=\"formItem.highGroup\" icon=\"md-arrow-dropdown\" placeholder=\"选择上级组织\" :readonly=\"isEdit\" :class=\"isEdit?'input-status-isedit':''\"></Input>\r\n          </FormItem>\r\n          <FormItem v-if=\"hiddenInput\" label=\"上级组织parentId\" style=\"font-size:16px\">\r\n            <Input v-model=\"formItem.parentId\" />\r\n          </FormItem>\r\n          <div class=\"baseinfo-container-divider\"></div>\r\n          <FormItem label=\"组织状态\" :labelWidth=\"120\" style=\"margin-top:20px\">\r\n            <Select v-model=\"formItem.status\" :disabled=\"isEdit\" :class=\"isEdit?'input-status-isedit':''\">\r\n              <Option v-for=\"(item,index) in statusRadio\" :key=\"index\" :value=\"item.value\">{{item.name}}</Option>\r\n            </Select>\r\n          </FormItem>\r\n        </Form>\r\n        <div class=\"baseinfo-container-action\">\r\n          <input type='submit' value=\"关闭\" class=\"baseinfo-container-action-submit\" @click=\"cancle\" />\r\n          <input type='submit' :value=\"editBtnName\" class=\"baseinfo-container-action-submit\" @click=\"edit\" v-if=\"groupId\" />\r\n          <input type='submit' value=\"保存\" class=\"baseinfo-container-action-submit\" @click=\"save\" v-show=\"!isEdit\" />\r\n          <input type='submit' value=\"保存并新建\" class=\"baseinfo-container-action-submit\" v-if=\"!groupId\" @click=\"saveAndAdd\" />\r\n        </div>\r\n      </section>\r\n      <!-- 上级组织 -->\r\n      <section class=\"memberinfo-container rfd-tab-container-common\" v-if=\"actionIndex===4\">\r\n        <high-organization :groupId=\"groupId\" :groupType=\"formItem.groupType\" @on-high-organization-change='handleChangeObjDetailsCount'></high-organization>\r\n      </section>\r\n      <!-- 下级组织 -->\r\n      <section class=\"memberinfo-container rfd-tab-container-common\" v-if=\"actionIndex===3\">\r\n        <lower-organization :groupId=\"groupId\" :groupType=\"formItem.groupType\" @on-lower-organization-change='handleChangeObjDetailsCount'></lower-organization>\r\n      </section>\r\n      <!-- 负责人 -->\r\n      <section class=\"memberinfo-container rfd-tab-container-common\" v-if=\"actionIndex===2\">\r\n        <principal :groupId=\"groupId\" @on-principal-change='handleChangeObjDetailsCount'></principal>\r\n      </section>\r\n      <!-- 成员信息 -->\r\n      <section class=\"memberinfo-container rfd-tab-container-common\" v-if=\"actionIndex===1\">\r\n        <member-info :groupId=\"groupId\" @on-member-info-change='handleChangeObjDetailsCount'></member-info>\r\n      </section>\r\n      <!-- 权限 -->\r\n      <section class=\"permission-container rfd-tab-container-common\" v-if=\"actionIndex===0\">\r\n        <permission :groupId=\"groupId\" @on-permission-change='handleChangeObjDetailsCount'></permission>\r\n      </section>\r\n    </div>\r\n    <member-modal v-model=\"isShowMemberModal\" width=\"700\" footerBtnAlign=\"right\" title=\"选择组织\" @on-ok=\"saveSelectionHighOrg\">\r\n      <div style=\"margin-top:10px;\">\r\n        <div class=\"app-search\">\r\n          <Input @on-search=\"orgFilter\" :search=\"true\" v-model=\"searchHighOrgValue\" placeholder=\"搜索组织名称\" style=\"width: 300px\"></Input>\r\n          <a @click=\"orgFilter\" class=\"app-search-icon\">\r\n            <Button type=\"primary\" size=\"small\">查询</Button>\r\n          </a>\r\n        </div>\r\n        <Table class=\"rfd-table\" height=\"400\" :loading=\"highOrgModalLoading\" :columns=\"highOrgColumnsModal\" :data=\"listUserData\" size='small' highlight-row ref=\"currentRowTable\" @on-row-dblclick=\"handleHighOrgDblclick\" @on-current-change=\"onSelectUserList\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-page-size-change=\"onHighOrgPageSizeChange\" @on-change=\"listUserChangePage\" show-total show-elevator show-sizer></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </member-modal>\r\n    <principal-modal v-model=\"isShowPrincipalModal\" width=\"700\" footerBtnAlign=\"right\" title=\"选择负责人\" @on-ok=\"savaSelectPrincipal\">\r\n      <div>\r\n        <div class=\"app-search\">\r\n          <Input @on-search=\"userFilter\" :search=\"true\" v-model=\"searchPrincipalValue\" placeholder=\"搜索工号或者名称\" style=\"width: 300px\"></Input>\r\n          <a @click=\"userFilter\" class=\"app-search-icon\">\r\n            <Button type=\"primary\" size=\"small\">查询</Button>\r\n          </a>\r\n        </div>\r\n        <Table class=\"rfd-table\" height=\"400\" :loading=\"PrincipalModaLoading\" :columns=\"principalColumnsModel\" :data=\"principalData\" size='small' highlight-row ref=\"currentRowTable\" @on-row-dblclick=\"handlePrinciplDblclick\" @on-current-change=\"onSelectPrincipal\"></Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"principalPageTotal\" :current=\"principalCurrentPage\" :page-size=\"principalPageSize\" size=\"small\" @on-page-size-change=\"onPrincipalPageSizeChange\" @on-change=\"principalChangePage\" show-total show-elevator show-sizer></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </principal-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getOrgBaseInfo,\r\n  getObjDetailsCountByGroupId,\r\n  saveBaseinfo,\r\n  updateBaseinfo,\r\n  checkoutFieldIsOnly,\r\n  getAllGroup,\r\n  getAllUsers\r\n} from \"@/services/addressBookService.js\";\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport PrincipalModal from \"@/components/modal/Modal\";\r\nimport HighOrganization from \"./instance/higher-organization\";\r\nimport LowerOrganization from \"./instance/lower-origanization\";\r\nimport MemberInfo from \"./instance/member-info\";\r\nimport Principal from \"./instance/principal\";\r\nimport Permission from \"./instance/permission\";\r\nexport default {\r\n  name: \"organization\",\r\n\r\n  components: {\r\n    MemberModal,\r\n    HighOrganization,\r\n    LowerOrganization,\r\n    MemberInfo,\r\n    Principal,\r\n    Permission,\r\n    PrincipalModal\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      formItem: {\r\n        groupName: \"\",\r\n        groupType: \"\",\r\n        depFunction: \"\",\r\n        status: 1,\r\n        principal: \"\",\r\n        principalName: \"\",\r\n        highGroup: \"\",\r\n        parentId: \"\"\r\n      },\r\n\r\n      isEdit: true,\r\n      editBtnName: \"编辑\",\r\n\r\n      hiddenInput: false,\r\n\r\n      statusRadio: [\r\n        {\r\n          name: \"停用\",\r\n          value: -1\r\n        },\r\n        {\r\n          name: \"使用中\",\r\n          value: 1\r\n        },\r\n        {\r\n          name: \"未使用\",\r\n          value: 2\r\n        },\r\n        {\r\n          name: \"草稿\",\r\n          value: 3\r\n        }\r\n      ],\r\n\r\n      actionBtn: [\r\n        {\r\n          label: \"权限\",\r\n          type: \"md-person\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"objectPermission\"\r\n        },\r\n        {\r\n          label: \"成员信息\",\r\n          imgPath: \"resources/images/icon/user.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"user\"\r\n        },\r\n        {\r\n          label: \"负责人\",\r\n          imgPath: \"resources/images/icon/user.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"groupPrincipal\"\r\n        },\r\n        {\r\n          label: \"下级组织\",\r\n          imgPath: \"resources/images/icon/organization.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"childGroup\"\r\n        },\r\n        {\r\n          label: \"上级组织\",\r\n          imgPath: \"resources/images/icon/organization.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"parentGroup\"\r\n        },\r\n        {\r\n          label: \"基本信息\",\r\n          type: \"ios-home\",\r\n          hidden: false,\r\n          id: \"baseinfo\"\r\n        }\r\n      ],\r\n\r\n      actionIndex: 5,\r\n\r\n      //上级组织模态框属性\r\n      isShowMemberModal: false,\r\n      highOrgModalLoading: true,\r\n      //存放编辑时的上级组织\r\n      editHighOrg: \"\",\r\n      editHighOrgParentId: \"\",\r\n      name: \"\",\r\n      groupType: \"\",\r\n      parentType: \"\",\r\n      listUserData: [],\r\n      highOrgColumnsModal: [\r\n        {\r\n          title: \"组织名称\",\r\n          key: \"groupName\"\r\n        },\r\n        {\r\n          title: \"组织类型\",\r\n          key: \"groupType\",\r\n          render: (h, params) => {\r\n            let groupType = params.row.groupType;\r\n            switch (groupType) {\r\n              case \"M\":\r\n                groupType = \"管理层\";\r\n                break;\r\n              case \"A\":\r\n                groupType = \"事业部\";\r\n                break;\r\n              case \"O\":\r\n                groupType = \"部门\";\r\n                break;\r\n              case \"G\":\r\n                groupType = \"小组\";\r\n                break;\r\n            }\r\n            return h(\"span\", groupType);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织职能\",\r\n          key: \"depFunction\",\r\n          render: (h, params) => {\r\n            let depFunction = params.row.depFunction;\r\n            switch (depFunction) {\r\n              case \"M\":\r\n                depFunction = \"管理\";\r\n                break;\r\n              case \"S\":\r\n                depFunction = \"销售\";\r\n                break;\r\n              case \"C\":\r\n                depFunction = \"制造\";\r\n                break;\r\n              case \"R\":\r\n                depFunction = \"研发\";\r\n                break;\r\n            }\r\n            return h(\"span\", depFunction);\r\n          }\r\n        },\r\n        {\r\n          title: \"组织状态\",\r\n          key: \"status\",\r\n          render: (h, params) => {\r\n            let status = params.row.status,\r\n              value = \"\";\r\n            switch (status) {\r\n              case -1:\r\n                value = \"停用\";\r\n                break;\r\n              case 1:\r\n                value = \"使用中\";\r\n                break;\r\n              case 2:\r\n                value = \"未使用\";\r\n                break;\r\n              case 3:\r\n                value = \"草稿\";\r\n                break;\r\n            }\r\n            return h(\r\n              \"span\",\r\n              {\r\n                style: {\r\n                  color: status ? \"#0279f6\" : \"#f03707\",\r\n                  cursor: \"default\"\r\n                }\r\n              },\r\n              value\r\n            );\r\n          }\r\n        }\r\n      ],\r\n      listUserPageTotal: 0,\r\n      listUserCurrentPage: 1,\r\n      pageSize: 10,\r\n      searchHighOrgValue: \"\",\r\n      onSelectionModal: [],\r\n\r\n      //负责人模态框参数\r\n      isShowPrincipalModal: false,\r\n      PrincipalModaLoading: false,\r\n      principalData: [],\r\n      principalPageTotal: 0,\r\n      principalCurrentPage: 1,\r\n      principalPageSize: 10,\r\n      searchPrincipalValue: \"\",\r\n      onSelectionPrincipal: [],\r\n      principalColumnsModel: [\r\n        {\r\n          title: \"工号\",\r\n          key: \"userCode\"\r\n        },\r\n        {\r\n          title: \"姓名\",\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n          render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"手机号\",\r\n          key: \"mobile\"\r\n        }\r\n      ],\r\n\r\n      ruleValidate: {\r\n        groupName: [\r\n          {\r\n            required: true,\r\n            message: \"请输入组织名称\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        highGroup: [\r\n          {\r\n            required: true,\r\n            message: \"请选择上级组织\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        groupType: [\r\n          {\r\n            required: true,\r\n            message: \"请选择组织类型\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        depFunction: [\r\n          {\r\n            required: true,\r\n            message: \"请选择组织职能\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        principal: [\r\n          {\r\n            required: true,\r\n            message: \"请选择负责人\",\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      },\r\n\r\n      checkout: true,\r\n\r\n      groupId: this.$route.params.groupId\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    //切换相关实例\r\n    handlerViewChange(index) {\r\n      this.actionIndex = index;\r\n    },\r\n\r\n    cancle() {\r\n      let that = this;\r\n      that.$Modal.confirm({\r\n        title: \"提示\",\r\n        content: \"是否关闭当前页面\",\r\n        closable: true,\r\n        onOk: function() {\r\n          location.href = \"/Site/index.html#page/origanizations\";\r\n        }\r\n      });\r\n    },\r\n\r\n    edit() {\r\n      this.isEdit = !this.isEdit;\r\n      this.editBtnName = this.isEdit ? \"编辑\" : \"放弃编辑\";\r\n    },\r\n\r\n    saveAndAdd() {\r\n      this.$refs[\"formItem\"].validate(valid => {\r\n        if (valid && !this.groupId && this.checkout) {\r\n          delete this.formItem.groupId;\r\n\r\n          saveBaseinfo(this.formItem).then(res => {\r\n            if (res) {\r\n              this.$Message.success(\"保存成功\");\r\n              this.$refs[\"formItem\"].resetFields();\r\n              this.formItem = {\r\n                groupName: \"\",\r\n                groupType: \"\",\r\n                depFunction: \"\",\r\n                status: 1\r\n              };\r\n            }\r\n          });\r\n        }\r\n        if (!this.checkout) {\r\n          this.$Message.error(\"名称已经存在!\");\r\n        }\r\n      });\r\n    },\r\n\r\n    save() {\r\n      this.$refs[\"formItem\"].validate(valid => {\r\n        if (valid) {\r\n          if (!this.groupId && this.checkout) {\r\n            delete this.formItem.groupId;\r\n            saveBaseinfo(this.formItem).then(res => {\r\n              if (res) {\r\n                this.$Message.success(\"保存成功\");\r\n                this.$router.push({\r\n                  path: \"/addressBook/organization/detail/\" + res.groupId\r\n                });\r\n                window.location.reload();\r\n              }\r\n            });\r\n          } else if (this.groupId && this.checkout) {\r\n            this.formItem.groupId = this.groupId;\r\n            updateBaseinfo(this.formItem).then(res => {\r\n              if (res) {\r\n                this.$Message.success(\"更新成功\");\r\n                window.location.reload();\r\n              }\r\n            });\r\n          }\r\n          if (!this.checkout) {\r\n            this.$Message.error(\"名称已经存在!\");\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    getObjDetailsCountByGroupId(groupId) {\r\n      getObjDetailsCountByGroupId(groupId).then(res => {\r\n        this.actionBtn.forEach(element => {\r\n          element.number = res[element.id];\r\n        });\r\n      });\r\n    },\r\n\r\n    handleChangeObjDetailsCount(val) {\r\n      if (val) {\r\n        this.getObjDetailsCountByGroupId(this.groupId);\r\n      }\r\n    },\r\n\r\n    listUserChangePage(currentPage) {\r\n      let filter = [\r\n        {\r\n          operator: \"like\",\r\n          value: this.searchHighOrgValue,\r\n          property: \"groupName\"\r\n        }\r\n      ];\r\n      this.getAllGroup(currentPage, this.pageSize, filter);\r\n    },\r\n    //过滤\r\n    orgFilter() {\r\n      let filter = [\r\n        {\r\n          operator: \"like\",\r\n          value: this.searchHighOrgValue,\r\n          property: \"groupName\"\r\n        }\r\n      ];\r\n      this.getAllGroup(this.listUserCurrentPage, this.pageSize, filter);\r\n    },\r\n\r\n    //监听模态框选中的用户\r\n    onSelectUserList(currentRow, oldCurrentRow) {\r\n      this.onSelectionModal = currentRow;\r\n    },\r\n\r\n    //当组织名称失去焦点的是校验名称\r\n    onGroupNameOutBlur() {\r\n      let filter = {};\r\n      if (!this.isEdit) {\r\n        if (this.groupId) {\r\n          filter = [\r\n            {\r\n              filedName: \"groupName\",\r\n              value: this.formItem.groupName,\r\n              symbol: \"=\"\r\n            },\r\n            {\r\n              filedName: \"groupId\",\r\n              symbol: \"<>\",\r\n              value: this.groupId\r\n            }\r\n          ];\r\n        } else {\r\n          filter = [\r\n            {\r\n              filedName: \"groupName\",\r\n              value: this.formItem.groupName,\r\n              symbol: \"=\"\r\n            }\r\n          ];\r\n        }\r\n        filter = JSON.stringify(filter);\r\n        //当groupId不存在时，校验名称是否唯一\r\n        checkoutFieldIsOnly(\"sys_group\", filter)\r\n          .then(res => {\r\n            if (res.result > 0) {\r\n              this.checkout = false;\r\n              this.$Message.error(\"名称已经存在!\");\r\n            } else {\r\n              this.checkout = true;\r\n            }\r\n          })\r\n          .catch(error => {\r\n            this.$Message.error(error.data.message);\r\n          });\r\n      }\r\n    },\r\n\r\n    //获取所有组织\r\n    getAllGroup(currentPage, pageSize, relfilter) {\r\n      this.highOrgModalLoading = true;\r\n      let filter = relfilter ? relfilter : [];\r\n      if (this.formItem.groupType) {\r\n        switch (this.formItem.groupType) {\r\n          case \"小组\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"岗位\",\r\n              property: \"groupType\"\r\n            }); //岗位\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            break;\r\n          case \"部门\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"岗位\",\r\n              property: \"groupType\"\r\n            }); //岗位\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            break;\r\n          case \"事业部\":\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"岗位\",\r\n              property: \"groupType\"\r\n            }); //岗位\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"小组\",\r\n              property: \"groupType\"\r\n            }); //小组\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"部门\",\r\n              property: \"groupType\"\r\n            }); //部门\r\n            filter.push({\r\n              operator: \"ne\",\r\n              value: \"事业部\",\r\n              property: \"groupType\"\r\n            }); //事业部\r\n            break;\r\n        }\r\n      }\r\n      filter = JSON.stringify(filter);\r\n      getAllGroup(currentPage, pageSize, filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.listUserPageTotal = res.summary.total;\r\n          this.listUserData = res.tableContent;\r\n          this.highOrgModalLoading = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    //展示上级组织选择器\r\n    selectHighOrgModal() {\r\n      this.isShowMemberModal = true;\r\n      this.searchHighOrgValue = \"\";\r\n      this.getAllGroup(this.listUserCurrentPage, this.pageSize);\r\n    },\r\n    //确认选择的上级组织\r\n    saveSelectionHighOrg() {\r\n      this.formItem.highGroup = this.onSelectionModal.groupName;\r\n      this.formItem.parentId = this.onSelectionModal.groupId;\r\n      this.isShowMemberModal = false;\r\n    },\r\n    changeGroupType(value) {\r\n      if (this.groupId) {\r\n        if (this.groupType === \"小组\") {\r\n          if (value === \"M\") {\r\n            if (this.parentType === \"A\") {\r\n              this.formItem.highGroup = \"\";\r\n              this.formItem.parentId = \"\";\r\n            } else if (this.parentType === \"O\") {\r\n              this.formItem.highGroup = \"\";\r\n              this.formItem.parentId = \"\";\r\n            } else {\r\n              this.formItem.highGroup = this.editHighOrg;\r\n              this.formItem.parentId = this.editHighOrgParentId;\r\n            }\r\n          } else if (value === \"A\") {\r\n            if (this.parentType === \"A\") {\r\n              this.formItem.highGroup = \"\";\r\n              this.formItem.parentId = \"\";\r\n            } else if (this.parentType === \"O\") {\r\n              this.formItem.highGroup = \"\";\r\n              this.formItem.parentId = \"\";\r\n            } else {\r\n              this.formItem.highGroup = this.editHighOrg;\r\n              this.formItem.parentId = this.editHighOrgParentId;\r\n            }\r\n          } else if (value === \"O\") {\r\n            if (this.parentType === \"O\") {\r\n              this.formItem.highGroup = \"\";\r\n              this.formItem.parentId = \"\";\r\n            } else {\r\n              this.formItem.highGroup = this.editHighOrg;\r\n              this.formItem.parentId = this.editHighOrgParentId;\r\n            }\r\n          } else {\r\n            this.formItem.highGroup = this.editHighOrg;\r\n            this.formItem.parentId = this.editHighOrgParentId;\r\n          }\r\n        } else if (this.groupType === \"部门\") {\r\n          if (value === \"M\") {\r\n            if (this.parentType === \"A\") {\r\n              this.formItem.highGroup = \"\";\r\n              this.formItem.parentId = \"\";\r\n            } else {\r\n              this.formItem.highGroup = this.editHighOrg;\r\n              this.formItem.parentId = this.editHighOrgParentId;\r\n            }\r\n          } else if (value === \"A\") {\r\n            if (this.parentType === \"A\") {\r\n              this.formItem.highGroup = \"\";\r\n              this.formItem.parentId = \"\";\r\n            } else {\r\n              this.formItem.highGroup = this.editHighOrg;\r\n              this.formItem.parentId = this.editHighOrgParentId;\r\n            }\r\n          } else {\r\n            this.formItem.highGroup = this.editHighOrg;\r\n            this.formItem.parentId = this.editHighOrgParentId;\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    //展示负责人选择器\r\n    selectPrincipalModal() {\r\n      this.isShowPrincipalModal = true;\r\n      this.searchPrincipalValue = \"\";\r\n      this.getListUsers(this.principalCurrentPage, this.principalPageSize);\r\n    },\r\n\r\n    //获取用户列表\r\n    getListUsers(currentPage, pageSize, filter) {\r\n      this.PrincipalModaLoading = true;\r\n      getAllUsers(pageSize, currentPage, filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.principalPageTotal = res.summary.total;\r\n          this.principalData = res.tableContent;\r\n          this.PrincipalModaLoading = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    principalChangePage(currentPage) {\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchPrincipalValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchPrincipalValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.getListUsers(currentPage, this.principalPageSize, filter);\r\n    },\r\n\r\n    //监听模态框选中的用户\r\n    onSelectPrincipal(currentRow, oldCurrentRow) {\r\n      this.onSelectionPrincipal = currentRow;\r\n    },\r\n\r\n    //双击负责人选中\r\n    handlePrinciplDblclick(row, index) {\r\n      this.formItem.principalName = row.nickname;\r\n      this.formItem.principal = row.userId;\r\n      this.isShowPrincipalModal = false;\r\n    },\r\n\r\n    //负责人点击切换每页显示条数\r\n    onPrincipalPageSizeChange(size) {\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchPrincipalValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchPrincipalValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.principalPageSize = size;\r\n      this.getListUsers(1, size, filter);\r\n    },\r\n\r\n    //双击上级组织选中\r\n    handleHighOrgDblclick(row, index) {\r\n      this.formItem.highGroup = row.groupName;\r\n      this.formItem.parentId = row.groupId;\r\n      this.isShowMemberModal = false;\r\n    },\r\n\r\n    //上级组织点击切换每页显示条数\r\n    onHighOrgPageSizeChange(size) {\r\n      this.pageSize = size;\r\n      let filter = [\r\n        {\r\n          operator: \"like\",\r\n          value: this.searchHighOrgValue,\r\n          property: \"groupName\"\r\n        }\r\n      ];\r\n      this.getAllGroup(1, size, filter);\r\n    },\r\n\r\n    //点击确定保存\r\n    savaSelectPrincipal() {\r\n      this.formItem.principalName = this.onSelectionPrincipal.nickname;\r\n      this.formItem.principal = this.onSelectionPrincipal.userId;\r\n      this.isShowPrincipalModal = false;\r\n    },\r\n\r\n    //过滤\r\n    userFilter() {\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchPrincipalValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchPrincipalValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.getListUsers(this.listUserCurrentPage, this.pageSize, filter);\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    let tabsMaxHight = document.body.clientHeight - 95;\r\n\r\n    window.document.getElementsByClassName(\r\n      \"organization-wrap-tabs\"\r\n    )[0].style.height =\r\n      tabsMaxHight + \"px\";\r\n\r\n    window.document.getElementsByClassName(\r\n      \"organization-wrap-tabs\"\r\n    )[0].style.maxHeight =\r\n      tabsMaxHight + \"px\";\r\n\r\n    let filter = JSON.stringify([\r\n      { operator: \"eq\", value: this.groupId, property: \"groupId\" }\r\n    ]);\r\n    if (this.groupId) {\r\n      getOrgBaseInfo(filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          let tableContent = res.tableContent[0];\r\n          this.formItem.groupName = tableContent.groupName;\r\n          this.name = tableContent.groupName;\r\n          this.formItem.groupType = tableContent.groupType;\r\n          this.formItem.depFunction = tableContent.depFunction;\r\n          this.formItem.status = tableContent.status;\r\n          this.formItem.principal = tableContent.principal; //负责人id\r\n          this.formItem.principalName = tableContent.principalName; //负责人名称\r\n          this.formItem.highGroup = tableContent.parentName;\r\n          this.formItem.parentId = tableContent.parentId;\r\n          this.parentType = tableContent.parentType;\r\n          this.editHighOrg = this.formItem.highGroup;\r\n          this.editHighOrgParentId = this.formItem.parentId;\r\n          switch (tableContent.groupType) {\r\n            case \"M\":\r\n              this.groupType = \"管理层\";\r\n              break;\r\n            case \"A\":\r\n              this.groupType = \"事业部\";\r\n              break;\r\n            case \"O\":\r\n              this.groupType = \"部门\";\r\n              break;\r\n            case \"G\":\r\n              this.groupType = \"小组\";\r\n              break;\r\n          }\r\n        }\r\n      });\r\n      this.getObjDetailsCountByGroupId(this.groupId);\r\n    } else if (!this.groupId && this.$route.name == \"add\") {\r\n      this.isEdit = false;\r\n      this.actionBtn.forEach(element => {\r\n        if (element.id !== \"baseinfo\") {\r\n          element.hidden = true;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/organization.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"organization-wrap\"},[_c('header',{staticClass:\"organization-wrap-header\"},[_c('span',{staticClass:\"organization-wrap-header-org\"},[_vm._v(\"组织\")]),_vm._v(\" \"),_c('span',{staticClass:\"organization-wrap-header-others\"},[_vm._v(\"/\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.groupId),expression:\"groupId\"}],staticClass:\"organization-wrap-header-others\"},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.groupId),expression:\"!groupId\"}],staticClass:\"organization-wrap-header-others\"},[_vm._v(\"创建\")]),_vm._v(\" \"),_c('Tag',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.groupId),expression:\"groupId\"},{name:\"instanceStateDirective\",rawName:\"v-instanceStateDirective\",value:({status:_vm.formItem.status}),expression:\"{status:formItem.status}\"}],staticClass:\"radius10 marlr10 color_fff\",staticStyle:{\"margin-bottom\":\"7px\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"organization-wrap-action\"},[_c('ul',_vm._l((_vm.actionBtn),function(item,index){return (!item.hidden)?_c('li',{key:index,staticClass:\"organization-wrap-action-li\",class:index===_vm.actionIndex?'organization-wrap-action-li-active':'',on:{\"click\":function($event){_vm.handlerViewChange(index)}}},[_c('div',[(!item.type)?_c('img',{staticClass:\"organization-wrap-action-li-img\",attrs:{\"src\":item.imgPath}}):_c('Icon',{staticClass:\"icon\",attrs:{\"type\":item.type}}),_vm._v(\" \"),_c('div',{staticClass:\"left-content\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.number!=='undefine'),expression:\"item.number!=='undefine'\"}]},[_vm._v(_vm._s(item.number))]),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(item.label))])])],1)]):_vm._e()}))]),_vm._v(\" \"),_c('div',{staticClass:\"organization-wrap-tabs\"},[(_vm.actionIndex===5)?_c('section',{staticClass:\"baseinfo-container rfd-tab-container-common\"},[_c('Form',{ref:\"formItem\",class:{'is-required':_vm.isEdit},attrs:{\"model\":_vm.formItem,\"labelWidth\":120,\"rules\":_vm.ruleValidate}},[_c('FormItem',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"label\":\"组织名称:\",\"prop\":\"groupName\"}},[_c('Input',{class:_vm.isEdit?'input-status-isedit':'',attrs:{\"readonly\":_vm.isEdit},on:{\"on-blur\":_vm.onGroupNameOutBlur},model:{value:(_vm.formItem.groupName),callback:function ($$v) {_vm.$set(_vm.formItem, \"groupName\", $$v)},expression:\"formItem.groupName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"组织类型\",\"labelWidth\":120,\"prop\":\"groupType\"}},[_c('Select',{class:_vm.isEdit?'input-status-isedit':'',attrs:{\"disabled\":_vm.isEdit},on:{\"on-change\":_vm.changeGroupType},model:{value:(_vm.formItem.groupType),callback:function ($$v) {_vm.$set(_vm.formItem, \"groupType\", $$v)},expression:\"formItem.groupType\"}},[_c('Option',{attrs:{\"value\":\"M\"}},[_vm._v(\"管理层\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"A\"}},[_vm._v(\"事业部\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"O\"}},[_vm._v(\"部门\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"G\"}},[_vm._v(\"小组\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"组织职能\",\"labelWidth\":120,\"prop\":\"depFunction\"}},[_c('Select',{class:_vm.isEdit?'input-status-isedit':'',attrs:{\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.depFunction),callback:function ($$v) {_vm.$set(_vm.formItem, \"depFunction\", $$v)},expression:\"formItem.depFunction\"}},[_c('Option',{attrs:{\"value\":\"M\"}},[_vm._v(\"管理\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"S\"}},[_vm._v(\"销售\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"C\"}},[_vm._v(\"制造\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"R\"}},[_vm._v(\"研发\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"baseinfo-container-divider\"}),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"label\":\"组织负责人\",\"labelWidth\":120,\"prop\":\"principalName\"}},[_c('Input',{class:_vm.isEdit?'input-status-isedit':'',attrs:{\"icon\":\"md-arrow-dropdown\",\"placeholder\":\"选择用户\",\"readonly\":_vm.isEdit},on:{\"on-click\":_vm.selectPrincipalModal},model:{value:(_vm.formItem.principalName),callback:function ($$v) {_vm.$set(_vm.formItem, \"principalName\", $$v)},expression:\"formItem.principalName\"}})],1),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"label\":\"上级组织\",\"labelWidth\":120,\"prop\":\"highGroup\"}},[_c('Input',{class:_vm.isEdit?'input-status-isedit':'',attrs:{\"icon\":\"md-arrow-dropdown\",\"placeholder\":\"选择上级组织\",\"readonly\":_vm.isEdit},on:{\"on-click\":_vm.selectHighOrgModal},model:{value:(_vm.formItem.highGroup),callback:function ($$v) {_vm.$set(_vm.formItem, \"highGroup\", $$v)},expression:\"formItem.highGroup\"}})],1),_vm._v(\" \"),(_vm.hiddenInput)?_c('FormItem',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"label\":\"上级组织parentId\"}},[_c('Input',{model:{value:(_vm.formItem.parentId),callback:function ($$v) {_vm.$set(_vm.formItem, \"parentId\", $$v)},expression:\"formItem.parentId\"}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"baseinfo-container-divider\"}),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"label\":\"组织状态\",\"labelWidth\":120}},[_c('Select',{class:_vm.isEdit?'input-status-isedit':'',attrs:{\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.status),callback:function ($$v) {_vm.$set(_vm.formItem, \"status\", $$v)},expression:\"formItem.status\"}},_vm._l((_vm.statusRadio),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"baseinfo-container-action\"},[_c('input',{staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\",\"value\":\"关闭\"},on:{\"click\":_vm.cancle}}),_vm._v(\" \"),(_vm.groupId)?_c('input',{staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\"},domProps:{\"value\":_vm.editBtnName},on:{\"click\":_vm.edit}}):_vm._e(),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEdit),expression:\"!isEdit\"}],staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\",\"value\":\"保存\"},on:{\"click\":_vm.save}}),_vm._v(\" \"),(!_vm.groupId)?_c('input',{staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\",\"value\":\"保存并新建\"},on:{\"click\":_vm.saveAndAdd}}):_vm._e()])],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===4)?_c('section',{staticClass:\"memberinfo-container rfd-tab-container-common\"},[_c('high-organization',{attrs:{\"groupId\":_vm.groupId,\"groupType\":_vm.formItem.groupType},on:{\"on-high-organization-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===3)?_c('section',{staticClass:\"memberinfo-container rfd-tab-container-common\"},[_c('lower-organization',{attrs:{\"groupId\":_vm.groupId,\"groupType\":_vm.formItem.groupType},on:{\"on-lower-organization-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===2)?_c('section',{staticClass:\"memberinfo-container rfd-tab-container-common\"},[_c('principal',{attrs:{\"groupId\":_vm.groupId},on:{\"on-principal-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===1)?_c('section',{staticClass:\"memberinfo-container rfd-tab-container-common\"},[_c('member-info',{attrs:{\"groupId\":_vm.groupId},on:{\"on-member-info-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===0)?_c('section',{staticClass:\"permission-container rfd-tab-container-common\"},[_c('permission',{attrs:{\"groupId\":_vm.groupId},on:{\"on-permission-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e()]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"700\",\"footerBtnAlign\":\"right\",\"title\":\"选择组织\"},on:{\"on-ok\":_vm.saveSelectionHighOrg},model:{value:(_vm.isShowMemberModal),callback:function ($$v) {_vm.isShowMemberModal=$$v},expression:\"isShowMemberModal\"}},[_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticClass:\"app-search\"},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"search\":true,\"placeholder\":\"搜索组织名称\"},on:{\"on-search\":_vm.orgFilter},model:{value:(_vm.searchHighOrgValue),callback:function ($$v) {_vm.searchHighOrgValue=$$v},expression:\"searchHighOrgValue\"}}),_vm._v(\" \"),_c('a',{staticClass:\"app-search-icon\",on:{\"click\":_vm.orgFilter}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('Table',{ref:\"currentRowTable\",staticClass:\"rfd-table\",attrs:{\"height\":\"400\",\"loading\":_vm.highOrgModalLoading,\"columns\":_vm.highOrgColumnsModal,\"data\":_vm.listUserData,\"size\":\"small\",\"highlight-row\":\"\"},on:{\"on-row-dblclick\":_vm.handleHighOrgDblclick,\"on-current-change\":_vm.onSelectUserList}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.listUserPageTotal,\"current\":_vm.listUserCurrentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-page-size-change\":_vm.onHighOrgPageSizeChange,\"on-change\":_vm.listUserChangePage}})],1)])],1)]),_vm._v(\" \"),_c('principal-modal',{attrs:{\"width\":\"700\",\"footerBtnAlign\":\"right\",\"title\":\"选择负责人\"},on:{\"on-ok\":_vm.savaSelectPrincipal},model:{value:(_vm.isShowPrincipalModal),callback:function ($$v) {_vm.isShowPrincipalModal=$$v},expression:\"isShowPrincipalModal\"}},[_c('div',[_c('div',{staticClass:\"app-search\"},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"search\":true,\"placeholder\":\"搜索工号或者名称\"},on:{\"on-search\":_vm.userFilter},model:{value:(_vm.searchPrincipalValue),callback:function ($$v) {_vm.searchPrincipalValue=$$v},expression:\"searchPrincipalValue\"}}),_vm._v(\" \"),_c('a',{staticClass:\"app-search-icon\",on:{\"click\":_vm.userFilter}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('Table',{ref:\"currentRowTable\",staticClass:\"rfd-table\",attrs:{\"height\":\"400\",\"loading\":_vm.PrincipalModaLoading,\"columns\":_vm.principalColumnsModel,\"data\":_vm.principalData,\"size\":\"small\",\"highlight-row\":\"\"},on:{\"on-row-dblclick\":_vm.handlePrinciplDblclick,\"on-current-change\":_vm.onSelectPrincipal}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.principalPageTotal,\"current\":_vm.principalCurrentPage,\"page-size\":_vm.principalPageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-page-size-change\":_vm.onPrincipalPageSizeChange,\"on-change\":_vm.principalChangePage}})],1)])],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba9edc76\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/organization.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba9edc76\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./organization.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./organization.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./organization.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba9edc76\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./organization.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/organization.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"rfd-cs\">\r\n    <header class=\"rfd-cs-header\">\r\n      <slot name=\"header\"></slot>\r\n    </header>\r\n    <div class=\"rfd-cs-table\">\r\n      <Table :loading=\"loading\" :columns=\"columns\" :data=\"columnsData\" ref=\"selection\" @on-selection-change='onSelectionChange'></Table>\r\n    </div>\r\n    <div class=\"rfd-cs-table\" v-if=\"!isHiddenPage\">\r\n      <div style=\"float: right;\">\r\n        <Page :total=\"pageTotal\" :current=\"currentPage\" :page-size=\"pageSize\" size=\"small\" @on-change=\"changeCurrentPage\" @on-page-size-change=\"onPageSizeChange\" show-total show-elevator show-sizer></Page>\r\n      </div>\r\n    </div>\r\n    <footer class=\"rfd-cs-footer\">\r\n      <slot name=\"footer\"></slot>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTableData } from \"@/services/addressBookService.js\";\r\n\r\nexport default {\r\n  name: \"CustomTable\",\r\n\r\n  props: {\r\n    columns: {\r\n      type: Array\r\n    },\r\n\r\n    apiUrl: {\r\n      type: String\r\n    },\r\n    apiParams: {\r\n      type: Object\r\n    },\r\n\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    isHiddenPage:{\r\n      type:Boolean,\r\n      default:false\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      pageTotal: 0,\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      loading: false,\r\n      columnsData: []\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value(val) {\r\n      if (val) {\r\n        this.getTableData(this.apiParams);\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    changeCurrentPage(currentPage) {\r\n      let params = this.apiParams;\r\n      params.page = currentPage;\r\n      this.getTableData(params);\r\n    },\r\n\r\n    onSelectionChange(selection) {\r\n      this.$emit(\"on-selection-change\", selection);\r\n    },\r\n\r\n    //点击切换每页显示条数\r\n    onPageSizeChange(size) {\r\n      let params = this.apiParams;\r\n      params.limit = size;\r\n      this.getTableData(params);\r\n    },\r\n\r\n    getTableData(params) {\r\n      this.loading = true;\r\n      getTableData(this.apiUrl, params).then(res => {\r\n          this.pageTotal = res.dataCount?res.dataCount:res.summary.total;\r\n          this.columnsData = res.tableContent;\r\n          if (this.value) {\r\n            this.$emit(\"on-refesh-change\", false);\r\n          }\r\n        this.loading = false;\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getTableData(this.apiParams);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.rfd-cs {\r\n  width: 100%;\r\n  min-height: 500px;\r\n  background-color: #fff;\r\n  padding: 20px 20px;\r\n\r\n  &-header {\r\n    .ivu-btn-primary {\r\n      background-color: #2db7f5;\r\n      border-color: #2db7f5;\r\n    }\r\n  }\r\n\r\n  &-table {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  &-page {\r\n    margin: 10px;\r\n    overflow: hidden;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/CustomTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rfd-cs\"},[_c('header',{staticClass:\"rfd-cs-header\"},[_vm._t(\"header\")],2),_vm._v(\" \"),_c('div',{staticClass:\"rfd-cs-table\"},[_c('Table',{ref:\"selection\",attrs:{\"loading\":_vm.loading,\"columns\":_vm.columns,\"data\":_vm.columnsData},on:{\"on-selection-change\":_vm.onSelectionChange}})],1),_vm._v(\" \"),(!_vm.isHiddenPage)?_c('div',{staticClass:\"rfd-cs-table\"},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.pageTotal,\"current\":_vm.currentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changeCurrentPage,\"on-page-size-change\":_vm.onPageSizeChange}})],1)]):_vm._e(),_vm._v(\" \"),_c('footer',{staticClass:\"rfd-cs-footer\"},[_vm._t(\"footer\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f4b4156\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/CustomTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f4b4156\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CustomTable.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CustomTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f4b4156\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CustomTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/CustomTable.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
{"version":3,"sources":["webpack:///src/components/bigProcess.vue","webpack:///./src/components/bigProcess.vue?b83c","webpack:///./src/components/bigProcess.vue"],"names":["bigProcess","_this","this","res","procedure","endTime","nodes","transCode","getBigProcessInfo","components_bigProcess","render","_vm","_h","$createElement","_c","_self","staticStyle","width","height","staticClass","_l","node","index","key","_v","_s","durationTime","_e","style","backgroundColor","color","schedule","appInstances","length","instance","on","click","$event","viewDetail","crtTime","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"yJAgCAA,QAEA,gGAQA,IAAAC,EAAAC,OACAA,sEAGAC,mDAEA,MACAC,eACA,aACA,mBACA,qBAEA,UACA,aACA,UACA,UACA,aACA,UACA,UACA,aACA,UACA,UACA,aACA,UACA,UACA,aACA,UACA,UACA,aACA,sBACA,4CAKA,uEAEAC,mFAGA,8CAGAC,qKAmBA,wBAEA,cAEA,iEAKAC,6BAIAC,sBClHAC,GADiBC,OAFjB,WAA0B,IAAAC,EAAAT,KAAaU,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,aAAaC,MAAA,OAAAC,OAAA,UAAgCJ,EAAA,OAAYK,YAAA,SAAoBR,EAAAS,GAAAT,EAAA,yBAAAU,EAAAC,GAAmD,OAAAR,EAAA,OAAiBS,IAAAD,EAAAH,YAAA,MAA0BE,EAAA,aAAAP,EAAA,OAAgCK,YAAA,UAAoBL,EAAA,QAAaK,YAAA,WAAqBR,EAAAa,GAAA,OAAAb,EAAAa,GAAA,KAAAV,EAAA,QAAuCK,YAAA,SAAmBR,EAAAa,GAAA,KAAAV,EAAA,QAAyBK,YAAA,QAAkBR,EAAAa,GAAAb,EAAAc,GAAAJ,EAAAK,iBAAAf,EAAAa,GAAA,KAAAV,EAAA,QAA6DK,YAAA,SAAmBR,EAAAa,GAAA,KAAAV,EAAA,QAAyBK,YAAA,WAAqBR,EAAAa,GAAA,SAAAb,EAAAgB,KAAAhB,EAAAa,GAAA,KAAAV,EAAA,OAAiDK,YAAA,YAAsBL,EAAA,OAAYK,YAAA,YAAsBL,EAAA,UAAAH,EAAAa,GAAAb,EAAAc,GAAAJ,EAAAjB,gBAAAO,EAAAa,GAAA,KAAAV,EAAA,OAAwEK,YAAA,YAAAS,OAAgCC,gBAAAR,EAAAS,SAAgChB,EAAA,QAAAH,EAAAa,GAAAb,EAAAc,GAAAJ,EAAAU,eAAApB,EAAAa,GAAA,KAAAH,EAAAW,aAAAC,OAAA,EAAAnB,EAAA,OAAkGK,YAAA,gBAA0BR,EAAAgB,KAAAhB,EAAAa,GAAA,KAAAH,EAAAW,aAAAC,OAAA,EAAAnB,EAAA,OAA8DK,YAAA,UAAoBL,EAAA,OAAYK,YAAA,eAAyBR,EAAAa,GAAA,KAAAb,EAAAS,GAAAC,EAAA,sBAAAa,EAAAZ,GAAkE,OAAAR,EAAA,OAAiBS,IAAAD,EAAAH,YAAA,cAAkCL,EAAA,KAAAA,EAAA,KAAkBE,aAAac,MAAA,WAAkBK,IAAKC,MAAA,SAAAC,GAAyB1B,EAAA2B,WAAAJ,EAAA3B,eAAqCI,EAAAa,GAAAb,EAAAc,GAAAS,EAAA3B,gBAAAI,EAAAa,GAAA,KAAAV,EAAA,KAAAH,EAAAa,GAAAb,EAAAc,GAAAS,EAAAK,iBAAkG,GAAA5B,EAAAgB,eAE52Ca,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACA3C,EACAS,GATA,EAVA,SAAAmC,GACAF,EAAA,SAaA,KAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/17.028d3424e402b05392c7.js","sourcesContent":["<template>\r\n<div style=\"width:100%;height:100%\">\r\n    <div class=\"order\">\r\n        <div v-for=\"(node,index) in bigProcessNodes\" :key=\"index\" class=\"n\">\r\n            <div class=\"lines\" v-if=\"node.durationTime\">\r\n                    <span class=\"dian_l\" >&bull;</span>\r\n                    <span class=\"line\"></span>\r\n                    <span class=\"txt\">{{node.durationTime}}</span>\r\n                    <span class=\"line\"></span>\r\n                    <span class=\"dian_r\">&bull;</span>\r\n                </div>\r\n            <div class=\"nodePro\">\r\n                \r\n                <div class=\"appName\"><strong>{{node.procedure}}</strong></div>\r\n                <div class=\"schedule \"  v-bind:style=\"{ backgroundColor: node.color }\"><span>{{node.schedule}}</span></div>\r\n                <div class=\"verticalbar\" v-if=\"node.appInstances.length>0\"></div>\r\n                <div class=\"trans\" v-if=\"node.appInstances.length>0\">\r\n                    <div class=\"trans-kuan\"></div>\r\n                    <div class=\"transitem\" v-for=\"(instance,index) in node.appInstances\" :key=\"index\">\r\n                        <p ><a style=\"color:#1e88e5;\" @click=\"viewDetail(instance.transCode)\">{{instance.transCode}}</a></p>\r\n                        <p >{{instance.crtTime }}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div> \r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { getBigProcessByOrderCode } from \"@/services/appService.js\";\r\nimport { FormatDate } from '@/utils/utils'\r\nexport default {\r\n  name: \"BigProcessa\",\r\n  data() {\r\n    return {\r\n        bigProcessNodes:[\r\n        ]\r\n    };\r\n  },\r\n  methods:{\r\n      getBigProcessInfo:function () {\r\n          var me = this;\r\n          getBigProcessByOrderCode(this.$route.params.orderCode).then(res=>{\r\n            var nodes = res;\r\n           \r\n            nodes.map(function(n,index) {\r\n                n.schedule = n.schedule + '%';\r\n                switch (n.procedure) {\r\n                    case '接单':\r\n                        n.color = 'black';\r\n                        n.schedule = '';\r\n                        n.appInstances = [];\r\n                        break;\r\n                    case '计划':\r\n                        n.color = '#9C27B0';\r\n                        break;\r\n                     case '下单':\r\n                        n.color = '#03A9F4';\r\n                        break;\r\n                    case '验收':\r\n                        n.color = '#4CAF50';\r\n                        break;\r\n                    case '交付':\r\n                        n.color = '#e8630a';\r\n                        break;\r\n                    case '收款':\r\n                        n.color = '#235784';\r\n                        break;\r\n                    case '开票':\r\n                        n.color = '#red';\r\n                        n.durationTime = '';\r\n                        break;\r\n                }\r\n\r\n                if(n.appInstances.length===0){\r\n                    n.durationTime = '';\r\n                }else{\r\n                    nodes[index-1].durationTime = me.calcTimeDiff(new Date(n.startTime),new Date(n.endTime));\r\n                }\r\n                n.appInstances.map(function (inst) {\r\n                    inst.crtTime = FormatDate(new Date(inst.crtTime),'yyyy/MM/dd  hh:mm:ss');\r\n                });\r\n            });\r\n            this.bigProcessNodes = nodes;\r\n          });\r\n      },\r\n      calcTimeDiff:function (startDate,endDate) {\r\n        \r\n           //结束时间\r\n        var date3=endDate.getTime()-startDate.getTime();  //时间差的毫秒数\r\n          //计算出相差天数\r\n        var days=Math.floor(date3/(24*3600*1000));\r\n        \r\n        //计算出小时数\r\n        var leave1=date3%(24*3600*1000);  //计算天数后剩余的毫秒数\r\n        var hours=Math.floor(leave1/(3600*1000));\r\n        //计算相差分钟数\r\n        var leave2=leave1%(3600*1000);        //计算小时数后剩余的毫秒数\r\n        var minutes=Math.floor(leave2/(60*1000));\r\n        //计算相差秒数\r\n        var leave3=leave2%(60*1000);      //计算分钟数后剩余的毫秒数\r\n        var seconds=Math.round(leave3/1000);\r\n\r\n        if(days>0){\r\n            return days+\"天\"+hours+\"小时\";\r\n        }else{\r\n            return hours+\"小时\" +minutes+\"分\";\r\n        }\r\n        \r\n      },\r\n      viewDetail:function (transCode) {\r\n          window.open('/Form/index.html?data='+ transCode);\r\n      }\r\n  },\r\n   created() {\r\n    this.getBigProcessInfo();\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.n{\r\n    float: left;\r\n    margin-bottom: 50px;\r\n}\r\n.nodePro{\r\n\twidth: 155px;\r\n    text-align: center;\r\n    float: left;\r\n}\r\n.order {\r\n    line-height: 45px;\r\n    text-align: center;\r\n    padding-top: 5%;\r\n    width: 89%;\r\n    margin: 0 auto;\r\n}\r\n.order .line {\r\n  display: inline-block;\r\n  width: 20px;\r\n  border-top: 2px solid #1e88e5;\r\n}\r\n.order .txt {\r\n  color: #686868;\r\n  vertical-align: middle;\r\n}\r\n.appName{\r\n    font-size: 18px;\r\n}\r\n.dian_r {\r\n  position: relative;\r\n  left: -6px;\r\n  top: 9px;\r\n  font-size: 30px;\r\n  color: #1e88e5;\r\n}\r\n.dian_l{\r\n\tposition: relative;\r\n  left: 6px;\r\n  top: 9px;\r\n  font-size: 30px;\r\n  color: #1e88e5;\r\n}\r\n.num{\r\n    display: inline-block;\r\n}\r\n\r\n.lines{\r\n   position: relative;\r\n    right: -77px;\r\n    top: 37px;\r\n    height: 1px;\r\n}\r\n.transitem{\r\n    text-align: center;\r\n    line-height: 20px;\r\n}\r\n\r\n.schedule{\r\n   width: 45px;\r\n    height: 45px;\r\n    text-align: center;\r\n    background-color: red;\r\n    border-radius: 45px;\r\n    color: white;\r\n    font-size: 15px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.verticalbar{\r\n    width: 2px;\r\n    background-color: #1e88e5;\r\n    height: 30px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.trans{\r\n    width: 80%;\r\n    height: 80px;\r\n    margin: 0 auto;\r\n}\r\n\r\n.trans-kuan{\r\n    height: 8px;\r\n    border: 1px solid #1e88e5;\r\n    border-bottom-style: none;\r\n\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/bigProcess.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"}},[_c('div',{staticClass:\"order\"},_vm._l((_vm.bigProcessNodes),function(node,index){return _c('div',{key:index,staticClass:\"n\"},[(node.durationTime)?_c('div',{staticClass:\"lines\"},[_c('span',{staticClass:\"dian_l\"},[_vm._v(\"•\")]),_vm._v(\" \"),_c('span',{staticClass:\"line\"}),_vm._v(\" \"),_c('span',{staticClass:\"txt\"},[_vm._v(_vm._s(node.durationTime))]),_vm._v(\" \"),_c('span',{staticClass:\"line\"}),_vm._v(\" \"),_c('span',{staticClass:\"dian_r\"},[_vm._v(\"•\")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"nodePro\"},[_c('div',{staticClass:\"appName\"},[_c('strong',[_vm._v(_vm._s(node.procedure))])]),_vm._v(\" \"),_c('div',{staticClass:\"schedule \",style:({ backgroundColor: node.color })},[_c('span',[_vm._v(_vm._s(node.schedule))])]),_vm._v(\" \"),(node.appInstances.length>0)?_c('div',{staticClass:\"verticalbar\"}):_vm._e(),_vm._v(\" \"),(node.appInstances.length>0)?_c('div',{staticClass:\"trans\"},[_c('div',{staticClass:\"trans-kuan\"}),_vm._v(\" \"),_vm._l((node.appInstances),function(instance,index){return _c('div',{key:index,staticClass:\"transitem\"},[_c('p',[_c('a',{staticStyle:{\"color\":\"#1e88e5\"},on:{\"click\":function($event){_vm.viewDetail(instance.transCode)}}},[_vm._v(_vm._s(instance.transCode))])]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(instance.crtTime))])])})],2):_vm._e()])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a4d9c546\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/bigProcess.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a4d9c546\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./bigProcess.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./bigProcess.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./bigProcess.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a4d9c546\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./bigProcess.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/bigProcess.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
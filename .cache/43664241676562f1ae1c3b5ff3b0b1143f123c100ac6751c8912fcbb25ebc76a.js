{"source":"webpackJsonp([45],{KBHf:function(e,t,a){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=a(\"mvHQ\"),s=a.n(n),o=a(\"UzZq\"),i={name:\"FlowtaskDone\",data:function(){return{columns:[{title:\"任务编号\",key:\"taskId\",width:90},{title:\"交易号\",key:\"transId\",width:160,render:function(e,t){return e(\"a\",{on:{click:function(){window.open(\"/Form/index.html?data=\"+t.row.transId)}}},t.row.transId)}},{title:\"操作名称\",key:\"nodeName\",width:160},{title:\"应用名称\",key:\"title\",width:160},{title:\"经办人\",key:\"handlerName\",width:80},{title:\"发起人\",key:\"creatorName\",width:80},{title:\"待办创建时间\",key:\"crtTime\",width:150},{title:\"任务处理时间\",key:\"endTime\",width:150}],data:[],pageInfo:{limit:30,page:1,total:0,filter:[]},searchkeywords:\"\",tableHeight:1}},methods:{getFlowDoneTasks:function(){var t=this;Object(o.d)(this.pageInfo).then(function(e){t.data=e.tableContent,t.pageInfo.total=e.dataCount})},handlePageChange:function(e){this.pageInfo.page=e,this.getFlowDoneTasks()},handlePageSizeChange:function(e){this.pageInfo.limit=e,this.getFlowDoneTasks()},handleSearch:function(){this.pageInfo.filter=s()([{operator:\"like\",value:this.searchkeywords,property:\"transId\"}]),this.getFlowDoneTasks()},subscribeMessage:function(){var t=this;this.$deepstream.event.subscribe(\"taskChange/\"+this.$currentUser.userId,function(e){t.getFlowDoneTasks()})}},mounted:function(){var e=this;this.getFlowDoneTasks(),this.subscribeMessage(),this.tableHeight=document.body.clientHeight-200,window.onresize=function(){e.tableHeight=document.body.clientHeight-200}}},r=a(\"gire\"),l=a.n(r);var c=function(e){a(\"M6y8\")},d=a(\"VU/8\")(i,l.a,!1,c,\"data-v-47c4a575\",null);t.default=d.exports},M6y8:function(e,t){},gire:function(e,t){e.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"donetask\"},[a(\"div\",{staticClass:\"donetask-header\"},[t._v(\"\\n        所有已办任务\\n    \")]),t._v(\" \"),a(\"div\",{staticClass:\"donetask-content\"},[a(\"div\",{staticClass:\"donetask-content-container shadow\"},[a(\"div\",{staticClass:\"donetask-content-container-toolbar\"},[a(\"Input\",{staticClass:\"donetask-content-container-toolbar-search\",attrs:{search:\"\",placeholder:\"输入交易号查询\"},on:{\"on-enter\":t.handleSearch,\"on-change\":t.handleSearch},model:{value:t.searchkeywords,callback:function(e){t.searchkeywords=e},expression:\"searchkeywords\"}})],1),t._v(\" \"),a(\"Table\",{staticClass:\"donetask-content-table\",attrs:{columns:t.columns,data:t.data,height:t.tableHeight}}),t._v(\" \"),a(\"Page\",{staticClass:\"donetask-content-page\",attrs:{total:t.pageInfo.total,\"page-size\":t.pageInfo.limit,current:t.pageInfo.page,\"show-total\":\"\",size:\"small\",\"show-elevator\":\"\",\"show-sizer\":\"\",\"prev-text\":\"上一页\",\"next-text\":\"下一页\"},on:{\"on-page-size-change\":t.handlePageSizeChange,\"on-change\":t.handlePageChange}})],1)])])},staticRenderFns:[]}}});"}
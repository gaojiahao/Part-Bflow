webpackJsonp([21],{"2JnW":function(e,t){},"Ev9+":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=a("mvHQ"),n=a.n(c),r=a("p1MO"),i={name:"checkSheet",components:{},data:function(){var e=this;return{currentPage:1,pageSize:10,total:0,searchValue:"",columns:[{type:"index",width:80},{title:"点检表名称",key:"name",render:function(t,a){return t("a",{on:{click:function(){e.$router.push({name:"checkSheetDetail",path:"/checkSheet/detail",params:{id:a.row.id}})}}},a.row.name)}},{title:"检查内容项",key:"comment"},{title:"创建者",key:"creatorName"},{title:"创建时间",key:"crtTime"},{title:"修改者",key:"menderName"},{title:"修改时间",key:"modTime"},{title:"操作",key:"action",render:function(t,a){return t("div",[t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.$Modal.confirm({title:"确认",content:"确认删除<b style=color:#e4393c;>"+a.row.name+"</b>么？",onOk:function(){Object(r.a)(a.row.id).then(function(t){t.success&&(e.$Message.success(t.message),e.getCheckSheetData())}).catch(function(t){e.$Message.error(t.data.message)})}})}}},"删除")])}}],data:[]}},methods:{checkSheetFilter:function(){var e=n()([{operator:"like",value:this.searchValue,property:"name"}]);this.getCheckSheetData(e)},onPageChange:function(e){var t=n()([{operator:"like",value:this.searchValue,property:"name"}]);this.currentPage=e,this.getCheckSheetData(t)},onPageSizeChange:function(e){var t=n()([{operator:"like",value:this.searchValue,property:"name"}]);this.pageSize=e,this.getCheckSheetData(t)},goAddCheckSheet:function(){this.$router.push({path:"/checkSheet/detail"})},getCheckSheetData:function(e){var t=this;Object(r.c)(this.currentPage,this.pageSize,e).then(function(e){t.data=e.tableContent,t.total=e.dataCount})}},mounted:function(){this.getCheckSheetData()}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"check-list"},[a("Row",{staticClass:"check-list-table"},[a("Button",{staticClass:"check-list-btn",attrs:{type:"primary"},on:{click:e.goAddCheckSheet}},[e._v("新增")]),e._v(" "),a("div",{staticClass:"app-search"},[a("Input",{staticStyle:{width:"300px"},attrs:{search:!0,placeholder:"搜索点检表名称"},on:{"on-search":e.checkSheetFilter},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}}),e._v(" "),a("p",{staticClass:"app-search-icon",on:{click:e.checkSheetFilter}},[a("Button",{attrs:{type:"primary",size:"small"}},[e._v("查询")])],1)],1),e._v(" "),a("Table",{attrs:{columns:e.columns,data:e.data,size:"small"}}),e._v(" "),a("div",{staticClass:"user-page"},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.total,current:e.currentPage,"page-size":e.pageSize,size:"small","show-elevator":"","show-sizer":""},on:{"on-page-size-change":e.onPageSizeChange,"on-change":e.onPageChange}})],1)])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(i,s,!1,function(e){a("2JnW")},"data-v-533cbe10",null);t.default=o.exports},p1MO:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return r}),a.d(t,"d",function(){return i}),a.d(t,"e",function(){return s}),a.d(t,"a",function(){return o});var c=a("7B+g"),n=function(e,t,a){return Object(c.a)("/H_roleplay-si/check/listCheckTable",{page:e,limit:t,filter:a})},r=function(e,t,a,n){return Object(c.a)("/H_roleplay-si/check/listCheckItem",{checkTableId:e,page:t,limit:a,filter:n})},i=function(e){return Object(c.a)("/H_roleplay-si/check/saveCheckTableAndCheckItem",{},"POST",e)},s=function(e){return Object(c.a)("/H_roleplay-si/check/updateCheckTableAndCheckItem",{},"POST",e)},o=function(e){return Object(c.a)("/H_roleplay-si/check/deleteCheckTable",{checkTableId:e},"POST")}}});
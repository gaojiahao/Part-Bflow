{"source":"webpackJsonp([9],{\"2+BR\":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app\",staticStyle:{\"margin-top\":\"15px\"}},[a(\"Row\",{staticClass:\"app-action\"},[a(\"Row\",{staticClass:\"app-action-title\"},[a(\"h3\",[t._v(\"数据源\"),t.isAdmin?a(\"a\",{staticClass:\"app-action-title-add\",on:{click:t.showModal}},[t._v(\"授权\")]):t._e()]),t._v(\" \"),a(\"span\",{staticClass:\"warning-color marlr\"},[t._v(\"用户默认可查看我创建的实例、我经办的实例、我负责的组织经办的实例\")])]),t._v(\" \"),a(\"div\",{staticClass:\"app-action-source\"},[a(\"Row\",[a(\"Table\",{attrs:{columns:t.columns,data:t.userSources,size:\"small\"}})],1)],1)],1),t._v(\" \"),a(\"action-modal\",{attrs:{modalStatis:t.showActionModal,modalName:t.modalName},on:{reGetData:t.reGetData,emitPermissionModal:t.emitPermissionModal}})],1)},staticRenderFns:[]}},\"32xo\":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-permission\"},[a(\"operation-manage\",{attrs:{enabledForbidden:t.enabledForbidden,isAdmin:t.isAdmin}}),t._v(\" \"),a(\"action-manage\",{attrs:{isAdmin:t.isAdmin}}),t._v(\" \"),\"subject\"!==t.appType?a(\"permission-data-source\",{attrs:{isAdmin:t.isAdmin}}):t._e(),t._v(\" \"),a(\"custom-datasource\",{attrs:{isAdmin:t.isAdmin}}),t._v(\" \"),a(\"field-permission\",{attrs:{isAdmin:t.isAdmin}}),t._v(\" \"),\"subject\"===t.appType?a(\"child-subject\",{attrs:{isAdmin:t.isAdmin}}):t._e(),t._v(\" \"),a(\"report-view\",{attrs:{appType:t.appType,isAdmin:t.isAdmin}}),t._v(\" \"),t.isAddress||\"subject\"===t.appType?t._e():a(\"app-form\",{attrs:{isAdmin:t.isAdmin}}),t._v(\" \"),t.isAddress||\"subject\"===t.appType?t._e():a(\"work-flow\",{attrs:{isAdmin:t.isAdmin}})],1)},staticRenderFns:[]}},\"3P2k\":function(t,e){},\"3fB+\":function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var c=a(\"GIAq\"),s=a(\"bTqw\"),o={name:\"permissionSource\",components:{},props:{enabledForbidden:Number,isAdmin:Boolean},data:function(){return{listId:this.$route.params.listId,isEdit:\"\",actionData:[]}},watch:{enabledForbidden:function(){this.getData()}},methods:{isForbidden:function(t,e){var a=this,s=void 0;s=0===t.permType?-2:0,Object(c.a)(t.id,s).then(function(t){t.success&&(a.$Message.success(t.message),a.getData())})},getData:function(){var e=this,t=this.listId;Object(c.t)(t).then(function(t){e.actionData=t.tableContent,e.actionData.map(function(t){t.desc=s.a[t.resourceName]})})}},created:function(){},mounted:function(){this.getData()}},i=a(\"P1Im\"),n=a.n(i);var r=function(t){a(\"xSr9\")},l=a(\"VU/8\")(o,n.a,!1,r,\"data-v-31c1b46a\",null).exports,d=a(\"Gu7T\"),u=a.n(d),h=(a(\"lZCD\"),a(\"CaXr\")),p=a(\"mvHQ\"),m=a.n(p),f={name:\"GroupSelector\",components:{},props:{showGroupSelector:{type:Boolean}},data:function(){return{searchOrgValue:\"\",orgTotal:0,orgCurrentPage:1,pageSize:10,orgLoading:!0,showOrgModal:!1,orgColumns:[{type:\"selection\",width:60,align:\"center\"},{title:\"名称\",key:\"name\"}],orgData:[],orgSelectData:[],orgSelection:[]}},watch:{showGroupSelector:function(t){t&&(this.showOrgModal=t,this.selectOrgModal(),this.orgSelection=[],this.orgSelectData=[],this.searchOrgValue=\"\")}},methods:{orgFilter:function(){var t=m()([{operator:\"like\",value:this.searchOrgValue,property:\"name\"}]);this.selectOrgModal(t,1)},selectOrgModal:function(t,e){var a=this;this.orgLoading=!0,Object(c.s)(e||this.orgCurrentPage,this.pageSize,t).then(function(t){a.orgData=t.tableContent,a.orgTotal=t.dataCount,a.orgLoading=!1,0<a.orgSelection.length&&a.orgData.map(function(e){a.orgSelection.map(function(t){e.id==t.id&&(e._checked=!0)})})})},selectOrgClick:function(t,e){if(0===t.length){var a=this.$refs.orgTable.data,s=this.orgSelection;a.map(function(e){s=s.filter(function(t){return t.id!==e.id})}),this.orgSelection=s}else{var o,i={};(o=this.orgSelection).push.apply(o,u()(t)),this.orgSelection=this.orgSelection.reduce(function(t,e){return!i[e.id]&&(i[e.id]=t.push(e)),t},[])}},onOrgSelectAll:function(t){var e,a={};(e=this.orgSelection).push.apply(e,u()(t)),this.orgSelection=this.orgSelection.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])},selectOrgCancel:function(t,a){var s=this;this.orgSelection.forEach(function(t,e){t.id===a.id&&s.orgSelection.splice(e,1)})},deleteSelectOrg:function(a,t){var s=this;this.orgSelection.splice(t,1),this.$refs.orgTable.data.forEach(function(t,e){a.id===t.id&&s.$refs.orgTable.toggleSelect(e)})},cancelSelectOrg:function(){this.orgSelection=this.orgSelectData},confirmOrg:function(){var a={};this.orgSelectData=this.orgSelection.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[]),this.$emit(\"groupModalData\",this.orgSelectData)},modalVisibleChange:function(t){t||this.$emit(\"emitGroupModal\",{modal:!1})},onOrgPageChange:function(t){var e=m()([{operator:\"like\",value:this.searchOrgValue,property:\"name\"}]);this.orgCurrentPage=t,this.selectOrgModal(e)}},mounted:function(){}},g=a(\"Xqh5\"),v=a.n(g);var w=function(t){a(\"3P2k\")},D=a(\"VU/8\")(f,v.a,!1,w,null,null).exports,S={name:\"RoleSelector\",components:{},props:{showRoleSelector:{type:Boolean}},data:function(){return{searchDepValue:\"\",depTotal:0,depCurrentPage:1,pageSize:10,depLoading:!0,showDepartmentModal:!1,departmentColumns:[{type:\"selection\",width:60,align:\"center\"},{title:\"名称\",key:\"name\"}],departmentData:[],departmentSelectData:[],departmentSelection:[]}},watch:{showRoleSelector:function(t){t&&(this.showDepartmentModal=t,this.selectPositionModal(),this.departmentSelection=[],this.departmentSelectData=[],this.searchDepValue=\"\")}},methods:{depFilter:function(){var t=m()([{operator:\"like\",value:this.searchDepValue,property:\"name\"}]);this.selectPositionModal(t,1)},selectPositionModal:function(t,e){var a=this;this.depLoading=!0,Object(c.r)(e||this.depCurrentPage,this.pageSize,t).then(function(t){a.departmentData=t.tableContent,a.depTotal=t.dataCount,a.depLoading=!1,0<a.departmentSelection.length&&a.departmentData.map(function(e){a.departmentSelection.map(function(t){e.id==t.id&&(e._checked=!0)})})})},selectDepartmentClick:function(t,e){if(0===t.length){var a=this.$refs.roleTable.data,s=this.departmentSelection;a.map(function(e){s=s.filter(function(t){return t.id!==e.id})}),this.departmentSelection=s}else{var o,i={};(o=this.departmentSelection).push.apply(o,u()(t)),this.departmentSelection=this.departmentSelection.reduce(function(t,e){return!i[e.id]&&(i[e.id]=t.push(e)),t},[])}},onRoleSelectAll:function(t){var e,a={};(e=this.departmentSelection).push.apply(e,u()(t)),this.departmentSelection=this.departmentSelection.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])},selectDepCancel:function(t,a){var s=this;this.departmentSelection.forEach(function(t,e){t.id===a.id&&s.departmentSelection.splice(e,1)})},deleteSelectRole:function(a,t){var s=this;this.departmentSelection.splice(t,1),this.$refs.roleTable.data.forEach(function(t,e){a.id===t.id&&s.$refs.roleTable.toggleSelect(e)})},cancelSelectDep:function(){this.departmentSelection=this.departmentSelectData},confirmDepartment:function(){var a={};this.departmentSelectData=this.departmentSelection.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[]),this.$emit(\"roleModalData\",this.departmentSelectData)},modalVisibleChange:function(t){t||this.$emit(\"emitRoleModal\",{modal:!1})},onDepPageChange:function(t){var e=m()([{operator:\"like\",value:this.searchDepValue,property:\"name\"}]);this.depCurrentPage=t,this.selectPositionModal(e)}},mounted:function(){}},b=a(\"Ogty\"),M=a.n(b);var _=function(t){a(\"zYdX\")},C=a(\"VU/8\")(S,M.a,!1,_,null,null).exports,k={name:\"ReportModal\",components:{UserSelector:h.a,GroupSelector:D,RoleSelector:C},props:{modalStatis:{type:Boolean},permissionId:{type:[String,Number]},permissionData:{type:Array}},data:function(){return{appListId:this.$route.params.listId,emitChange:0,showPermissionModal:!1,isModalDisabled:!0,userSelectData:[],orgSelectData:[],departmentSelectData:[],showSelector:{showUserSelector:!1,showGroupSelector:!1,showRoleSelector:!1}}},watch:{modalStatis:function(t,e){var a=this;this.showPermissionModal=t,this.userSelectData=[],this.orgSelectData=[],this.departmentSelectData=[],t&&(this.orgSelectData=this.permissionData.filter(function(t){return\"group\"===t.type}),this.departmentSelectData=this.permissionData.filter(function(t){return\"role\"===t.type}),this.permissionData.forEach(function(t){\"user\"===t.type&&a.userSelectData.push({nickname:t.name,userId:t.id,type:t.type})}))},userSelectData:function(t){0<t.length?this.isModalDisabled=!1:0<this.orgSelectData.length||0<this.departmentSelectData.length?this.isModalDisabled=!1:this.isModalDisabled=!0},orgSelectData:function(t){0<t.length?this.isModalDisabled=!1:0<this.departmentSelectData.length||0<this.userSelectData.length?this.isModalDisabled=!1:this.isModalDisabled=!0},departmentSelectData:function(t){0<t.length?this.isModalDisabled=!1:0<this.orgSelectData.length||0<this.userSelectData.length?this.isModalDisabled=!1:this.isModalDisabled=!0}},methods:{emitUserModal:function(){this.showSelector.showUserSelector=!1},emitGroupModal:function(){this.showSelector.showGroupSelector=!1},emitRoleModal:function(){this.showSelector.showRoleSelector=!1},getUserModalData:function(t){if(0<this.userSelectData.length){var e,a={};(e=this.userSelectData).push.apply(e,u()(t)),this.userSelectData=this.userSelectData.reduce(function(t,e){return!a[e.userId]&&(a[e.userId]=t.push(e)),t},[])}else this.userSelectData=t},getGroupModalData:function(t){if(0<this.orgSelectData.length){var e,a={};(e=this.orgSelectData).push.apply(e,u()(t)),this.orgSelectData=this.orgSelectData.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])}else this.orgSelectData=t},getRoleModalData:function(t){if(0<this.departmentSelectData.length){var e,a={};(e=this.departmentSelectData).push.apply(e,u()(t)),this.departmentSelectData=this.departmentSelectData.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])}else this.departmentSelectData=t},cancelAddPermission:function(){this.showPermissionModal=!1},selectUserModal:function(){this.showSelector.showUserSelector=!0},selectGroupModal:function(){this.showSelector.showGroupSelector=!0},selectRoleModal:function(){this.showSelector.showRoleSelector=!0},deleteUser:function(t){var e=t.target.parentElement.getAttribute(\"userid\");this.userSelectData=this.userSelectData.filter(function(t){return t.userId!=e}),this.userSelection=this.userSelection.filter(function(t){return t.userId!=e})},deleteOrg:function(t){var e=t.target.parentElement.getAttribute(\"orgid\");this.orgSelectData=this.orgSelectData.filter(function(t){return t.id!=e}),this.orgSelection=this.orgSelection.filter(function(t){return t.id!=e})},deleteDepartment:function(t){var e=t.target.parentElement.getAttribute(\"depid\");this.departmentSelectData=this.departmentSelectData.filter(function(t){return t.id!=e}),this.departmentSelection=this.departmentSelection.filter(function(t){return t.id!=e})},submitPermission:function(){var a=this,t=this.userSelectData.map(function(t){return t.userId}).join(\",\"),e=this.orgSelectData.map(function(t){return t.id}).join(\",\"),s=this.departmentSelectData.map(function(t){return t.id}).join(\",\");Object(c._6)(this.permissionId,t,e,s).then(function(t){if(t.success){a.showPermissionModal=!1,a.$Message.success(t.message);var e=a.emitChange++;a.$emit(\"reGetData\",e)}else a.$Message.error(t.message)})},modalVisibleChange:function(t){t||this.$emit(\"emitPermissionModal\",{modal:!1})}}},y=a(\"B23i\"),I=a.n(y);var R=function(t){a(\"yKKk\")},A={name:\"reportSource\",components:{ReportModal:a(\"VU/8\")(k,I.a,!1,R,null,null).exports},props:{appType:String,isAdmin:Boolean},data:function(){return{listId:this.$route.params.listId,showReportModal:!1,permissionId:\"\",columns:[],reportSources:[],permissionData:[]}},watch:{isAdmin:function(t){this.setColumns()},deep:!0},methods:{emitPermissionModal:function(){this.showReportModal=!1},goCreateView:function(){window.top.location.href=\"/Site/index.html#appSetting/\"+this.listId+\"/\"+this.appType+\"/viewTypes\"},reGetData:function(){this.getViewsData()},getViewsData:function(){var e=this;Object(c.N)(this.listId).then(function(t){t.forEach(function(t){t.users||(t.users=[]),t.roles||(t.roles=[]),t.groups||(t.groups=[]),t.permissionList=[].concat(u()(t.groups),u()(t.roles),u()(t.users))}),e.reportSources=t})},deleteViews:function(t,a){var s=this;if(1===this.reportSources.length)this.$Message.warning(\"不可删除唯一视图！\");else if(1===t.row.isDefault){var e={viewId:t.row.viewId,listId:this.listId};this.$Modal.confirm({title:\"确认\",content:\"确认删除此视图？\",onOk:function(){Object(c.i)(e).then(function(t){if(t.success){s.reportSources.splice(a,1);var e={viewId:s.reportSources[0].viewId,listId:s.listId};Object(c._3)(e).then(function(t){t.success&&s.reloadViewData()})}})}})}else{var o={viewId:t.row.viewId,listId:this.listId};this.$Modal.confirm({title:\"确认\",content:\"确认删除此视图？\",onOk:function(){Object(c.i)(o).then(function(t){t.success&&(s.reportSources.splice(a,1),s.$Message.success(t.message))})}})}},reloadViewData:function(){var e=this;Object(c.N)(this.listId).then(function(t){t.forEach(function(t){t.permissionList=[].concat(u()(t.groups),u()(t.roles),u()(t.users))}),e.reportSources=t})},onClickDefaultView:function(t){var e=this;this.$Modal.confirm({title:\"确认\",content:\"确认设置此视图为默认视图？\",onOk:function(){e.setDefaultViews(t)},onCancel:function(){e.reloadViewData()}})},setDefaultViews:function(t){var e=this,a={viewId:t.row.viewId,listId:this.listId};Object(c._3)(a).then(function(t){t.success&&(e.$Message.success(t.message),e.reloadViewData())})},setColumns:function(){var s=this,t=[{title:\"报表名称\",key:\"title\"},{title:\"已授权用户、组织或职位\",key:\"permissionList\",render:function(s,t){var e=t.row.permissionList,o=[];if(0<e.length)return e.forEach(function(t,e){var a=s(\"span\",{style:{margin:\"0px 5px\"}},t.name);o.push(a)}),s(\"div\",o)}}],e=[{title:\"默认视图\",key:\"isDefault\",align:\"center\",render:function(t,e){var a=!1;return 1===e.row.isDefault&&(a=!0),t(\"Radio\",{props:{value:a,disabled:!s.isAdmin},on:{\"on-change\":function(t){s.onClickDefaultView(e)}}})}}],a=[{title:\"操作\",key:\"list\",align:\"center\",render:function(t,e){return console.log(s.appType),t(\"div\",[t(\"a\",{on:{click:function(){s.deleteViews(e,e.index)}},style:{display:\"subject\"!==s.appType?\"inline-block\":\"none\"}},\"删除\"),t(\"span\",{style:{height:\"20px\",borderLeft:\"1px solid #39f\",margin:\"0px 5px\",display:\"subject\"!==s.appType?\"inline\":\"none\"}}),t(\"a\",{on:{click:function(){var t=\"/Site/index.html#appSetting/viewConfig/\"+s.listId+\"/\"+e.row.viewId;window.top.location.href=t}},style:{display:\"subject\"!==s.appType?\"inline-block\":\"none\"}},\"修改\"),t(\"span\",{style:{height:\"20px\",borderLeft:\"1px solid #39f\",margin:\"0px 5px\",display:\"subject\"!==s.appType?\"inline\":\"none\"}}),t(\"a\",{on:{click:function(){s.permissionId=e.row.permissionId,s.showReportModal=!0,s.permissionData=e.row.permissionList}}},\"授权\")])}}];this.isAdmin&&\"subject\"!==this.appType?this.columns=t.concat(e).concat(a):this.isAdmin?this.columns=t.concat(a):this.columns=t}},mounted:function(){this.setColumns(),this.getViewsData()}},x=a(\"4q0j\"),P=a.n(x);var O=function(t){a(\"e9eA\")},j=a(\"VU/8\")(A,P.a,!1,O,\"data-v-a806903c\",null).exports,F={name:\"formSource\",components:{},props:{isAdmin:Boolean},data:function(){return{listId:this.$route.params.listId}},methods:{setForm:function(){window.open(\"/Form/index.html?viewDesign=true&list=\"+this.listId)}},created:function(){},mounted:function(){}},$=a(\"eBIU\"),G=a.n($);var U=function(t){a(\"FxqG\")},W=a(\"VU/8\")(F,G.a,!1,U,\"data-v-682736de\",null).exports,E=a(\"bOdI\"),T=a.n(E),V={name:\"WorkflowModal\",props:{modalWorkflowStatus:Boolean,deleteRelationWorkflow:Number},data:function(){var a=this;return{listId:this.$route.params.listId,searchValue:\"\",showWorkFlow:!1,relativeWorkFlowTotal:0,allWorkFlowTotal:0,allCurrentPage:1,relativeCurrentPage:1,pageSize:10,loadingAll:!0,loadingRelative:!0,allWorkFlowColumns:[{title:\"名称\",key:\"processName\"},{title:\"查看流程图\",key:\"action\",align:\"center\",render:function(t,e){return t(\"a\",{props:{type:\"default\",size:\"small\"},on:{click:function(){window.open(\"/myflow/viewProc.html?processId=\"+e.row.id)}}},\"查看\")}}],relativeWorkFlowColumns:[{title:\"名称\",key:\"processName\"},{title:\"配置节点\",key:\"config\",align:\"center\",render:function(t,e){return t(\"a\",{on:{click:function(){window.open(\"/myflow/viewFlow.html?processId=\"+e.row.id+\"&listId=\"+a.listId+\"&processCode=\"+e.row.processCode)}}},\"配置\")}},{title:\"操作\",key:\"action\",align:\"center\",render:function(t,e){return t(\"a\",{on:{click:function(){a.deleteWorkflow(e.row,e.index)}}},\"删除\")}}],allWorkFlowData:[],relativeWorkFlowData:[]}},watch:{modalWorkflowStatus:function(t,e){this.showWorkFlow=t},deleteRelationWorkflow:function(){this.getRelativeWorkflowData()}},methods:{workflowFilter:function(){var t=m()([{operator:\"like\",value:this.searchValue,property:\"processName\"}]);this.allCurrentPage=1,this.getAllWorkflowData(t)},selectWorkFlow:function(){},getAllWorkflowData:function(t){var e=this;this.loadingAll=!0,Object(c.u)(this.allCurrentPage,this.pageSize,t).then(function(t){e.allWorkFlowData=t.tableContent,e.allWorkFlowTotal=t.dataCount,e.loadingAll=!1})},getRelativeWorkflowData:function(){var e=this;this.loadingRelative=!0,Object(c.O)(this.listId,this.relativeCurrentPage,this.pageSize).then(function(t){e.relativeWorkFlowData=t,e.relativeWorkFlowTotal=t.length,e.loadingRelative=!1})},onPageChange:function(t){var e=m()([{operator:\"like\",value:this.searchValue,property:\"processName\"}]);this.allCurrentPage=t,this.getAllWorkflowData(e)},onRelativePageChange:function(t){this.relativeCurrentPage=t,this.getRelativeWorkflowData()},modalVisibleChange:function(t){t||this.$emit(\"emitWorkFlowModal\",{modal:!1})},addWorkflowData:function(t,e){0===this.relativeWorkFlowData.length?this.saveWorkFlow(t):this.$Message.warning(\"请先删除已关联工作流再添加！\")},saveWorkFlow:function(t){var e=this,a={listId:this.listId,procCode:t.processCode,creator:\"\",list:\"list_process_rel\",status:1};Object(c._7)(a).then(function(t){t.success&&(e.$Message.success(t.message),e.getRelativeWorkflowData(),e.$emit(\"addWorkflow\"))})},deleteWorkflow:function(t,e){var a=this,s={ID:t.id,list:\"list_process_rel\",status:0};Object(c._7)(s).then(function(t){t.success&&(a.$Message.success(t.message),a.relativeWorkFlowData.splice(e,1),a.$emit(\"addWorkflow\"))})}},mounted:function(){this.getAllWorkflowData(),this.getRelativeWorkflowData()}},B=a(\"oXaH\"),N=a.n(B);var z,L=function(t){a(\"y39s\")},q={name:\"workflowSource\",components:{WorkflowModal:a(\"VU/8\")(V,N.a,!1,L,\"data-v-7ef1ad3c\",null).exports},props:{isAdmin:Boolean},data:function(){return{listId:this.$route.params.listId,isOperationShow:!0,isCreateShow:!0,isUpdateShow:!0,showModal:!1,deleteRelationWorkflow:-1,columns:[],workflows:[]}},watch:{isAdmin:function(t){this.setColumns()}},methods:(z={addWorkflow:function(){this.getRelativeWorkflowData()},emitWorkFlowModal:function(){this.showModal=!1},showWorkflowModal:function(){this.showModal=!0},getRelativeWorkflowData:function(){var a=this;Object(c.O)(this.listId).then(function(t){var e=[];a.workflows=t,0<a.workflows.length&&(a.workflows.forEach(function(t){e.push(t.triggerType)}),/create/.test(e)&&/update/.test(e)?(a.isOperationShow=!0,a.isCreateShow=!0,a.isUpdateShow=!0):/create/.test(e)?(a.isOperationShow=!0,a.isCreateShow=!0,a.isUpdateShow=!1):/update/.test(e)?(a.isOperationShow=!0,a.isCreateShow=!1,a.isUpdateShow=!0):a.isOperationShow=!1)})},deleteWorkflow:function(t,e){var a=this;this.$Modal.confirm({title:\"确认\",content:\"确认删除此工作流？\",onOk:function(){Object(c.o)(null,null,t.id).then(function(t){t.success&&(a.$Message.success(t.message),a.getRelativeWorkflowData(),a.deleteRelationWorkflow++)})}})}},T()(z,\"addWorkflow\",function(){this.getRelativeWorkflowData()}),T()(z,\"goCreateWorkflow\",function(){window.open(\"/myflow/createWorkFlow.html?listId=\"+this.listId+\"&triggerType=create\")}),T()(z,\"updateWorkFlowStaus\",function(t){var e=this,a=t.row,s=\"\";s=1===a.status?\"确认禁用该工作流？\":\"确认启用该工作流？\",this.$Modal.confirm({title:\"系统提示\",content:s,onOk:function(){1===a.status?Object(c.o)(null,a.id).then(function(t){t.success&&(e.$Message.success(t.message),e.getRelativeWorkflowData())}):Object(c.o)(a.id).then(function(t){t.success&&(e.$Message.success(t.message),e.getRelativeWorkflowData())})},onCancel:function(){e.getRelativeWorkflowData()}})}),T()(z,\"createWorkflow\",function(t){window.open(\"/myflow/createWorkFlow.html?listId=\"+this.listId+\"&triggerType=\"+t)}),T()(z,\"setColumns\",function(){var a=this,t=[{title:\"工作流名称\",key:\"processName\",align:\"left\"},{title:\"触发动作\",key:\"triggerType\",align:\"left\",render:function(t,e){return\"create\"===e.row.triggerType?t(\"span\",{},\"创建实例\"):t(\"span\",{},\"修改实例\")}},{title:\"启用\",key:\"status\",align:\"left\",render:function(t,e){return t(\"Checkbox\",{props:{value:1===e.row.status,disabled:!a.isAdmin},on:{\"on-change\":function(t){a.updateWorkFlowStaus(e)}}})}}],e=[{title:\"操作\",key:\"list\",align:\"center\",render:function(t,e){return t(\"div\",[t(\"a\",{on:{click:function(){a.deleteWorkflow(e.row,e.index)}}},\"删除\"),t(\"span\",{style:{height:\"20px\",borderLeft:\"1px solid #39f\",margin:\"0px 5px\"}}),t(\"a\",{on:{click:function(){window.open(\"/myflow/viewFlow.html?processId=\"+e.row.processId+\"&listId=\"+a.listId+\"&processCode=\"+e.row.processCode)}}},\"修改\")])}}];this.isAdmin?this.columns=t.concat(e):this.columns=t}),z),created:function(){this.setColumns(),this.getRelativeWorkflowData()}},K=a(\"UFJm\"),H=a.n(K);var X=function(t){a(\"CWWK\")},Y=a(\"VU/8\")(q,H.a,!1,X,\"data-v-55fff912\",null).exports,J={name:\"permissionModal\",components:{UserSelector:h.a,GroupSelector:D,RoleSelector:C},props:{modalStatis:Boolean,modalName:String},data:function(){return{appListId:this.$route.params.listId,emitChange:0,showPermissionModal:!1,isModalDisabled:!0,allPermissionData:[],permissionSelectDatas:[],allPermissionColumns:[],userSelectData:[],orgSelectData:[],departmentSelectData:[],companySelectData:[],showSelector:{showUserSelector:!1,showGroupSelector:!1,showRoleSelector:!1}}},watch:{modalStatis:function(t,e){this.showPermissionModal=t,this.permissionSelectDatas=[],this.showPermissionModal&&this.getData(),this.userSelectData=[],this.orgSelectData=[],this.departmentSelectData=[]},permissionSelectDatas:function(t){0<t.length&&(0<this.userSelectData.length||0<this.orgSelectData.length||0<this.departmentSelectData.length||0<this.companySelectData.length)?this.isModalDisabled=!1:this.isModalDisabled=!0},userSelectData:function(t){0<t.length?0<this.permissionSelectDatas.length?this.isModalDisabled=!1:this.isModalDisabled=!0:(0<this.orgSelectData.length||0<this.departmentSelectData.length)&&0<this.permissionSelectDatas.length?this.isModalDisabled=!1:this.isModalDisabled=!0},orgSelectData:function(t){0<t.length?0<this.permissionSelectDatas.length?this.isModalDisabled=!1:this.isModalDisabled=!0:(0<this.userSelectData.length||0<this.departmentSelectData.length)&&0<this.permissionSelectDatas.length?this.isModalDisabled=!1:this.isModalDisabled=!0},departmentSelectData:function(t){0<t.length?0<this.permissionSelectDatas.length?this.isModalDisabled=!1:this.isModalDisabled=!0:(0<this.orgSelectData.length||0<this.userSelectData.length)&&0<this.permissionSelectDatas.length?this.isModalDisabled=!1:this.isModalDisabled=!0}},methods:{emitUserModal:function(){this.showSelector.showUserSelector=!1},emitGroupModal:function(){this.showSelector.showGroupSelector=!1},emitRoleModal:function(){this.showSelector.showRoleSelector=!1},getUserModalData:function(t){if(0<this.userSelectData.length){var e,a={};(e=this.userSelectData).push.apply(e,u()(t)),this.userSelectData=this.userSelectData.reduce(function(t,e){return!a[e.userId]&&(a[e.userId]=t.push(e)),t},[])}else this.userSelectData=t},getGroupModalData:function(t){if(0<this.orgSelectData.length){var e,a={};(e=this.orgSelectData).push.apply(e,u()(t)),this.orgSelectData=this.orgSelectData.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])}else this.orgSelectData=t},getRoleModalData:function(t){if(0<this.departmentSelectData.length){var e,a={};(e=this.departmentSelectData).push.apply(e,u()(t)),this.departmentSelectData=this.departmentSelectData.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])}else this.departmentSelectData=t},cancelAddPermission:function(){this.showPermissionModal=!1},selectUserModal:function(){this.showSelector.showUserSelector=!0},selectGroupModal:function(){this.showSelector.showGroupSelector=!0},selectRoleModal:function(){this.showSelector.showRoleSelector=!0},deleteUser:function(t){var e=this,a=t.target.parentElement.getAttribute(\"userid\"),s=[];this.permissionSelectDatas.forEach(function(t){s.push(t.id)}),Object(c.f)(\"sys_user_permission\",a,s.join(\",\")).then(function(t){t.success&&(e.userSelectData=e.userSelectData.filter(function(t){return t.userId!=a}),e.userSelection=e.userSelection.filter(function(t){return t.userId!=a}))})},deleteOrg:function(t){var e=this,a=t.target.parentElement.getAttribute(\"orgid\"),s=[];this.permissionSelectDatas.forEach(function(t){s.push(t.id)}),Object(c.f)(\"sys_group_permission\",a,s.join(\",\")).then(function(t){t.success&&(e.orgSelectData=e.orgSelectData.filter(function(t){return t.id!=a}),e.orgSelection=e.orgSelection.filter(function(t){return t.id!=a}))})},deleteDepartment:function(t,e){var a=this,s=event.target.parentElement.getAttribute(\"depid\"),o=[];this.permissionSelectDatas.forEach(function(t){o.push(t.id)}),Object(c.f)(\"sys_role_permission\",s,o.join(\",\")).then(function(t){t.success&&(a.departmentSelectData=a.departmentSelectData.filter(function(t){return t.id!=s}),a.departmentSelection=a.departmentSelection.filter(function(t){return t.id!=s}))})},deleteCompany:function(t,e){var a=this,s=event.target.parentElement.getAttribute(\"comid\"),o=[];this.permissionSelectDatas.forEach(function(t){o.push(t.id)}),Object(c.f)(\"sys_group_permission\",s,o.join(\",\")).then(function(t){t.success&&(a.companySelectData=a.companySelectData.filter(function(t){return t.groupId!=s}),a.companySelectData=a.companySelectData.filter(function(t){return t.groupId!=s}))})},permissionSelectChange:function(t,e){this.permissionSelectDatas=t},submitPermission:function(){var a=this,t=this.userSelectData.map(function(t){return t.userId}),e=this.orgSelectData.map(function(t){return t.id}),s=this.departmentSelectData.map(function(t){return t.id}),o=this.companySelectData.map(function(t){return t.groupId}),i=this.permissionSelectDatas.map(function(t){return t.id}),n={userId:t.join(\",\"),roleId:s.join(\",\"),groupId:e.join(\",\"),companyId:o.join(\",\"),permissionId:i.join(\",\")};Object(c.b)(n).then(function(t){if(t.success){a.$Message.success(t.message),a.showPermissionModal=!1;var e=a.emitChange++;a.$emit(\"reGetData\",e)}})},modalVisibleChange:function(t){t||this.$emit(\"emitPermissionModal\",{modal:!1})},getData:function(){var t=this.appListId;\"action\"===this.modalName?(this.allPermissionColumns=[{type:\"selection\",width:60,align:\"center\"},{title:\"动作名称\",key:\"name\",width:100},{title:\"说明\",key:\"desc\"}],this.getActionPerData(t)):(this.allPermissionColumns=[{type:\"selection\",width:60,align:\"center\"},{title:\"数据源名称\",key:\"name\",width:100},{title:\"说明\",key:\"desc\"}],this.getResPerData(t))},getActionPerData:function(t){var e=this;Object(c.t)(t).then(function(t){e.allPermissionData=t.tableContent,e.allPermissionData.map(function(t){t.desc=s.a[t.resourceName]})})},getResPerData:function(t){var e=this;Object(c.v)(t).then(function(t){e.allPermissionData=t.tableContent,e.allPermissionData.map(function(t){t.desc=s.a[t.resourceName]})})}},mounted:function(){this.getData()}},Z=a(\"aAio\"),Q=a.n(Z);var tt=function(t){a(\"LKb9\")},et=a(\"VU/8\")(J,Q.a,!1,tt,null,null).exports,at={name:\"permissionSource\",components:{ActionModal:et},props:{isAdmin:Boolean},data:function(){return{listId:this.$route.params.listId,showActionModal:!1,isModalConfirm:1e3,actionData:[],modalName:\"action\",columns:[],userSources:[]}},watch:{isModalConfirm:function(){this.getActionData()},isAdmin:function(t){this.setColumns()}},methods:{reGetData:function(t){this.isModalConfirm=t},showModal:function(){this.editActionData={},this.showActionModal=!0,this.isEdit=\"\"},emitPermissionModal:function(){this.showActionModal=!1},getActionData:function(){var e=this;Object(c.z)(\"action\",this.listId).then(function(t){e.userSources=t.tableContent})},deleteAllPermission:function(n,t){var r=this,l=this;l.$Modal.confirm({title:\"确认\",content:\"确认删除此权限？\",onOk:function(){var t,a=[],e=[],s=[],o=[],i=[];n.row.action.forEach(function(t){for(var e in t)a.push(e)}),n.row.objNames.forEach(function(t){\"user\"===t.type?e.push(t.id):\"group\"===t.type?s.push(t.id):\"role\"===t.type?o.push(t.id):i.push(t.id)}),t={user:e.join(\",\"),group:s.join(\",\"),role:o.join(\",\"),company:i.join(\",\"),multi:a.join(\",\")},Object(c.m)(t).then(function(t){t.success&&(l.$Message.success(t.message),r.getActionData())})}})},setColumns:function(){var l=this,t=[{title:\"已授权用户、组织或职位\",key:\"objNames\",render:function(s,t){var e=t.row.objNames,o=[];if(0<e.length)return e.forEach(function(t,e){var a;a=s(\"span\",{},t.name+\"; \"),o.push(a)}),s(\"div\",o)}},{title:\"动作\",key:\"source\",render:function(o,n){var t=n.row.action,i=[],r=[];return t.forEach(function(t,e){for(var a in t)r.push(a)}),l.actionData.forEach(function(e,t){var a,s=void 0;r.forEach(function(t){t==e.id&&(s=e.id)}),a=o(\"span\",{style:{marginLeft:\"5px\"}},[o(\"Checkbox\",{props:{value:s,trueValue:e.id,falseValue:e.id+\"_false\",disabled:!l.isAdmin},on:{\"on-change\":function(t){var e=void 0,a=void 0,s=void 0,o=void 0,i=void 0;\"sys_role_permission\"===n.row.list?s=n.row.objId:\"sys_user_permission\"===n.row.list?e=n.row.objId:\"sys_group_permission\"===n.row.list?a=n.row.objId:o=n.row.objId,/_/.test(t)?(i=0,t=t.split(\"_\")[0]):i=1,Object(c._16)(e,s,a,o,t,l.listId,i).then(function(t){t.success&&l.$Message.success(t.message)})}}}),o(\"span\",{},e.name)]),i.push(a)}),o(\"div\",i)}}],e=[{title:\"操作\",key:\"list\",align:\"center\",render:function(t,e){return t(\"div\",[t(\"a\",{on:{click:function(){l.deleteAllPermission(e,e.row.list)}}},\"删除\")])}}];this.isAdmin?this.columns=t.concat(e):this.columns=t}},created:function(){var e=this;Object(c.t)(this.listId).then(function(t){e.actionData=t.tableContent})},mounted:function(){this.setColumns(),this.getActionData()}},st=a(\"TlyH\"),ot=a.n(st);var it=function(t){a(\"v8Y1\")},nt=a(\"VU/8\")(at,ot.a,!1,it,\"data-v-59bd22d2\",null).exports,rt={name:\"permissionSourceData\",components:{ActionModal:et},props:{isAdmin:Boolean},data:function(){return{listId:this.$route.params.listId,showActionModal:!1,isModalConfirm:1e3,resourceData:[],modalName:\"resource\",columns:[],userSources:[]}},watch:{isModalConfirm:function(){this.getResourceData()},isAdmin:function(t){this.setColumns()}},methods:{reGetData:function(t){this.isModalConfirm=t},showModal:function(){this.editActionData={},this.showActionModal=!0,this.isEdit=\"\"},emitPermissionModal:function(){this.showActionModal=!1},getResourceData:function(){var e=this;Object(c.z)(\"resource\",this.listId).then(function(t){e.userSources=t.tableContent})},deleteAllPermission:function(n,t){var r=this,l=this;l.$Modal.confirm({title:\"确认\",content:\"确认删除此权限？\",onOk:function(){var t,a=[],e=[],s=[],o=[],i=[];n.row.resource.forEach(function(t){for(var e in t)a.push(e)}),n.row.objNames.forEach(function(t){\"user\"===t.type?e.push(t.id):\"group\"===t.type?s.push(t.id):\"role\"===t.type?o.push(t.id):i.push(t.id)}),t={user:e.join(\",\"),group:s.join(\",\"),role:o.join(\",\"),company:i.join(\",\"),multi:a.join(\",\")},Object(c.m)(t).then(function(t){t.success&&(l.$Message.success(t.message),r.getResourceData())})}})},setColumns:function(){var l=this,t=[{title:\"已授权用户、用户组\",key:\"objNames\",render:function(s,t){var e=t.row.objNames,o=[];if(0<e.length)return e.forEach(function(t,e){var a;a=s(\"span\",{},t.name+\"; \"),o.push(a)}),s(\"div\",o)}},{title:\"数据源\",key:\"source\",render:function(o,n){var t=n.row.resource,i=[],r=[];return t.forEach(function(t,e){for(var a in t)r.push(a)}),l.resourceData.forEach(function(e,t){var a,s=void 0;r.forEach(function(t){t==e.id&&(s=e.id)}),a=o(\"span\",{style:{marginLeft:\"10px\"}},[o(\"Checkbox\",{props:{value:s,trueValue:e.id,falseValue:e.id+\"_false\",disabled:!l.isAdmin},on:{\"on-change\":function(t){var e=void 0,a=void 0,s=void 0,o=void 0,i=void 0;\"sys_role_permission\"===n.row.list?s=n.row.objId:\"sys_user_permission\"===n.row.list?e=n.row.objId:\"sys_group_permission\"===n.row.list?a=n.row.objId:o=n.row.objId,/_/.test(t)?(i=0,t=t.split(\"_\")[0]):i=1,Object(c._16)(e,s,a,o,t,l.listId,i).then(function(t){t.success&&l.$Message.success(t.message)})}}}),o(\"span\",{},e.name)]),i.push(a)}),o(\"div\",i)}}],e=[{title:\"操作\",key:\"list\",align:\"center\",render:function(t,e){return t(\"div\",[t(\"a\",{on:{click:function(){l.deleteAllPermission(e,e.row.list)}}},\"删除\")])}}];this.isAdmin?this.columns=t.concat(e):this.columns=t}},created:function(){var e=this;Object(c.v)(this.listId).then(function(t){e.resourceData=t.tableContent})},mounted:function(){this.setColumns(),this.getResourceData()}},lt=a(\"2+BR\"),ct=a.n(lt);var dt=function(t){a(\"8dhD\")},ut=a(\"VU/8\")(rt,ct.a,!1,dt,\"data-v-540991e2\",null).exports,ht={name:\"permissionModal\",components:{UserSelector:h.a,GroupSelector:D,RoleSelector:C},props:{modalStatis:Boolean,resourceId:String,isEdit:Boolean},data:function(){var o=this;return{appListId:this.$route.params.listId,emitChange:0,showPermissionModal:!1,isModalDisabled:!0,fieldData:[],allFieldData:[],fieldColumns:[{title:\"字段\",key:\"fieldName\",render:function(e,a){var s=[];return o.allFieldData.forEach(function(t){s.push(e(\"Option\",{props:{value:t.fieldCode,parentCode:t.parentCode}},t.fieldName))}),e(\"div\",[e(\"Select\",{props:{value:a.row.fieldCode},on:{\"on-change\":function(t){o.fieldData[a.index].fieldCode=t}}},s)])}},{title:\"规则\",key:\"rule\",render:function(e,a){var s=[];return[{name:\"大于\",value:\"gt\"},{name:\"小于\",value:\"lt\"},{name:\"等于\",value:\"eq\"},{name:\"小于等于\",value:\"le\"},{name:\"大于等于\",value:\"ge\"},{name:\"不等于\",value:\"ne\"},{name:\"包含\",value:\"like\"},{name:\"不包含\",value:\"nlike\"}].forEach(function(t){s.push(e(\"Option\",{props:{value:t.value}},t.name))}),e(\"div\",[e(\"Select\",{props:{value:a.row.operator},on:{\"on-change\":function(t){o.fieldData[a.index].operator=t}}},s)])}},{title:\"值\",key:\"value\",render:function(t,e){return t(\"div\",[t(\"Input\",{props:{value:e.row.value},on:{\"on-blur\":function(t){o.fieldData[e.index].value=t.target.value}}})])}},{title:\"且/或\",key:\"or\",render:function(e,a){var s=[];return[{name:\"且\",value:\"and\"},{name:\"或\",value:\"or\"}].forEach(function(t){s.push(e(\"Option\",{props:{value:t.value}},t.name))}),e(\"div\",[e(\"Select\",{props:{value:a.row.logicOperator},on:{\"on-change\":function(t){o.fieldData[a.index].logicOperator=t}}},s)])}},{title:\"操作\",key:\"list\",align:\"center\",render:function(t,e){return t(\"Button\",{props:{type:\"error\",size:\"small\"},on:{click:function(){o.fieldData.splice(e.index,1)}}},\"删除\")}}],userSelectData:[],orgSelectData:[],departmentSelectData:[],companySelectData:[],showSelector:{showUserSelector:!1,showGroupSelector:!1,showRoleSelector:!1}}},watch:{modalStatis:function(t,e){var a=this;this.isEdit?(this.userSelectData=[],this.orgSelectData=[],this.departmentSelectData=[],Object(c.S)(this.appListId,this.resourceId).then(function(t){a.fieldData=t.resource,t.instance.forEach(function(t){var e={};\"U\"===t.substanceType?(e.nickname=t.substanceName,e.userId=t.substanceId,a.userSelectData.push(e)):\"G\"===t.substanceType?(e.name=t.substanceName,e.id=t.substanceId,a.orgSelectData.push(e)):\"R\"===t.substanceType&&(e.name=t.substanceName,e.id=t.substanceId,a.departmentSelectData.push(e))})})):(this.fieldData=[],this.userSelectData=[],this.orgSelectData=[],this.departmentSelectData=[]),this.showPermissionModal=t},fieldData:function(t){0<t.length&&(0<this.userSelectData.length||0<this.orgSelectData.length||0<this.departmentSelectData.length||0<this.companySelectData.length)?this.isModalDisabled=!1:this.isModalDisabled=!0},userSelectData:function(t){0<t.length?0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0:(0<this.orgSelectData.length||0<this.departmentSelectData.length)&&0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0},orgSelectData:function(t){0<t.length?0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0:(0<this.userSelectData.length||0<this.departmentSelectData.length)&&0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0},departmentSelectData:function(t){0<t.length?0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0:(0<this.orgSelectData.length||0<this.userSelectData.length)&&0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0}},methods:{emitUserModal:function(){this.showSelector.showUserSelector=!1},emitGroupModal:function(){this.showSelector.showGroupSelector=!1},emitRoleModal:function(){this.showSelector.showRoleSelector=!1},addNewField:function(){this.fieldData.push({fieldName:\"\",parentCode:\"\",fieldCode:\"\",operator:\"\",value:\"\",logicOperator:\"\"})},cancelAddPermission:function(){this.showPermissionModal=!1},submitPermission:function(){var a=this,t=this.userSelectData.map(function(t){return t.userId}),e=this.orgSelectData.map(function(t){return t.id}),s=this.departmentSelectData.map(function(t){return t.id}),o=(this.companySelectData.map(function(t){return t.groupId}),{user:t,role:s,group:e,listId:this.appListId,resourceId:this.resourceId,resource:this.fieldData});this.isEdit?Object(c._14)(m()(o)).then(function(t){if(t.success){a.$Message.success(t.message),a.showPermissionModal=!1;var e=a.emitChange++;a.$emit(\"reGetData\",e)}}).catch(function(t){a.$Message.error(t.data.message)}):Object(c._2)(m()(o)).then(function(t){if(t.success){a.$Message.success(t.message),a.showPermissionModal=!1;var e=a.emitChange++;a.$emit(\"reGetData\",e)}}).catch(function(t){a.$Message.error(t.data.message)})},modalVisibleChange:function(t){t||this.$emit(\"emitPermissionModal\",{modal:!1})},selectUserModal:function(){this.showSelector.showUserSelector=!0},selectGroupModal:function(){this.showSelector.showGroupSelector=!0},selectRoleModal:function(){this.showSelector.showRoleSelector=!0},getUserModalData:function(t){if(0<this.userSelectData.length){var e,a={};(e=this.userSelectData).push.apply(e,u()(t)),this.userSelectData=this.userSelectData.reduce(function(t,e){return!a[e.userId]&&(a[e.userId]=t.push(e)),t},[])}else this.userSelectData=t},getGroupModalData:function(t){if(0<this.orgSelectData.length){var e,a={};(e=this.orgSelectData).push.apply(e,u()(t)),this.orgSelectData=this.orgSelectData.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])}else this.orgSelectData=t},getRoleModalData:function(t){if(0<this.departmentSelectData.length){var e,a={};(e=this.departmentSelectData).push.apply(e,u()(t)),this.departmentSelectData=this.departmentSelectData.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])}else this.departmentSelectData=t},deleteUser:function(t){var e=t.target.parentElement.getAttribute(\"userid\");this.userSelectData=this.userSelectData.filter(function(t){return t.userId!=e})},deleteOrg:function(t){var e=t.target.parentElement.getAttribute(\"orgid\");this.orgSelectData=this.orgSelectData.filter(function(t){return t.id!=e})},deleteDepartment:function(t,e){var a=event.target.parentElement.getAttribute(\"depid\");this.departmentSelectData=this.departmentSelectData.filter(function(t){return t.id!=a})}},created:function(){var e=this;Object(c.H)(this.appListId).then(function(t){e.allFieldData=t})},mounted:function(){}},pt=a(\"sJK6\"),mt=a.n(pt);var ft=function(t){a(\"AyIr\")},gt={name:\"CustomDatasource\",components:{CustomDatasourceModal:a(\"VU/8\")(ht,mt.a,!1,ft,null,null).exports},props:{isAdmin:Boolean},data:function(){return{listId:this.$route.params.listId,isEdit:!1,resourceId:\"\",showActionModal:!1,isModalConfirm:1e3,actionData:[],modalName:\"action\",columns:[],userSources:[]}},watch:{isModalConfirm:function(){this.getResourceData()},isAdmin:function(t){this.setColumns()}},methods:{reGetData:function(t){this.isModalConfirm=t},showModal:function(){this.editActionData={},this.showActionModal=!0,this.isEdit=!1},emitPermissionModal:function(){this.showActionModal=!1},getResourceData:function(){var e=this;Object(c.R)(this.listId).then(function(t){e.userSources=t})},deleteDataSource:function(t){var e=this;this.$Modal.confirm({title:\"确认\",content:\"确认删除此数据源权限？\",onOk:function(){Object(c.j)(t).then(function(t){t.success&&(e.$Message.success(t.message),e.getResourceData())})}})},setColumns:function(){var a=this,t=[{title:\"字段过滤\",key:\"expression\",render:function(e,t){var a=t.row.expression.split(\"br\"),s=[];return a.forEach(function(t){s.push(e(\"div\",{},t))}),e(\"div\",s)}},{title:\"已授权用户、组织或职位\",key:\"instance\"}],e=[{title:\"操作\",key:\"list\",align:\"center\",render:function(t,e){return t(\"div\",[t(\"a\",{on:{click:function(){a.deleteDataSource(e.row.resourceId)}}},\"删除\"),t(\"span\",{style:{height:\"20px\",borderLeft:\"1px solid #39f\",margin:\"0px 5px\"}}),t(\"a\",{on:{click:function(){a.isEdit=!0,a.resourceId=e.row.resourceId,a.showActionModal=!0}}},\"修改\")])}}];this.isAdmin?this.columns=t.concat(e):this.columns=t}},created:function(){},mounted:function(){this.setColumns(),this.getResourceData()}},vt=a(\"GeFC\"),wt=a.n(vt);var Dt=function(t){a(\"oAod\")},St=a(\"VU/8\")(gt,wt.a,!1,Dt,\"data-v-7ba07e2a\",null).exports,bt={name:\"FieldModal\",components:{UserSelector:h.a,GroupSelector:D,RoleSelector:C},props:{modalStatis:Boolean,resourceId:String,isEdit:Boolean},data:function(){var o=this;return{appListId:this.$route.params.listId,emitChange:0,showPermissionModal:!1,isModalDisabled:!0,isBlack:!0,fieldData:[],allFieldData:[],fieldColumns:[{title:\"字段\",key:\"fieldName\",render:function(e,a){var s=[];return o.allFieldData.forEach(function(t){s.push(e(\"Option\",{props:{value:t.fieldCode,parentCode:t.parentCode}},t.fieldName))}),e(\"div\",[e(\"Select\",{props:{value:a.row.fieldCode},on:{\"on-change\":function(t){o.fieldData[a.index].fieldCode=t}}},s)])}},{title:\"操作\",key:\"list\",align:\"center\",render:function(t,e){return t(\"Button\",{props:{type:\"error\",size:\"small\"},on:{click:function(){o.fieldData.splice(e.index,1)}}},\"删除\")}}],userSelectData:[],orgSelectData:[],departmentSelectData:[],companySelectData:[],showSelector:{showUserSelector:!1,showGroupSelector:!1,showRoleSelector:!1}}},watch:{modalStatis:function(t,e){var a=this;this.isEdit?(this.userSelectData=[],this.orgSelectData=[],this.departmentSelectData=[],Object(c.I)(this.appListId,this.resourceId).then(function(t){a.fieldData=t.resource,t.instance.forEach(function(t){var e={};\"U\"===t.substanceType?(e.nickname=t.substanceName,e.userId=t.substanceId,a.userSelectData.push(e)):\"G\"===t.substanceType?(e.name=t.substanceName,e.id=t.substanceId,a.orgSelectData.push(e)):\"R\"===t.substanceType&&(e.name=t.substanceName,e.id=t.substanceId,a.departmentSelectData.push(e))})})):(this.fieldData=[],this.userSelectData=[],this.orgSelectData=[],this.departmentSelectData=[]),this.showPermissionModal=t},fieldData:function(t){0<t.length?(this.isBlack=t[0].isBlacklist,0<this.userSelectData.length||0<this.orgSelectData.length||0<this.departmentSelectData.length||0<this.companySelectData.length?this.isModalDisabled=!1:this.isModalDisabled=!0):(this.isBlack=!0,this.isModalDisabled=!0)},userSelectData:function(t){0<t.length?0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0:(0<this.orgSelectData.length||0<this.departmentSelectData.length)&&0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0},orgSelectData:function(t){0<t.length?0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0:(0<this.userSelectData.length||0<this.departmentSelectData.length)&&0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0},departmentSelectData:function(t){0<t.length?0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0:(0<this.orgSelectData.length||0<this.userSelectData.length)&&0<this.fieldData.length?this.isModalDisabled=!1:this.isModalDisabled=!0}},methods:{emitUserModal:function(){this.showSelector.showUserSelector=!1},emitGroupModal:function(){this.showSelector.showGroupSelector=!1},emitRoleModal:function(){this.showSelector.showRoleSelector=!1},addNewField:function(){this.fieldData.push({fieldName:\"\",isBlacklist:this.isBlack,fieldCode:\"\"})},cancelAddPermission:function(){this.showPermissionModal=!1},changeBlackWhiteList:function(t){t?this.fieldData.forEach(function(t){t.isBlacklist=!0}):this.fieldData.forEach(function(t){t.isBlacklist=!1})},submitPermission:function(){var a=this,t=this.userSelectData.map(function(t){return t.userId}),e=this.orgSelectData.map(function(t){return t.id}),s=this.departmentSelectData.map(function(t){return t.id}),o=(this.companySelectData.map(function(t){return t.groupId}),{user:t,role:s,group:e,listId:this.appListId,resourceId:this.resourceId,resource:this.fieldData});this.isEdit?Object(c._15)(m()(o)).then(function(t){if(t.success){a.$Message.success(t.message),a.showPermissionModal=!1;var e=a.emitChange++;a.$emit(\"reGetData\",e)}}).catch(function(t){a.$Message.error(t.data.message)}):Object(c._4)(m()(o)).then(function(t){if(t.success){a.$Message.success(t.message),a.showPermissionModal=!1;var e=a.emitChange++;a.$emit(\"reGetData\",e)}}).catch(function(t){a.$Message.error(t.data.message)})},modalVisibleChange:function(t){t||this.$emit(\"emitPermissionModal\",{modal:!1})},selectUserModal:function(){this.showSelector.showUserSelector=!0},selectGroupModal:function(){this.showSelector.showGroupSelector=!0},selectRoleModal:function(){this.showSelector.showRoleSelector=!0},getUserModalData:function(t){if(0<this.userSelectData.length){var e,a={};(e=this.userSelectData).push.apply(e,u()(t)),this.userSelectData=this.userSelectData.reduce(function(t,e){return!a[e.userId]&&(a[e.userId]=t.push(e)),t},[])}else this.userSelectData=t},getGroupModalData:function(t){if(0<this.orgSelectData.length){var e,a={};(e=this.orgSelectData).push.apply(e,u()(t)),this.orgSelectData=this.orgSelectData.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])}else this.orgSelectData=t},getRoleModalData:function(t){if(0<this.departmentSelectData.length){var e,a={};(e=this.departmentSelectData).push.apply(e,u()(t)),this.departmentSelectData=this.departmentSelectData.reduce(function(t,e){return!a[e.id]&&(a[e.id]=t.push(e)),t},[])}else this.departmentSelectData=t},deleteUser:function(t){var e=t.target.parentElement.getAttribute(\"userid\");this.userSelectData=this.userSelectData.filter(function(t){return t.userId!=e})},deleteOrg:function(t){var e=t.target.parentElement.getAttribute(\"orgid\");this.orgSelectData=this.orgSelectData.filter(function(t){return t.id!=e})},deleteDepartment:function(t,e){var a=event.target.parentElement.getAttribute(\"depid\");this.departmentSelectData=this.departmentSelectData.filter(function(t){return t.id!=a})}},created:function(){var e=this;Object(c.K)(this.appListId).then(function(t){e.allFieldData=t})},mounted:function(){}},Mt=a(\"A/RO\"),_t=a.n(Mt);var Ct=function(t){a(\"A2ZY\")},kt={name:\"FieldPermission\",components:{FieldModal:a(\"VU/8\")(bt,_t.a,!1,Ct,null,null).exports},props:{isAdmin:Boolean},data:function(){return{listId:this.$route.params.listId,isEdit:!1,resourceId:\"\",showActionModal:!1,isModalConfirm:1e3,actionData:[],modalName:\"action\",columns:[],userSources:[]}},watch:{isModalConfirm:function(){this.getFieldListData()},isAdmin:function(t){this.setColumns()}},methods:{reGetData:function(t){this.isModalConfirm=t},showModal:function(){this.editActionData={},this.showActionModal=!0,this.isEdit=!1},emitPermissionModal:function(){this.showActionModal=!1},getFieldListData:function(){var e=this;Object(c.J)(this.listId).then(function(t){e.userSources=t})},deleteDataSource:function(t){var e=this;this.$Modal.confirm({title:\"确认\",content:\"确认删除此数据源权限？\",onOk:function(){Object(c.k)(t).then(function(t){t.success&&(e.$Message.success(t.message),e.getFieldListData())})}})},setColumns:function(){var a=this,t=[{title:\"字段或字段组\",key:\"fields\",render:function(t,e){return t(\"div\",{},e.row.fields)}},{title:\"已授权用户、组织或职位\",key:\"instance\"},{title:\"名单类型\",key:\"isBlacklist\",render:function(t,e){var a=\"黑名单\";return e.row.isBlacklist||(a=\"白名单\"),t(\"span\",{},a)}}],e=[{title:\"操作\",key:\"list\",align:\"center\",render:function(t,e){return t(\"div\",[t(\"a\",{on:{click:function(){a.deleteDataSource(e.row.resourceId)}}},\"删除\"),t(\"span\",{style:{height:\"20px\",borderLeft:\"1px solid #39f\",margin:\"0px 5px\"}}),t(\"a\",{on:{click:function(){a.isEdit=!0,a.resourceId=e.row.resourceId,a.showActionModal=!0}}},\"修改\")])}}];this.isAdmin?this.columns=t.concat(e):this.columns=t}},created:function(){},mounted:function(){this.setColumns(),this.getFieldListData()}},yt=a(\"q2L5\"),It=a.n(yt);var Rt=function(t){a(\"DIkH\")},At=a(\"VU/8\")(kt,It.a,!1,Rt,\"data-v-6389fcb6\",null).exports,xt={name:\"ChildSubject\",components:{},props:{isAdmin:Boolean},data:function(){var s=this;return{listId:this.$route.params.listId,subjectData:[],columns:[{title:\"子科目名称\",key:\"calcRelName\"},{title:\"状态\",key:\"status\",render:function(t,e){var a=!1;return 1===e.accountType&&(a=!0),t(\"Checkbox\",{props:{value:1===e.row.status,disabled:a},on:{\"on-change\":function(t){t?Object(c._10)(e.row.calcRelCode).then(function(t){t.success?s.$Message.success(t.message):s.$Message.error(t.message)}):Object(c.d)(e.row.calcRelCode).then(function(t){t.success?s.$Message.success(t.message):s.$Message.error(t.message)})}}},\"启用\")}}]}},methods:{getChildSubjectData:function(){var e=this;Object(c.T)(this.listId).then(function(t){t.success&&(e.subjectData=t.obj)}).catch(function(t){e.$Message.error(t.data.message)})}},mounted:function(){this.getChildSubjectData()}},Pt=a(\"G9Yi\"),Ot=a.n(Pt);var jt=function(t){a(\"PCz9\")},Ft={name:\"permissionSource\",components:{OperationManage:l,ReportView:j,AppForm:W,WorkFlow:Y,ActionManage:nt,PermissionDataSource:ut,CustomDatasource:St,FieldPermission:At,ChildSubject:a(\"VU/8\")(xt,Ot.a,!1,jt,\"data-v-5311d891\",null).exports},props:{listId:String,appType:String,enabledForbidden:Number,isAdmin:Boolean,isAddress:Boolean},data:function(){return{}},mounted:function(){}},$t=a(\"32xo\"),Gt=a.n($t);var Ut=function(t){a(\"KlnR\")},Wt=a(\"VU/8\")(Ft,Gt.a,!1,Ut,\"data-v-abac0e6c\",null);e.default=Wt.exports},\"4q0j\":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-report\"},[a(\"Row\",{staticClass:\"app-report-title\"},[a(\"h3\",[t._v(\"报表 \"),t.isAdmin&&\"subject\"!=t.appType?a(\"a\",{on:{click:t.goCreateView}},[t._v(\"添加报表\")]):t._e()]),t._v(\" \"),a(\"span\",{staticClass:\"warning-color marlr\"},[t._v(\"用户默认拥有此应用默认报表的权限\")])]),t._v(\" \"),a(\"Row\",{staticClass:\"app-report-table\"},[a(\"Table\",{attrs:{columns:t.columns,data:t.reportSources,size:\"small\"}})],1),t._v(\" \"),a(\"report-modal\",{attrs:{modalStatis:t.showReportModal,permissionId:t.permissionId,permissionData:t.permissionData},on:{emitPermissionModal:t.emitPermissionModal,reGetData:t.reGetData}})],1)},staticRenderFns:[]}},\"8dhD\":function(t,e){},\"A/RO\":function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s(\"Modal\",{attrs:{title:\"字段或字段组权限\",width:\"1000\",transfer:!1,styles:{top:\"15px\"},\"mask-closable\":!1},on:{\"on-visible-change\":a.modalVisibleChange},model:{value:a.showPermissionModal,callback:function(t){a.showPermissionModal=t},expression:\"showPermissionModal\"}},[s(\"div\",[s(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{gutter:8}},[s(\"div\",{staticClass:\"field-toolbar\"},[s(\"Button\",{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{type:\"info\",shape:\"circle\"},on:{click:a.addNewField}},[a._v(\"新增字段或字段组\")]),a._v(\" \"),s(\"i-switch\",{staticClass:\"black-white\",attrs:{size:\"large\"},on:{\"on-change\":a.changeBlackWhiteList},model:{value:a.isBlack,callback:function(t){a.isBlack=t},expression:\"isBlack\"}},[s(\"span\",{attrs:{slot:\"close\"},slot:\"close\"},[a._v(\"白名单\")]),a._v(\" \"),s(\"span\",{attrs:{slot:\"open\"},slot:\"open\"},[a._v(\"黑名单\")])])],1),a._v(\" \"),s(\"Table\",{ref:\"actionRef\",attrs:{stripe:\"\",height:\"200\",columns:a.fieldColumns,size:\"small\",\"no-data-text\":\"请添加新字段或字段组\",data:a.fieldData}})],1),a._v(\" \"),s(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{gutter:8}},[s(\"Col\",{attrs:{span:\"4\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectUserModal}},[a._v(\"选择用户\")])],1),a._v(\" \"),s(\"Col\",{attrs:{span:\"4\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectGroupModal}},[a._v(\"选择组织\")])],1),a._v(\" \"),s(\"Col\",{attrs:{span:\"4\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectRoleModal}},[a._v(\"选择职位\")])],1),a._v(\" \"),a._e()],1),a._v(\" \"),s(\"Row\",{attrs:{gutter:8}},[s(\"Col\",{staticClass:\"permission-tab\",attrs:{span:\"24\"}},[s(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"用户\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.userSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{userId:t.userId,closable:\"\",color:\"warning\"},on:{\"on-close\":a.deleteUser}},[a._v(\"\\n              \"+a._s(t.nickname)+\"\\n            \")])}))],1),a._v(\" \"),s(\"Row\",{staticClass:\"permission-line\"}),a._v(\" \"),s(\"Row\",[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"组织\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.orgSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{orgId:t.id,closable:\"\",color:\"success\"},on:{\"on-close\":a.deleteOrg}},[a._v(\"\\n            \"+a._s(t.name)+\"\\n          \")])}))],1),a._v(\" \"),s(\"Row\",{staticClass:\"permission-line\"}),a._v(\" \"),s(\"Row\",[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"职位\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.departmentSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{depId:t.id,closable:\"\",color:\"primary\"},on:{\"on-close\":a.deleteDepartment}},[a._v(\"\\n            \"+a._s(t.name)+\"\\n          \")])}))],1),a._v(\" \"),a._e()],1)],1),a._v(\" \"),s(\"user-selector\",{attrs:{showUserSelector:a.showSelector.showUserSelector},on:{emitUserModal:a.emitUserModal,userModalData:a.getUserModalData}}),a._v(\" \"),s(\"group-selector\",{attrs:{showGroupSelector:a.showSelector.showGroupSelector},on:{emitGroupModal:a.emitGroupModal,groupModalData:a.getGroupModalData}}),a._v(\" \"),s(\"role-selector\",{attrs:{showRoleSelector:a.showSelector.showRoleSelector},on:{emitRoleModal:a.emitRoleModal,roleModalData:a.getRoleModalData}})],1),a._v(\" \"),s(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[s(\"Button\",{attrs:{type:\"default\"},on:{click:a.cancelAddPermission}},[a._v(\"取消\")]),a._v(\" \"),s(\"Button\",{attrs:{type:\"primary\",disabled:a.isModalDisabled},on:{click:a.submitPermission}},[a._v(\"确定\")])],1)])},staticRenderFns:[]}},A2ZY:function(t,e){},AyIr:function(t,e){},B23i:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s(\"Modal\",{attrs:{transfer:!1,title:\"视图权限\",width:\"600\",\"mask-closable\":!1},on:{\"on-visible-change\":a.modalVisibleChange},model:{value:a.showPermissionModal,callback:function(t){a.showPermissionModal=t},expression:\"showPermissionModal\"}},[s(\"div\",[s(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{gutter:8}},[s(\"Col\",{attrs:{span:\"8\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectUserModal}},[a._v(\"选择用户\")])],1),a._v(\" \"),s(\"Col\",{attrs:{span:\"8\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectGroupModal}},[a._v(\"选择组织\")])],1),a._v(\" \"),s(\"Col\",{attrs:{span:\"8\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectRoleModal}},[a._v(\"选择职位\")])],1)],1),a._v(\" \"),s(\"Row\",{attrs:{gutter:8}},[s(\"Col\",{staticClass:\"permission-tab\",attrs:{span:\"24\"}},[s(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"用户\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.userSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{userId:t.userId,closable:\"\",color:\"warning\"},on:{\"on-close\":a.deleteUser}},[a._v(\"\\n          \"+a._s(t.nickname)+\"\\n        \")])}))],1),a._v(\" \"),s(\"Row\",{staticClass:\"permission-line\"}),a._v(\" \"),s(\"Row\",[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"组织\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.orgSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{orgId:t.id,closable:\"\",color:\"success\"},on:{\"on-close\":a.deleteOrg}},[a._v(\"\\n          \"+a._s(t.name)+\"\\n        \")])}))],1),a._v(\" \"),s(\"Row\",{staticClass:\"permission-line\"}),a._v(\" \"),s(\"Row\",[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"职位\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.departmentSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{depId:t.id,closable:\"\",color:\"primary\"},on:{\"on-close\":a.deleteDepartment}},[a._v(\"\\n          \"+a._s(t.name)+\"\\n        \")])}))],1)],1)],1),a._v(\" \"),s(\"user-selector\",{attrs:{showUserSelector:a.showSelector.showUserSelector},on:{emitUserModal:a.emitUserModal,userModalData:a.getUserModalData}}),a._v(\" \"),s(\"group-selector\",{attrs:{showGroupSelector:a.showSelector.showGroupSelector},on:{emitGroupModal:a.emitGroupModal,groupModalData:a.getGroupModalData}}),a._v(\" \"),s(\"role-selector\",{attrs:{showRoleSelector:a.showSelector.showRoleSelector},on:{emitRoleModal:a.emitRoleModal,roleModalData:a.getRoleModalData}})],1),a._v(\" \"),s(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[s(\"Button\",{attrs:{type:\"default\"},on:{click:a.cancelAddPermission}},[a._v(\"取消\")]),a._v(\" \"),s(\"Button\",{attrs:{type:\"primary\",disabled:a.isModalDisabled},on:{click:a.submitPermission}},[a._v(\"确定\")])],1)])},staticRenderFns:[]}},CWWK:function(t,e){},DIkH:function(t,e){},FxqG:function(t,e){},G9Yi:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app\",staticStyle:{\"margin-top\":\"15px\"}},[a(\"Row\",{staticClass:\"app-action\"},[a(\"Row\",{staticClass:\"app-action-title\"},[a(\"h3\",[t._v(\"管理子科目\")]),t._v(\" \"),a(\"span\",{staticClass:\"warning-color marlr\"},[t._v(\"（科目）管理子科目\")])]),t._v(\" \"),a(\"div\",{staticClass:\"app-action-source\"},[a(\"Row\",[a(\"Table\",{attrs:{columns:t.columns,data:t.subjectData,size:\"small\"}})],1)],1)],1)],1)},staticRenderFns:[]}},GeFC:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app\",staticStyle:{\"margin-top\":\"15px\"}},[a(\"Row\",{staticClass:\"app-action\"},[a(\"Row\",{staticClass:\"app-action-title\"},[a(\"h3\",[t._v(\"自定义数据源\"),t.isAdmin?a(\"a\",{staticClass:\"app-action-title-add\",on:{click:t.showModal}},[t._v(\"添加\")]):t._e()]),t._v(\" \"),a(\"span\",{staticClass:\"warning-color marlr\"},[t._v(\"自定义应用字段过滤条件以及授权给用户或用户组\")])]),t._v(\" \"),a(\"div\",{staticClass:\"app-action-source\"},[a(\"Row\",[a(\"Table\",{attrs:{columns:t.columns,data:t.userSources,size:\"small\"}})],1)],1)],1),t._v(\" \"),a(\"custom-datasource-modal\",{attrs:{modalStatis:t.showActionModal,isEdit:t.isEdit,resourceId:t.resourceId},on:{reGetData:t.reGetData,emitPermissionModal:t.emitPermissionModal}})],1)},staticRenderFns:[]}},KlnR:function(t,e){},LKb9:function(t,e){},Ogty:function(t,e){t.exports={render:function(){var s=this,t=s.$createElement,o=s._self._c||t;return o(\"div\",[o(\"Modal\",{attrs:{title:\"职位选择\",\"mask-closable\":!1,styles:{top:\"15px\"}},on:{\"on-ok\":s.confirmDepartment,\"on-cancel\":s.cancelSelectDep,\"on-visible-change\":s.modalVisibleChange},model:{value:s.showDepartmentModal,callback:function(t){s.showDepartmentModal=t},expression:\"showDepartmentModal\"}},[o(\"div\",{staticClass:\"app-search\"},[o(\"Input\",{staticStyle:{width:\"300px\"},attrs:{search:!0,placeholder:\"搜索\"},on:{\"on-search\":s.depFilter},model:{value:s.searchDepValue,callback:function(t){s.searchDepValue=t},expression:\"searchDepValue\"}}),s._v(\" \"),o(\"p\",{staticClass:\"app-search-icon\",on:{click:s.depFilter}},[o(\"Button\",{attrs:{type:\"primary\",size:\"small\"}},[s._v(\"查询\")])],1)],1),s._v(\" \"),o(\"Table\",{ref:\"roleTable\",attrs:{height:\"400\",stripe:\"\",size:\"small\",loading:s.depLoading,columns:s.departmentColumns,data:s.departmentData},on:{\"on-select-cancel\":s.selectDepCancel,\"on-select-all\":s.onRoleSelectAll,\"on-selection-change\":s.selectDepartmentClick}}),s._v(\" \"),o(\"div\",{staticClass:\"user-page\"},[o(\"div\",{staticStyle:{float:\"right\"}},[o(\"Page\",{attrs:{total:s.depTotal,current:s.depCurrentPage,\"page-size\":s.pageSize,size:\"small\",\"show-total\":\"\"},on:{\"on-change\":s.onDepPageChange}})],1)]),s._v(\" \"),o(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:s.departmentSelection[0],expression:\"departmentSelection[0] \"}],staticClass:\"page-selection-warp\"},s._l(s.departmentSelection,function(e,a){return o(\"Tag\",{key:e.id,attrs:{closable:\"\",type:\"border\",color:\"primary\",size:\"small\"},on:{\"on-close\":function(t){s.deleteSelectRole(e,a)}}},[s._v(\"\\n        \"+s._s(e.name)+\"\\n      \")])}))],1)],1)},staticRenderFns:[]}},P1Im:function(t,e){t.exports={render:function(){var s=this,t=s.$createElement,o=s._self._c||t;return o(\"div\",{staticClass:\"app\"},[o(\"Row\",{staticClass:\"app-action\"},[o(\"Row\",{staticClass:\"app-action-title\"},[o(\"h3\",[s._v(\"动作\")]),o(\"span\",{staticClass:\"warning-color marlr\"},[s._v(\"勾选以启用或停用应用的动作\")])]),s._v(\" \"),o(\"div\",{staticClass:\"app-action-source\"},[o(\"Row\",{staticClass:\"app-action-source-list\"},s._l(s.actionData,function(e,a){return o(\"Col\",{key:a,staticClass:\"app-action-source-item\",attrs:{span:\"6\"}},[o(\"Col\",{staticClass:\"app-action-source-item-check\",attrs:{span:\"2\"}},[o(\"Checkbox\",{attrs:{disabled:!s.isAdmin,value:0===e.permType},on:{\"on-change\":function(t){s.isForbidden(e,a)}}})],1),s._v(\" \"),o(\"Col\",{staticClass:\"app-action-source-item-content\",attrs:{span:\"21\"}},[o(\"h3\",[s._v(s._s(e.name))]),s._v(\" \"),o(\"div\",{staticClass:\"app-action-source-item-desc\"},[s._v(s._s(e.desc))])])],1)}))],1)],1)],1)},staticRenderFns:[]}},PCz9:function(t,e){},TlyH:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app\",staticStyle:{\"margin-top\":\"15px\"}},[a(\"Row\",{staticClass:\"app-action\"},[a(\"Row\",{staticClass:\"app-action-title\"},[a(\"h3\",[t._v(\"动作\"),t.isAdmin?a(\"a\",{staticClass:\"app-action-title-add\",on:{click:t.showModal}},[t._v(\"授权\")]):t._e()]),t._v(\" \"),a(\"span\",{staticClass:\"warning-color marlr\"},[t._v(\"授予用户、组织或职位当前应用动作的权限\")])]),t._v(\" \"),a(\"div\",{staticClass:\"app-action-source\"},[a(\"Row\",[a(\"Table\",{attrs:{columns:t.columns,data:t.userSources,size:\"small\"}})],1)],1)],1),t._v(\" \"),a(\"action-modal\",{attrs:{modalStatis:t.showActionModal,modalName:t.modalName},on:{reGetData:t.reGetData,emitPermissionModal:t.emitPermissionModal}})],1)},staticRenderFns:[]}},UFJm:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-workflow\"},[a(\"Row\",{staticClass:\"app-workflow-title\"},[a(\"h3\",[t._v(\"工作流\\n        \"),t.isAdmin&&0===t.workflows.length?a(\"span\",{staticClass:\"app-workflow-create\",on:{click:t.goCreateWorkflow}},[t._v(\"新建\")]):t._e(),t._v(\" \"),t.isAdmin?a(\"span\",{staticClass:\"app-workflow-create\",on:{click:t.showWorkflowModal}},[t._v(\"关联\")]):t._e()])]),t._v(\" \"),a(\"Row\",{staticClass:\"app-workflow-table\"},[a(\"Table\",{attrs:{columns:t.columns,data:t.workflows,size:\"small\"}})],1),t._v(\" \"),a(\"workflow-modal\",{attrs:{modalWorkflowStatus:t.showModal,deleteRelationWorkflow:t.deleteRelationWorkflow},on:{emitWorkFlowModal:t.emitWorkFlowModal,addWorkflow:t.addWorkflow}})],1)},staticRenderFns:[]}},Xqh5:function(t,e){t.exports={render:function(){var s=this,t=s.$createElement,o=s._self._c||t;return o(\"div\",[o(\"Modal\",{attrs:{title:\"组织选择\",\"mask-closable\":!1,styles:{top:\"15px\"}},on:{\"on-ok\":s.confirmOrg,\"on-cancel\":s.cancelSelectOrg,\"on-visible-change\":s.modalVisibleChange},model:{value:s.showOrgModal,callback:function(t){s.showOrgModal=t},expression:\"showOrgModal\"}},[o(\"div\",{staticClass:\"app-search\"},[o(\"Input\",{staticStyle:{width:\"300px\"},attrs:{search:!0,placeholder:\"搜索\"},on:{\"on-search\":s.orgFilter},model:{value:s.searchOrgValue,callback:function(t){s.searchOrgValue=t},expression:\"searchOrgValue\"}}),s._v(\" \"),o(\"p\",{staticClass:\"app-search-icon\",on:{click:s.orgFilter}},[o(\"Button\",{attrs:{type:\"primary\",size:\"small\"}},[s._v(\"查询\")])],1)],1),s._v(\" \"),o(\"Table\",{ref:\"orgTable\",attrs:{height:\"400\",stripe:\"\",size:\"small\",loading:s.orgLoading,columns:s.orgColumns,data:s.orgData},on:{\"on-select-cancel\":s.selectOrgCancel,\"on-select-all\":s.onOrgSelectAll,\"on-selection-change\":s.selectOrgClick}}),s._v(\" \"),o(\"div\",{staticClass:\"user-page\"},[o(\"div\",{staticStyle:{float:\"right\"}},[o(\"Page\",{attrs:{total:s.orgTotal,current:s.orgCurrentPage,\"page-size\":s.pageSize,size:\"small\",\"show-total\":\"\"},on:{\"on-change\":s.onOrgPageChange}})],1)]),s._v(\" \"),o(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:s.orgSelection[0],expression:\"orgSelection[0] \"}],staticClass:\"page-selection-warp\"},s._l(s.orgSelection,function(e,a){return o(\"Tag\",{key:e.id,attrs:{closable:\"\",type:\"border\",color:\"primary\",size:\"small\"},on:{\"on-close\":function(t){s.deleteSelectOrg(e,a)}}},[s._v(\"\\n        \"+s._s(e.name)+\"\\n      \")])}))],1)],1)},staticRenderFns:[]}},aAio:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s(\"Modal\",{attrs:{transfer:!1,title:\"应用权限\",width:\"1000\",styles:{top:\"15px\"},\"mask-closable\":!1},on:{\"on-visible-change\":a.modalVisibleChange},model:{value:a.showPermissionModal,callback:function(t){a.showPermissionModal=t},expression:\"showPermissionModal\"}},[s(\"div\",[s(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{gutter:8}},[s(\"Col\",{attrs:{span:\"4\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectUserModal}},[a._v(\"选择用户\")])],1),a._v(\" \"),s(\"Col\",{attrs:{span:\"4\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectGroupModal}},[a._v(\"选择组织\")])],1),a._v(\" \"),s(\"Col\",{attrs:{span:\"4\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectRoleModal}},[a._v(\"选择职位\")])],1),a._v(\" \"),a._e()],1),a._v(\" \"),s(\"Row\",{attrs:{gutter:8}},[s(\"Col\",{staticClass:\"permission-tab\",attrs:{span:\"12\"}},[s(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"用户\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.userSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{userId:t.userId,closable:\"\",color:\"warning\"},on:{\"on-close\":a.deleteUser}},[a._v(\"\\n              \"+a._s(t.nickname)+\"\\n            \")])}))],1),a._v(\" \"),s(\"Row\",{staticClass:\"permission-line\"}),a._v(\" \"),s(\"Row\",[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"组织\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.orgSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{orgId:t.id,closable:\"\",color:\"success\"},on:{\"on-close\":a.deleteOrg}},[a._v(\"\\n            \"+a._s(t.name)+\"\\n          \")])}))],1),a._v(\" \"),s(\"Row\",{staticClass:\"permission-line\"}),a._v(\" \"),s(\"Row\",[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"职位\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.departmentSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{depId:t.id,closable:\"\",color:\"primary\"},on:{\"on-close\":a.deleteDepartment}},[a._v(\"\\n            \"+a._s(t.name)+\"\\n          \")])}))],1),a._v(\" \"),a._e()],1),a._v(\" \"),s(\"Col\",{attrs:{span:\"12\"}},[s(\"Table\",{ref:\"actionRef\",attrs:{stripe:\"\",height:\"350\",columns:a.allPermissionColumns,size:\"small\",data:a.allPermissionData},on:{\"on-selection-change\":a.permissionSelectChange}})],1)],1),a._v(\" \"),s(\"user-selector\",{attrs:{showUserSelector:a.showSelector.showUserSelector},on:{emitUserModal:a.emitUserModal,userModalData:a.getUserModalData}}),a._v(\" \"),s(\"group-selector\",{attrs:{showGroupSelector:a.showSelector.showGroupSelector},on:{emitGroupModal:a.emitGroupModal,groupModalData:a.getGroupModalData}}),a._v(\" \"),s(\"role-selector\",{attrs:{showRoleSelector:a.showSelector.showRoleSelector},on:{emitRoleModal:a.emitRoleModal,roleModalData:a.getRoleModalData}})],1),a._v(\" \"),s(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[s(\"Button\",{attrs:{type:\"default\"},on:{click:a.cancelAddPermission}},[a._v(\"取消\")]),a._v(\" \"),s(\"Button\",{attrs:{type:\"primary\",disabled:a.isModalDisabled},on:{click:a.submitPermission}},[a._v(\"确定\")])],1)])},staticRenderFns:[]}},bOdI:function(t,e,a){\"use strict\";e.__esModule=!0;var s,o=a(\"C4MV\"),i=(s=o)&&s.__esModule?s:{default:s};e.default=function(t,e,a){return e in t?(0,i.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},bTqw:function(t,e,a){\"use strict\";a.d(e,\"a\",function(){return s}),a.d(e,\"b\",function(){return o});var s={add:\"创建本应用的实例\",delete:\"删除本应用状态为草稿状态的实例、除了管理员、用户只能删除自己创建的实例\",update:\"修改表单实例\",export:\"把当前报表导出到EXCEL\",import:\"通过Excel导入本应用的数据\",printer:\"批量打印选中的实例的表单\",revocation:\"从已生效状态变成已失效\",abate:\"从已生效状态变成已失效\",view:\"首页导航菜单,查询当前用户享有本应用权限范围内的数据\"},o=[{name:\"计划\",icon:\"plan.png\"},{name:\"需求\",icon:\"requirement.png\"},{name:\"领料\",icon:\"collar-material.png\"},{name:\"结项\",icon:\"check.png\"},{name:\"验收\",icon:\"check.png\"},{name:\"交付\",icon:\"pay.png\"},{name:\"存货\",icon:\"stock.png\"},{name:\"毛利\",icon:\"gross-profit.png\"},{name:\"开票\",icon:\"open-ticket.png\"},{name:\"收票\",icon:\"put-ticket.png\"},{name:\"资金\",icon:\"fund-account.png\"},{name:\"往来\",icon:\"dealings.png\"},{name:\"设施\",icon:\"buy-installation.png\"},{name:\"费用\",icon:\"cost-sub.png\"},{name:\"税支\",icon:\"taxexpenditure.png\"},{name:\"待收票\",icon:\"ticket-tobe-collected.png\"},{name:\"待开票\",icon:\"ticket-tobe-invoice.png\"},{name:\"期间费用\",icon:\"cost-sub.png\"},{name:\"企业利润\",icon:\"business-profit.png\"},{name:\"待计划\",icon:\"plans.png\"},{name:\"待下单\",icon:\"requirement.png\"},{name:\"待领料\",icon:\"collar-material.png\"},{name:\"待验收\",icon:\"for-acceptance.png\"},{name:\"待交付\",icon:\"tobe-delivered.png\"},{name:\"往来余额\",icon:\"contacts-balance.png\"},{name:\"货币资金\",icon:\"fund.png\"},{name:\"项目毛利\",icon:\"project-margin.png\"},{name:\"项目费用\",icon:\"project-cost.png\"},{name:\"项目利润\",icon:\"project-profit.png\"},{name:\"企业毛利\",icon:\"enterprise-margin.png\"},{name:\"企业利润\",icon:\"enterprise-profit.png\"},{name:\"其他净资产\",icon:\"other-net-assets.png\"},{name:\"团队毛利\",icon:\"team-margin.png\"},{name:\"团队费用\",icon:\"team-cost.png\"},{name:\"团队利润\",icon:\"team-profit.png\"},{name:\"制造费用\",icon:\"manufacturing-expenses.png\"},{name:\"其他资产\",icon:\"other-asset.png\"},{name:\"其他负债\",icon:\"other-liabilities.png\"},{name:\"其他损益\",icon:\"other-gains-and-losses.png\"},{name:\"税金及附加\",icon:\"taxes-and-addition.png\"}]},e9eA:function(t,e){},eBIU:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-form\"},[a(\"Row\",{staticClass:\"app-form-title\"},[a(\"h3\",[t._v(\"表单 \"),t.isAdmin?a(\"a\",{on:{click:t.setForm}},[t._v(\"表单设置\")]):t._e()])])],1)},staticRenderFns:[]}},oAod:function(t,e){},oXaH:function(t,e){t.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"Modal\",{attrs:{title:\"工作流设置\",width:\"1010\",\"mask-closable\":!1,styles:{top:\"20px\"}},on:{\"on-ok\":e.selectWorkFlow,\"on-visible-change\":e.modalVisibleChange},model:{value:e.showWorkFlow,callback:function(t){e.showWorkFlow=t},expression:\"showWorkFlow\"}},[a(\"Row\",{attrs:{gutter:8}},[a(\"Col\",{attrs:{span:\"12\"}},[a(\"div\",{staticClass:\"flow-title\"},[a(\"b\",[e._v(\"所有工作流\")]),e._v(\" \"),a(\"div\",{staticClass:\"app-search\"},[a(\"Input\",{staticStyle:{width:\"300px\"},attrs:{search:!0,placeholder:\"搜索工作流名称\"},on:{\"on-search\":e.workflowFilter},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:\"searchValue\"}})],1)]),e._v(\" \"),a(\"Table\",{attrs:{loading:e.loadingAll,stripe:\"\",height:\"350\",columns:e.allWorkFlowColumns,data:e.allWorkFlowData},on:{\"on-row-dblclick\":e.addWorkflowData}}),e._v(\" \"),a(\"div\",{staticClass:\"workflow-page\"},[a(\"div\",{staticStyle:{float:\"right\"}},[a(\"Page\",{attrs:{total:e.allWorkFlowTotal,current:e.allCurrentPage,\"page-size\":e.pageSize,size:\"small\",\"show-total\":\"\"},on:{\"on-change\":e.onPageChange}})],1)])],1),e._v(\" \"),a(\"Col\",{attrs:{span:\"12\"}},[a(\"div\",{staticClass:\"flow-title\"},[a(\"b\",[e._v(\"已关联的工作流\")])]),e._v(\" \"),a(\"Table\",{attrs:{loading:e.loadingRelative,stripe:\"\",height:\"350\",columns:e.relativeWorkFlowColumns,data:e.relativeWorkFlowData}}),e._v(\" \"),a(\"div\",{staticClass:\"workflow-page\"},[a(\"div\",{staticStyle:{float:\"right\"}},[a(\"Page\",{attrs:{total:e.relativeWorkFlowTotal,current:e.relativeCurrentPage,\"page-size\":e.pageSize,size:\"small\",\"show-total\":\"\"},on:{\"on-change\":e.onRelativePageChange}})],1)])],1)],1)],1)},staticRenderFns:[]}},q2L5:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app\",staticStyle:{\"margin-top\":\"15px\"}},[a(\"Row\",{staticClass:\"app-action\"},[a(\"Row\",{staticClass:\"app-action-title\"},[a(\"h3\",[t._v(\"字段或字段组\"),t.isAdmin?a(\"a\",{staticClass:\"app-action-title-add\",on:{click:t.showModal}},[t._v(\"添加\")]):t._e()]),t._v(\" \"),a(\"span\",{staticClass:\"warning-color marlr\"},[t._v(\"应用字段授权给用户或用户组\")])]),t._v(\" \"),a(\"div\",{staticClass:\"app-action-source\"},[a(\"Row\",[a(\"Table\",{attrs:{columns:t.columns,data:t.userSources,size:\"small\"}})],1)],1)],1),t._v(\" \"),a(\"field-modal\",{attrs:{modalStatis:t.showActionModal,isEdit:t.isEdit,resourceId:t.resourceId},on:{reGetData:t.reGetData,emitPermissionModal:t.emitPermissionModal}})],1)},staticRenderFns:[]}},sJK6:function(t,e){t.exports={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s(\"Modal\",{attrs:{title:\"自定义数据源\",width:\"1000\",transfer:!1,styles:{top:\"15px\"},\"mask-closable\":!1},on:{\"on-visible-change\":a.modalVisibleChange},model:{value:a.showPermissionModal,callback:function(t){a.showPermissionModal=t},expression:\"showPermissionModal\"}},[s(\"div\",[s(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{gutter:8}},[s(\"Button\",{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{type:\"info\",shape:\"circle\"},on:{click:a.addNewField}},[a._v(\"新增字段\")]),a._v(\" \"),s(\"Table\",{ref:\"actionRef\",attrs:{stripe:\"\",height:\"200\",columns:a.fieldColumns,size:\"small\",\"no-data-text\":\"请添加新字段\",data:a.fieldData}})],1),a._v(\" \"),s(\"Row\",{staticStyle:{\"margin-bottom\":\"10px\"},attrs:{gutter:8}},[s(\"Col\",{attrs:{span:\"4\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectUserModal}},[a._v(\"选择用户\")])],1),a._v(\" \"),s(\"Col\",{attrs:{span:\"4\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectGroupModal}},[a._v(\"选择组织\")])],1),a._v(\" \"),s(\"Col\",{attrs:{span:\"4\"}},[s(\"Button\",{attrs:{type:\"info\",shape:\"circle\"},on:{click:a.selectRoleModal}},[a._v(\"选择职位\")])],1),a._v(\" \"),a._e()],1),a._v(\" \"),s(\"Row\",{attrs:{gutter:8}},[s(\"Col\",{staticClass:\"permission-tab\",attrs:{span:\"24\"}},[s(\"Row\",{staticStyle:{\"margin-top\":\"10px\"}},[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"用户\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.userSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{userId:t.userId,closable:\"\",color:\"warning\"},on:{\"on-close\":a.deleteUser}},[a._v(\"\\n              \"+a._s(t.nickname)+\"\\n            \")])}))],1),a._v(\" \"),s(\"Row\",{staticClass:\"permission-line\"}),a._v(\" \"),s(\"Row\",[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"组织\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.orgSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{orgId:t.id,closable:\"\",color:\"success\"},on:{\"on-close\":a.deleteOrg}},[a._v(\"\\n            \"+a._s(t.name)+\"\\n          \")])}))],1),a._v(\" \"),s(\"Row\",{staticClass:\"permission-line\"}),a._v(\" \"),s(\"Row\",[s(\"Col\",{attrs:{span:\"3\"}},[s(\"b\",{staticClass:\"permission-title\"},[a._v(\"职位\")])]),a._v(\" \"),s(\"Col\",{staticClass:\"member-body\",attrs:{span:\"21\"}},a._l(a.departmentSelectData,function(t,e){return s(\"Tag\",{key:e,attrs:{depId:t.id,closable:\"\",color:\"primary\"},on:{\"on-close\":a.deleteDepartment}},[a._v(\"\\n            \"+a._s(t.name)+\"\\n          \")])}))],1),a._v(\" \"),a._e()],1)],1),a._v(\" \"),s(\"user-selector\",{attrs:{showUserSelector:a.showSelector.showUserSelector},on:{emitUserModal:a.emitUserModal,userModalData:a.getUserModalData}}),a._v(\" \"),s(\"group-selector\",{attrs:{showGroupSelector:a.showSelector.showGroupSelector},on:{emitGroupModal:a.emitGroupModal,groupModalData:a.getGroupModalData}}),a._v(\" \"),s(\"role-selector\",{attrs:{showRoleSelector:a.showSelector.showRoleSelector},on:{emitRoleModal:a.emitRoleModal,roleModalData:a.getRoleModalData}})],1),a._v(\" \"),s(\"div\",{attrs:{slot:\"footer\"},slot:\"footer\"},[s(\"Button\",{attrs:{type:\"default\"},on:{click:a.cancelAddPermission}},[a._v(\"取消\")]),a._v(\" \"),s(\"Button\",{attrs:{type:\"primary\",disabled:a.isModalDisabled},on:{click:a.submitPermission}},[a._v(\"确定\")])],1)])},staticRenderFns:[]}},v8Y1:function(t,e){},xSr9:function(t,e){},y39s:function(t,e){},yKKk:function(t,e){},zYdX:function(t,e){}});"}
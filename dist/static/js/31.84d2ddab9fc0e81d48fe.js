webpackJsonp([31],{lcWE:function(t,i){},xKcK:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("Gu7T"),s=e.n(a),l=e("a8xa"),n={name:"Images",data:function(){return{images:[],imgName:"",imgModalVisible:!1,isRolling:!1,listId:"",imgParams:{page:1,limit:100,total:0,listId:this.$route.params.listId,type:"image"}}},methods:{handleScroll:function(){var t=document.getElementById("imgHistory"),i=this;t.addEventListener("scroll",function(){Math.ceil(t.clientHeight+t.scrollTop)+2>=t.scrollHeight&&i.imgParams.total>i.images.length&&(i.imgParams.page++,i.isRolling=!0,i.refreshImages())})},refreshImages:function(){var t=this;Object(l.c)(this.imgParams).then(function(i){var e;(t.imgParams.total=i.dataCount,t.isRolling)?t.images=(e=t.images).concat.apply(e,s()(i.tableContent)):t.images=i.tableContent})},handleViewImg:function(t){this.imgName=t,this.imgModalVisible=!0}},mounted:function(){this.listId=this.$route.params.listId,this.refreshImages(),this.handleScroll()}},m={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"imgs messagescrollbar",attrs:{id:"imgHistory"}},[t._l(t.images,function(i,a){return e("div",{key:a,staticClass:"comimg"},[e("img",{attrs:{width:"80",src:i.attachment}}),t._v(" "),e("div",{staticClass:"comimg-cover"},[e("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){t.handleViewImg(i.attachment)}}})],1)])}),t._v(" "),e("Modal",{attrs:{title:"查看图片",width:"50%"},model:{value:t.imgModalVisible,callback:function(i){t.imgModalVisible=i},expression:"imgModalVisible"}},[t.imgModalVisible?e("img",{staticStyle:{width:"100%"},attrs:{src:t.imgName}}):t._e()])],2)},staticRenderFns:[]};var o=e("VU/8")(n,m,!1,function(t){e("lcWE")},"data-v-d1a2acd0",null);i.default=o.exports}});
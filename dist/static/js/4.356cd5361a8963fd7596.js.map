{"version":3,"sources":["webpack:///src/views/addressBook/job/instance/job-member-info.vue","webpack:///./src/views/addressBook/job/instance/job-member-info.vue?c77a","webpack:///./src/views/addressBook/job/instance/job-member-info.vue","webpack:///src/views/addressBook/job/instance/job-permission.vue","webpack:///./src/views/addressBook/job/instance/job-permission.vue?20ec","webpack:///./src/views/addressBook/job/instance/job-permission.vue","webpack:///src/views/addressBook/job/job.vue","webpack:///./src/views/addressBook/job/job.vue?6f56","webpack:///./src/views/addressBook/job/job.vue","webpack:///src/views/addressBook/organization/instance/CustomTable.vue","webpack:///./src/views/addressBook/organization/instance/CustomTable.vue?380c","webpack:///./src/views/addressBook/organization/instance/CustomTable.vue"],"names":["job_member_info","name","components","MemberModal","Modal","CustomTable","props","jobId","type","String","data","_this","this","memberInfoLoading","searchValue","searchTableValue","memberInfoParams","roleId","page","limit","memberInfoColumns","width","align","title","key","render","h","params","src","row","photo","gender","size","style","cursor","on","click","$Modal","confirm","content","onOk","Object","addressBookService","userId","then","res","success","$Message","reload","$emit","catch","error","message","memberInfoColumnsModel","isShowMemberModal","listUserLoading","listUserData","listUserPageTotal","listUserCurrentPage","pageSize","onPageSelection","selectDeleteMemberInfo","methods","onSelectionChange","selection","length","onRefeshChange","val","onSelectAll","_onPageSelection","obj","push","apply","toConsumableArray_default","reduce","cur","next","handerSelectionChange","s","$refs","p","map","item","filter","f","_onPageSelection2","deletePageSelection","event","_this2","id","Number","target","parentElement","getAttribute","forEach","index","toggleSelect","onSelectCancel","saveSelectionUser","_this3","multiId","join","deleteMemberInfo","_this4","getListUsers","currentPage","_this5","tableContent","dataCount","sel","_checked","listUserChangePage","stringify_default","operator_1","value_1","property_1","link","operator_2","value_2","property_2","onPageSizeChange","showMemberModal","userFilter","userTableFilter","instance_job_member_info","_vm","_h","$createElement","_c","_self","attrs","apiUrl","columns","apiParams","on-selection-change","on-refesh-change","model","value","callback","$$v","expression","staticClass","slot","_v","staticStyle","search","placeholder","on-search","footerBtnAlign","on-ok","margin-top","ref","height","loading","on-select-all","on-select-cancel","margin","overflow","float","total","current","page-size","show-total","show-elevator","show-sizer","on-page-size-change","on-change","directives","rawName","_l","closable","color","on-close","_s","nickname","staticRenderFns","job_instance_job_member_info","__webpack_require__","normalizeComponent","ssrContext","job_permission","permissionParams","objectName","objectId","start","permissionColumns","isShowModal","allPermissionData","selectPermissionNode","selectDeletePermission","addPermission","getAllPermissionData","deletePermission","onCheckChange","node","savePermission","leaf","children","loadData","instance_job_permission","max-height","multiple","load-data","on-select-change","job_instance_job_permission","job_permission_normalizeComponent","job","MemberInfo","Permission","formItem","describe","status","isEdit","editBtnName","statusRadio","actionBtn","label","number","hidden","imgPath","actionIndex","ruleValidate","required","trigger","checkout","$route","isPermission","handlerViewChange","handleSubmitBoxs","srcElement","nodeName","toLocaleLowerCase","location","href","save","saveAndAdd","validate","valid","resetFields","errer","window","$router","path","getObjDetailsCountByRoleId","element","handleChangeObjDetailsCount","onGroupNameOutBlur","filedName","symbol","result","mounted","tabsMaxHight","document","body","clientHeight","getElementsByClassName","operator","property","that","action","update","job_job","margin-bottom","_e","class","$event","is-required","labelWidth","rules","font-size","prop","readonly","on-blur","$set","disabled","creator","crtTime","modifier","modTime","background-color","domProps","on-member-info-change","on-permission-change","job_Component","job_normalizeComponent","__webpack_exports__","Array","Boolean","default","isHiddenPage","pageTotal","columnsData","watch","getTableData","changeCurrentPage","summary","instance_CustomTable","_t","Component"],"mappings":"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","file":"static/js/4.356cd5361a8963fd7596.js","sourcesContent":["<style lang=\"less\" scoped>\r\n.permission-container-btn-export {\r\n  float: right;\r\n}\r\n\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n.app-search {\r\n  margin-bottom: 5px;\r\n  .app-search-icon {\r\n    font-size: 1rem;\r\n    color: #39f;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n  }\r\n}\r\n.app-table-search{\r\n  float: right;\r\n  .app-search-icon {\r\n    font-size: 1rem;\r\n    color: #fff;\r\n    display: inline-block;\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.page-selection-warp {\r\n  width: 100%;\r\n  height: 100%;\r\n  min-height: 30px;\r\n  background-color: #e6e6e6;\r\n  margin-bottom: 10px;\r\n  padding: 1px 5px;\r\n}\r\n</style>\r\n\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getRoleUser2Oneself\" :columns=\"memberInfoColumns\" :apiParams=\"memberInfoParams\" v-model=\"reload\" @on-selection-change=\"onSelectionChange\" @on-refesh-change='onRefeshChange'>\r\n      <!-- <div slot=\"header\">\r\n        <Button icon=\"md-add\" type=\"primary\" @click=\"showMemberModal\">添加成员</Button>\r\n        <Button icon=\"md-remove\" type=\"primary\" @click=\"deleteMemberInfo\" :disabled=\"deleteBtnDisable\">移除成员</Button>\r\n        <Button icon=\"ios-download-outline\" type=\"primary\" class=\"permission-container-btn-export\" @click=\"exportData\">导出</Button>\r\n      </div> -->\r\n\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"showMemberModal\">添加成员</label>\r\n        <span>-添加成员</span>\r\n\r\n        <label @click=\"deleteMemberInfo\">移除成员</label>\r\n        <span>-移除成员</span>\r\n\r\n        <div class=\"app-table-search\">\r\n          <Input @on-search=\"userTableFilter\" :search=\"true\" v-model=\"searchTableValue\" placeholder=\"搜索工号或名称\" style=\"width: 300px\"></Input>\r\n          <a @click=\"userTableFilter\" class=\"app-search-icon\">\r\n            <Button type=\"primary\" size=\"small\">查询</Button>\r\n          </a>\r\n        </div>\r\n\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowMemberModal\" width=\"1000\" footerBtnAlign=\"right\" title=\"选择用户\" @on-ok=\"saveSelectionUser\">\r\n      <div style=\"margin-top:10px\">\r\n        <div class=\"app-search\">\r\n          <Input @on-search=\"userFilter\" :search=\"true\" v-model=\"searchValue\" placeholder=\"搜索工号或名称\" style=\"width: 300px\"></Input>\r\n          <a @click=\"userFilter\" class=\"app-search-icon\">\r\n            <Button type=\"primary\" size=\"small\">查询</Button>\r\n          </a>\r\n        </div>\r\n        <Table height=\"400\" size='small' ref=\"selection\" :loading=\"listUserLoading\" :columns=\"memberInfoColumnsModel\" :data=\"listUserData\" @on-select-all=\"onSelectAll\" @on-selection-change=\"handerSelectionChange\" @on-select-cancel=\"onSelectCancel\">\r\n        </Table>\r\n        <div style=\"margin: 10px;overflow: hidden\">\r\n          <div style=\"float: right;\">\r\n            <Page :total=\"listUserPageTotal\" :current=\"listUserCurrentPage\" :page-size=\"pageSize\" size=\"small\" @on-page-size-change=\"onPageSizeChange\" @on-change=\"listUserChangePage\" show-total show-elevator show-sizer></Page>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"page-selection-warp\" v-show=\"onPageSelection[0] \">\r\n        <Tag v-for=\"item in onPageSelection\" :key=\"item.userId\" :userId=\"item.userId\" :closable=\"true\" @on-close=\"deletePageSelection\" type=\"border\" color=\"primary\" size=\"small\">\r\n          {{item.nickname}}\r\n        </Tag>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport {\r\n  listUsers,\r\n  deleteBatchRole,\r\n  saveBatchChildRole,\r\n  getAllUsers\r\n} from \"@/services/addressBookService.js\";\r\nimport CustomTable from \"@/views/addressBook/organization/instance/CustomTable\";\r\nexport default {\r\n  name: \"job-member-info\",\r\n\r\n  components: {\r\n    MemberModal,\r\n    CustomTable\r\n  },\r\n\r\n  props: {\r\n    jobId: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      memberInfoLoading: false,\r\n      searchValue: \"\",\r\n      searchTableValue: \"\",\r\n      memberInfoParams: {\r\n        roleId: this.jobId,\r\n        page: 1,\r\n        limit: 10\r\n      },\r\n      memberInfoColumns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"头像\",\r\n          key: \"photo\",\r\n          width: 80,\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\"Avatar\", {\r\n                props: {\r\n                  src: params.row.photo\r\n                }\r\n              })\r\n            ]);\r\n          }\r\n        },\r\n        {\r\n          title: \"工号\",\r\n          key: \"userCode\"\r\n        },\r\n        {\r\n          title: \"姓名\",\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n          render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"手机号\",\r\n          key: \"mobile\"\r\n        },\r\n        {\r\n          title: \"邮箱\",\r\n          key: \"email\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 120,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Button\",\r\n              {\r\n                props: {\r\n                  type: \"error\",\r\n                  size: \"small\"\r\n                },\r\n                style: {\r\n                  cursor: \"pointer\"\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: \"确认\",\r\n                      content: \"确认删除该成员？\",\r\n                      onOk: () => {\r\n                        deleteBatchRole(this.jobId, params.row.userId)\r\n                          .then(res => {\r\n                            if (res.success) {\r\n                              this.$Message.success(\"删除成功!\");\r\n                              this.reload = true;\r\n                              this.$emit(\"on-member-info-change\", true);\r\n                            }\r\n                          })\r\n                          .catch(error => {\r\n                            this.$Message.error(error.data.message);\r\n                          });\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              },\r\n              \"删除\"\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      memberInfoColumnsModel: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"头像\",\r\n          key: \"photo\",\r\n          width: 80,\r\n          render: (h, params) => {\r\n            return h(\"div\", [\r\n              h(\"Avatar\", {\r\n                props: {\r\n                  src: params.row.photo\r\n                }\r\n              })\r\n            ]);\r\n          }\r\n        },\r\n        {\r\n          title: \"工号\",\r\n          key: \"userCode\"\r\n        },\r\n        {\r\n          title: \"姓名\",\r\n          key: \"nickname\"\r\n        },\r\n        {\r\n          title: \"性别\",\r\n          key: \"gender\",\r\n          render: (h, params) => {\r\n            let gender = params.row.gender;\r\n            return h(\r\n              \"span\",\r\n              gender === 1 ? \"男\" : gender === 0 ? \"女\" : \"未知\"\r\n            );\r\n          }\r\n        },\r\n        {\r\n          title: \"手机号\",\r\n          key: \"mobile\"\r\n        },\r\n        {\r\n          title: \"邮箱\",\r\n          key: \"email\"\r\n        }\r\n      ],\r\n\r\n      //模态框参数\r\n      isShowMemberModal: false,\r\n      listUserLoading: false,\r\n      listUserData: [],\r\n      listUserPageTotal: 0,\r\n      listUserCurrentPage: 1,\r\n      pageSize: 10,\r\n\r\n      //模态框参数\r\n      onPageSelection: [],\r\n      selectDeleteMemberInfo: [],\r\n      reload: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    //选中的成员信息\r\n    onSelectionChange(selection) {\r\n      if (selection.length > 0) {\r\n        this.selectDeleteMemberInfo = selection;\r\n      }\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    //全选\r\n    onSelectAll(selection) {\r\n      let obj = {};\r\n      //触发全选事件\r\n      //全选\r\n      this.onPageSelection.push(...selection);\r\n      //数组去重\r\n      this.onPageSelection = this.onPageSelection.reduce((cur, next) => {\r\n        obj[next.userId] ? \"\" : (obj[next.userId] = true && cur.push(next));\r\n        return cur;\r\n      }, []);\r\n    },\r\n\r\n    handerSelectionChange(selection) {\r\n      //取消全选\r\n      if (selection.length === 0) {\r\n        let s = this.$refs.selection.data;\r\n        let p = this.onPageSelection;\r\n        s.map(item => {\r\n          p = p.filter(f => {\r\n            return f.userId !== item.userId;\r\n          });\r\n        });\r\n        this.onPageSelection = p;\r\n      } else {\r\n        let obj = {};\r\n        this.onPageSelection.push(...selection);\r\n        //数组去重\r\n        this.onPageSelection = this.onPageSelection.reduce((cur, next) => {\r\n          obj[next.userId] ? \"\" : (obj[next.userId] = true && cur.push(next));\r\n          return cur;\r\n        }, []);\r\n      }\r\n    },\r\n    //删除分页选中\r\n    deletePageSelection(event) {\r\n      let id = Number(event.target.parentElement.getAttribute(\"userId\"));\r\n      this.onPageSelection = this.onPageSelection.filter(f => {\r\n        return f.userId !== id;\r\n      });\r\n\r\n      this.$refs.selection.data.forEach((item, index) => {\r\n        if (id === item.userId) {\r\n          this.$refs.selection.toggleSelect(index);\r\n        }\r\n      });\r\n    },\r\n\r\n    //单选取消\r\n    onSelectCancel(selection, row) {\r\n      this.onPageSelection = this.onPageSelection.filter(f => {\r\n        return f.userId !== row.userId;\r\n      });\r\n    },\r\n\r\n    //保存选中的用户\r\n    saveSelectionUser() {\r\n      let multiId = [];\r\n      this.onPageSelection.forEach(val => {\r\n        multiId.push(val.userId);\r\n      });\r\n      if (multiId) {\r\n        saveBatchChildRole(this.jobId, multiId.join(\",\"), 1).then(res => {\r\n          if (res.success) {\r\n            this.$Message.success(res.message);\r\n            this.reload = true;\r\n            this.isShowMemberModal = false;\r\n            this.$emit(\"on-member-info-change\", true);\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    deleteMemberInfo() {\r\n      let multiId = [];\r\n      this.selectDeleteMemberInfo.forEach(val => {\r\n        multiId.push(val.userId);\r\n      });\r\n      if (multiId) {\r\n        deleteBatchRole(this.jobId, multiId.join(\",\"), 0)\r\n          .then(res => {\r\n            if (res.success) {\r\n              this.$Message.success(\"删除成功!\");\r\n              this.reload = true;\r\n              this.$emit(\"on-member-info-change\", true);\r\n            }\r\n          })\r\n          .catch(error => {\r\n            this.$Message.error(error.data.message);\r\n          });\r\n      }\r\n    },\r\n\r\n    //获取用户列表\r\n    getListUsers(currentPage, pageSize, filter) {\r\n      this.listUserLoading = true;\r\n      getAllUsers(pageSize, currentPage, filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          this.listUserPageTotal = res.dataCount;\r\n          this.listUserData = res.tableContent;\r\n\r\n          if (this.onPageSelection.length > 0) {\r\n            this.listUserData.map(item => {\r\n              this.onPageSelection.map(sel => {\r\n                if (item.userId === sel.userId) {\r\n                  item._checked = true;\r\n                }\r\n              });\r\n            });\r\n          }\r\n          this.listUserLoading = false;\r\n        }\r\n      });\r\n    },\r\n\r\n    listUserChangePage(currentPage) {\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.getListUsers(currentPage, this.pageSize, filter);\r\n    },\r\n\r\n    //点击切换每页显示条数\r\n    onPageSizeChange(size) {\r\n      this.pageSize = size;\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.getListUsers(1, size, filter);\r\n    },\r\n\r\n    //显示模态框-添加成员\r\n    showMemberModal() {\r\n      this.isShowMemberModal = true;\r\n      this.searchValue = \"\";\r\n      this.onPageSelection = [];\r\n      this.getListUsers(this.listUserCurrentPage, this.pageSize);\r\n    },\r\n\r\n    //过滤\r\n    userFilter() {\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.getListUsers(this.listUserCurrentPage, this.pageSize, filter);\r\n    },\r\n    //职位成员过滤\r\n    userTableFilter() {\r\n      let filter = JSON.stringify([\r\n        {\r\n          operator_1: \"like\",\r\n          value_1: this.searchTableValue,\r\n          property_1: \"nickname\",\r\n          link: \"or\",\r\n          operator_2: \"like\",\r\n          value_2: this.searchTableValue,\r\n          property_2: \"userCode\"\r\n        }\r\n      ]);\r\n      this.memberInfoParams.filter = filter;\r\n      this.reload = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/job/instance/job-member-info.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getRoleUser2Oneself\",\"columns\":_vm.memberInfoColumns,\"apiParams\":_vm.memberInfoParams},on:{\"on-selection-change\":_vm.onSelectionChange,\"on-refesh-change\":_vm.onRefeshChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.showMemberModal}},[_vm._v(\"添加成员\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-添加成员\")]),_vm._v(\" \"),_c('label',{on:{\"click\":_vm.deleteMemberInfo}},[_vm._v(\"移除成员\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-移除成员\")]),_vm._v(\" \"),_c('div',{staticClass:\"app-table-search\"},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"search\":true,\"placeholder\":\"搜索工号或名称\"},on:{\"on-search\":_vm.userTableFilter},model:{value:(_vm.searchTableValue),callback:function ($$v) {_vm.searchTableValue=$$v},expression:\"searchTableValue\"}}),_vm._v(\" \"),_c('a',{staticClass:\"app-search-icon\",on:{\"click\":_vm.userTableFilter}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查询\")])],1)],1)])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"1000\",\"footerBtnAlign\":\"right\",\"title\":\"选择用户\"},on:{\"on-ok\":_vm.saveSelectionUser},model:{value:(_vm.isShowMemberModal),callback:function ($$v) {_vm.isShowMemberModal=$$v},expression:\"isShowMemberModal\"}},[_c('div',{staticStyle:{\"margin-top\":\"10px\"}},[_c('div',{staticClass:\"app-search\"},[_c('Input',{staticStyle:{\"width\":\"300px\"},attrs:{\"search\":true,\"placeholder\":\"搜索工号或名称\"},on:{\"on-search\":_vm.userFilter},model:{value:(_vm.searchValue),callback:function ($$v) {_vm.searchValue=$$v},expression:\"searchValue\"}}),_vm._v(\" \"),_c('a',{staticClass:\"app-search-icon\",on:{\"click\":_vm.userFilter}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('Table',{ref:\"selection\",attrs:{\"height\":\"400\",\"size\":\"small\",\"loading\":_vm.listUserLoading,\"columns\":_vm.memberInfoColumnsModel,\"data\":_vm.listUserData},on:{\"on-select-all\":_vm.onSelectAll,\"on-selection-change\":_vm.handerSelectionChange,\"on-select-cancel\":_vm.onSelectCancel}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.listUserPageTotal,\"current\":_vm.listUserCurrentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-page-size-change\":_vm.onPageSizeChange,\"on-change\":_vm.listUserChangePage}})],1)])],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.onPageSelection[0] ),expression:\"onPageSelection[0] \"}],staticClass:\"page-selection-warp\"},_vm._l((_vm.onPageSelection),function(item){return _c('Tag',{key:item.userId,attrs:{\"userId\":item.userId,\"closable\":true,\"type\":\"border\",\"color\":\"primary\",\"size\":\"small\"},on:{\"on-close\":_vm.deletePageSelection}},[_vm._v(\"\\n        \"+_vm._s(item.nickname)+\"\\n      \")])}))])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6d8b7af3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/job/instance/job-member-info.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d8b7af3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./job-member-info.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./job-member-info.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./job-member-info.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d8b7af3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./job-member-info.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d8b7af3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/job/instance/job-member-info.vue\n// module id = null\n// module chunks = ","<style lang=\"less\" scoped>\r\n.header-action {\r\n  label {\r\n    color: #009688;\r\n    font-size: 17px;\r\n    cursor: pointer;\r\n    font-weight: bold;\r\n  }\r\n\r\n  span {\r\n    color: rgb(122, 118, 118);\r\n  }\r\n}\r\n</style>\r\n\r\n<template>\r\n  <div>\r\n    <custom-table apiUrl=\"/ds/getObjectPermission2Oneself\" :columns=\"permissionColumns\" :apiParams=\"permissionParams\" v-model=\"reload\" @on-selection-change=\"onSelectionChange\" @on-refesh-change='onRefeshChange'>\r\n      <!-- <div slot=\"header\" class=\"permission-container-btn\">\r\n        <Button icon=\"md-add\" type=\"primary\" @click=\"addPermission\">添加权限</Button>\r\n        <Button icon=\"md-remove\" type=\"primary\" @click=\"deletePermission\" :disabled=\"deleteBtnDisable\">移除权限</Button>\r\n      </div> -->\r\n\r\n      <div slot=\"header\" class=\"header-action\">\r\n        <label @click=\"addPermission\">添加权限</label>\r\n        <span>-添加权限</span>\r\n\r\n        <label @click=\"deletePermission\">移除权限</label>\r\n        <span>-移除权限</span>\r\n      </div>\r\n    </custom-table>\r\n\r\n    <member-modal v-model=\"isShowModal\" width=\"600\" footerBtnAlign=\"right\" title=\"权限列表\" @on-ok=\"savePermission\">\r\n      <div style=\"max-height:350px;overflow:auto\">\r\n        <Tree :data=\"allPermissionData\" :multiple=\"true\" @on-select-change=\"onCheckChange\" :load-data=\"loadData\"></Tree>\r\n      </div>\r\n    </member-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport {\r\n  getAllPermissionData,\r\n  addRolePermission,\r\n  deleteRolePermission\r\n} from \"@/services/addressBookService.js\";\r\nimport CustomTable from \"@/views/addressBook/organization/instance/CustomTable\";\r\nexport default {\r\n  name: \"job-permission\",\r\n\r\n  components: {\r\n    CustomTable,\r\n    MemberModal\r\n  },\r\n\r\n  props: {\r\n    jobId: {\r\n      type: String\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      permissionParams: {\r\n        objectName: \"role\",\r\n        objectId: this.jobId,\r\n        page: 1,\r\n        limit: 10,\r\n        start: 0\r\n      },\r\n\r\n      permissionColumns: [\r\n        {\r\n          type: \"selection\",\r\n          width: 60,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"名称\",\r\n          key: \"name\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          key: \"action\",\r\n          width: 120,\r\n          align: \"center\",\r\n          render: (h, params) => {\r\n            return h(\r\n              \"Button\",\r\n              {\r\n                props: {\r\n                  type: \"error\",\r\n                  size: \"small\"\r\n                },\r\n                style: {\r\n                  cursor: \"pointer\"\r\n                },\r\n                on: {\r\n                  click: () => {\r\n                    this.$Modal.confirm({\r\n                      title: \"确认\",\r\n                      content: \"确认删除该权限？\",\r\n                      onOk: () => {\r\n                        deleteRolePermission(this.jobId, params.row.id)\r\n                          .then(res => {\r\n                            if (res.success) {\r\n                              this.$Message.success(\"删除成功!\");\r\n                              this.reload = true;\r\n                              this.$emit(\"on-permission-change\", true);\r\n                            }\r\n                          })\r\n                          .catch(error => {\r\n                            this.$Message.error(error.data.message);\r\n                          });\r\n                      }\r\n                    });\r\n                  }\r\n                }\r\n              },\r\n              \"删除\"\r\n            );\r\n          }\r\n        }\r\n      ],\r\n\r\n      //模态框参数\r\n      isShowModal: false,\r\n      allPermissionData: [],\r\n      selectPermissionNode: [],\r\n      selectDeletePermission: [],\r\n      reload: false\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    listUserChangePage(currentPage) {\r\n      this.getListUsers(currentPage, this.pageSize);\r\n    },\r\n\r\n    addPermission() {\r\n      this.isShowModal = true;\r\n      this.getAllPermissionData();\r\n    },\r\n\r\n    onRefeshChange(val) {\r\n      if (!val) {\r\n        this.reload = val;\r\n      }\r\n    },\r\n\r\n    deletePermission() {\r\n      let multiId = [];\r\n      this.selectDeletePermission.forEach(val => {\r\n        multiId.push(val.id);\r\n      });\r\n      if (multiId) {\r\n        deleteRolePermission(this.jobId, multiId.join(\",\"))\r\n          .then(res => {\r\n            if (res.success) {\r\n              this.$Message.success(\"删除成功!\");\r\n              this.selectPermissionNode = [];\r\n              this.reload = true;\r\n              this.$emit(\"on-permission-change\", true);\r\n            }\r\n          })\r\n          .catch(error => {\r\n            this.$Message.error(error.data.message);\r\n          });\r\n      }\r\n    },\r\n\r\n    onSelectionChange(selection) {\r\n      if (selection.length > 0) {\r\n        this.selectDeletePermission = selection;\r\n      }\r\n    },\r\n\r\n    //点击节点选择权限\r\n    onCheckChange(node) {\r\n      this.selectPermissionNode = node;\r\n    },\r\n\r\n    //保存添加的权限\r\n    savePermission() {\r\n      let multiId = [];\r\n      this.selectPermissionNode.forEach(val => {\r\n        multiId.push(val.id);\r\n      });\r\n      if (multiId) {\r\n        addRolePermission(this.jobId, multiId.join(\",\")).then(res => {\r\n          if (res.success) {\r\n            this.$Message.success(res.message);\r\n            this.reload = true;\r\n            this.$emit(\"on-permission-change\", true);\r\n            this.isShowModal = false;\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    //加载所有权限数据\r\n    getAllPermissionData() {\r\n      if (this.allPermissionData.length === 0) {\r\n        getAllPermissionData(0).then(res => {\r\n          res.tableContent.forEach(val => {\r\n            if(val.leaf === 'false'){\r\n              this.allPermissionData.push({\r\n                title: val.name,\r\n                id: val.id,\r\n                loading: false,\r\n                children: []\r\n              });\r\n            }else{\r\n              this.allPermissionData.push({\r\n                title: val.name,\r\n                id: val.id\r\n              });\r\n            }\r\n          });\r\n        });\r\n      }\r\n    },\r\n\r\n    //异步加载权限数据\r\n    loadData(item, callback) {\r\n      getAllPermissionData(item.id).then(res => {\r\n        let data = [];\r\n        res.tableContent.forEach(val => {\r\n          if (val.leaf === \"false\") {\r\n            data.push({\r\n              title: val.name,\r\n              id: val.id,\r\n              loading: false,\r\n              children: []\r\n            });\r\n          } else {\r\n            data.push({\r\n              title: val.name,\r\n              id: val.id\r\n            });\r\n          }\r\n        });\r\n        callback(data);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/job/instance/job-permission.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('custom-table',{attrs:{\"apiUrl\":\"/ds/getObjectPermission2Oneself\",\"columns\":_vm.permissionColumns,\"apiParams\":_vm.permissionParams},on:{\"on-selection-change\":_vm.onSelectionChange,\"on-refesh-change\":_vm.onRefeshChange},model:{value:(_vm.reload),callback:function ($$v) {_vm.reload=$$v},expression:\"reload\"}},[_c('div',{staticClass:\"header-action\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('label',{on:{\"click\":_vm.addPermission}},[_vm._v(\"添加权限\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-添加权限\")]),_vm._v(\" \"),_c('label',{on:{\"click\":_vm.deletePermission}},[_vm._v(\"移除权限\")]),_vm._v(\" \"),_c('span',[_vm._v(\"-移除权限\")])])]),_vm._v(\" \"),_c('member-modal',{attrs:{\"width\":\"600\",\"footerBtnAlign\":\"right\",\"title\":\"权限列表\"},on:{\"on-ok\":_vm.savePermission},model:{value:(_vm.isShowModal),callback:function ($$v) {_vm.isShowModal=$$v},expression:\"isShowModal\"}},[_c('div',{staticStyle:{\"max-height\":\"350px\",\"overflow\":\"auto\"}},[_c('Tree',{attrs:{\"data\":_vm.allPermissionData,\"multiple\":true,\"load-data\":_vm.loadData},on:{\"on-select-change\":_vm.onCheckChange}})],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-18705dd2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/job/instance/job-permission.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-18705dd2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./job-permission.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./job-permission.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./job-permission.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18705dd2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./job-permission.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-18705dd2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/job/instance/job-permission.vue\n// module id = null\n// module chunks = ","<style lang=\"less\">\r\n@import \"./job.less\";\r\n</style>\r\n\r\n<template>\r\n  <div class=\"job-wrap\">\r\n    <header class=\"job-wrap-header\">\r\n      <span class=\"job-wrap-header-job\">职位</span>\r\n      <span class=\"job-wrap-header-others\">/</span>\r\n      <span v-show=\"jobId\" class=\"job-wrap-header-others\">{{name}}</span>\r\n      <span v-show=\"!jobId\" class=\"job-wrap-header-others\">创建</span>\r\n      <Tag v-show=\"jobId\" class=\"radius10 marlr10 color_fff\" v-instanceStateDirective=\"{status:formItem.status}\" style=\"margin-bottom: 7px;\"></Tag>\r\n    </header>\r\n\r\n    <div class=\"job-wrap-action\">\r\n      <ul>\r\n        <li v-for=\"(item,index) in actionBtn\" :key=\"index\" v-if=\"!item.hidden\" class=\"job-wrap-action-li\" v-bind:class=\"index===actionIndex?'job-wrap-action-li-active':''\" @click=\"handlerViewChange(index)\">\r\n          <div>\r\n            <img v-if=\"!item.type\" :src=\"item.imgPath\" class=\"job-wrap-action-li-img\" />\r\n            <Icon v-else :type=\"item.type\" class=\"icon\" />\r\n            <div class=\"left-content\">\r\n              <span v-show=\"item.number!=='undefine'\">{{item.number}}</span>\r\n              <h3>{{item.label}}</h3>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div class=\"job-wrap-tabs\">\r\n      <!-- 基本信息 -->\r\n      <section class=\"baseinfo-container rfd-tab-container-common\" v-if=\"actionIndex===2\">\r\n        <Form :model=\"formItem\" :labelWidth=\"120\" ref=\"formItem\" :rules=\"ruleValidate\" :class=\"{'is-required':isEdit}\">\r\n          <FormItem label=\"职位名称:\" style=\"font-size:16px\" prop=\"name\">\r\n            <Input v-model=\"formItem.name\" @on-blur=\"onGroupNameOutBlur\" :readonly=\"isEdit\" :class=\"isEdit?'input-status-isedit':''\" />\r\n          </FormItem>\r\n          <FormItem label=\"职位类型\" :labelWidth=\"120\" prop=\"type\">\r\n            <Select v-model=\"formItem.type\" placeholder=\"请选择职位类型\" :disabled=\"isEdit\" :class=\"isEdit?'input-status-isedit':''\">\r\n              <Option value=\"M\">管理类</Option>\r\n              <Option value=\"Y\">营销类</Option>\r\n              <Option value=\"J\">技术类</Option>\r\n              <Option value=\"Z\">专业类</Option>\r\n              <Option value=\"C\">操作类</Option>\r\n            </Select>\r\n          </FormItem>\r\n          <div class=\"baseinfo-container-divider\" v-if=\"jobId && isEdit\"></div>\r\n          <FormItem label=\"创建者：\" v-if=\"jobId && isEdit\">\r\n            <span>{{ tableContent.creator}}</span>\r\n          </FormItem>\r\n          <FormItem label=\"创建时间：\" v-if=\"jobId && isEdit\">\r\n            <span>{{ tableContent.crtTime }}</span>\r\n          </FormItem>\r\n          <FormItem label=\"修改者：\" v-if=\"jobId && isEdit\">\r\n            <span>{{ tableContent.modifier}}</span>\r\n          </FormItem>\r\n          <FormItem label=\"修改时间：\" v-if=\"jobId && isEdit\">\r\n            <span>{{ tableContent.modTime }}</span>\r\n          </FormItem>\r\n          <div class=\"baseinfo-container-divider\"></div>\r\n          <FormItem label=\"职位状态\" :labelWidth=\"120\" style=\"margin-top:20px\">\r\n            <Select v-model=\"formItem.status\" :disabled=\"isEdit\" :class=\"isEdit?'input-status-isedit':''\">\r\n              <Option v-for=\"(item,index) in statusRadio\" :key=\"index\" :value=\"item.value\">{{item.name}}</Option>\r\n            </Select>\r\n          </FormItem>\r\n\r\n        </Form>\r\n        <div class=\"baseinfo-container-action\" @click=\"handleSubmitBoxs\">\r\n          <input type='submit' value=\"关闭\" style=\"background-color:rgb(81, 90, 110)\" class=\"baseinfo-container-action-submit\" id=\"close\" />\r\n          <input type='submit' :value=\"editBtnName\" class=\"baseinfo-container-action-submit\" id=\"edit\" v-if=\"jobId && isPermission\" />\r\n          <input type='submit' value=\"保存\" class=\"baseinfo-container-action-submit\" id=\"save\" v-show=\"!isEdit\" />\r\n          <input type='submit' value=\"保存并新建\" class=\"baseinfo-container-action-submit\" id=\"saveAndAdd\" v-if=\"!jobId\"/>\r\n        </div>\r\n      </section>\r\n      <!-- 成员信息 -->\r\n      <section class=\"memberinfo-container rfd-tab-container-common\" v-if=\"actionIndex===1\">\r\n        <member-info :jobId=\"jobId\" @on-member-info-change='handleChangeObjDetailsCount'></member-info>\r\n      </section>\r\n      <!-- 权限 -->\r\n      <section class=\"permission-container rfd-tab-container-common\" v-if=\"actionIndex===0\">\r\n        <permission :jobId=\"jobId\" @on-permission-change='handleChangeObjDetailsCount'></permission>\r\n      </section>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getAllRole,\r\n  saveRoleBaseInfo,\r\n  updateRoleBaseInfo,\r\n  getObjDetailsCountByRoleId,\r\n  checkoutFieldIsOnly,\r\n  getListById\r\n} from \"@/services/addressBookService.js\";\r\nimport MemberModal from \"@/components/modal/Modal\";\r\nimport MemberInfo from \"./instance/job-member-info\";\r\nimport Permission from \"./instance/job-permission\";\r\nexport default {\r\n  name: \"job\",\r\n\r\n  components: {\r\n    MemberModal,\r\n    MemberInfo,\r\n    Permission\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      formItem: {\r\n        name: \"\",\r\n        type: \"\",\r\n        describe: \"\",\r\n        status: 1\r\n      },\r\n      tableContent:{},\r\n      name: \"\",\r\n      isEdit: true,\r\n      editBtnName: \"编辑\",\r\n      statusRadio: [\r\n        {\r\n          name: \"停用\",\r\n          value: -1\r\n        },\r\n        {\r\n          name: \"使用中\",\r\n          value: 1\r\n        },\r\n        {\r\n          name: \"未使用\",\r\n          value: 2\r\n        },\r\n        {\r\n          name: \"草稿\",\r\n          value: 3\r\n        }\r\n      ],\r\n\r\n      actionBtn: [\r\n        {\r\n          label: \"权限\",\r\n          type: \"md-person\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"objectPermission\"\r\n        },\r\n        {\r\n          label: \"成员信息\",\r\n          imgPath: \"resources/images/icon/user.png\",\r\n          number: 0,\r\n          hidden: false,\r\n          id: \"user\"\r\n        },\r\n        {\r\n          label: \"基本信息\",\r\n          type: \"ios-home\",\r\n          hidden: false,\r\n          id: \"baseinfo\"\r\n        }\r\n      ],\r\n      actionIndex: 2,\r\n\r\n      ruleValidate: {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: \"请输入职位名称\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        type: [\r\n          {\r\n            required: true,\r\n            message: \"请选择职位类型\",\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      },\r\n      checkout: true,\r\n\r\n      jobId: this.$route.params.jobId,\r\n      isPermission: true\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handlerViewChange(index) {\r\n      this.actionIndex = index;\r\n    },\r\n\r\n    //按钮事件委托给父元素处理\r\n    handleSubmitBoxs(event) {\r\n      let target = event.target || event.srcElement;\r\n      if (target.nodeName.toLocaleLowerCase() === \"input\") {\r\n        switch (target.id) {\r\n          case \"close\":\r\n            this.$Modal.confirm({\r\n              title: \"提示\",\r\n              content: \"是否关闭当前页面\",\r\n              closable: true,\r\n              onOk: function() {\r\n                location.href = \"/Site/index.html#page/jobs\";\r\n              }\r\n            });\r\n            break;\r\n          case \"edit\":\r\n            this.isEdit = !this.isEdit;\r\n            this.editBtnName = this.isEdit ? \"编辑\" : \"放弃编辑\";\r\n            break;\r\n          case \"save\":\r\n            this.save();\r\n            break;\r\n          case \"saveAndAdd\":\r\n            this.saveAndAdd();\r\n            break;\r\n        }\r\n      }\r\n    },\r\n\r\n    saveAndAdd() {\r\n      this.$refs[\"formItem\"].validate(valid => {\r\n        if (valid) {\r\n          if (!this.jobId && this.checkout) {\r\n            delete this.formItem.id;\r\n            saveRoleBaseInfo(this.formItem)\r\n              .then(res => {\r\n                if (res) {\r\n                  this.$Message.success(\"保存成功\");\r\n                  this.$refs[\"formItem\"].resetFields();\r\n                  this.formItem = {\r\n                    name: \"\",\r\n                    type: \"\",\r\n                    describe: \"\",\r\n                    status: 1\r\n                  };\r\n                }\r\n              })\r\n              .catch(errer => {\r\n                this.$Message.errer(error.data.message);\r\n              });\r\n          }\r\n          if (!this.checkout) {\r\n            this.$Message.error(\"名称已经存在!\");\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    save() {\r\n      this.$refs[\"formItem\"].validate(valid => {\r\n        if (valid) {\r\n          //判断是编辑,还是新增保存\r\n          if (this.jobId) {\r\n            this.formItem.id = this.jobId;\r\n            updateRoleBaseInfo(this.formItem)\r\n              .then(res => {\r\n                if (res) {\r\n                  this.$Message.success(\"更新成功\");\r\n                  window.location.reload();\r\n                }\r\n              })\r\n              .catch(errer => {\r\n                this.$Message.errer(error.data.message);\r\n              });\r\n          } else if (!this.jobId && this.checkout) {\r\n            delete this.formItem.id;\r\n            saveRoleBaseInfo(this.formItem)\r\n              .then(res => {\r\n                if (res) {\r\n                  this.$Message.success(\"保存成功\");\r\n                  this.$router.push({\r\n                    path: \"/addressBook/job/detail/\" + res.id\r\n                  });\r\n                  window.location.reload();\r\n                }\r\n              })\r\n              .catch(errer => {\r\n                this.$Message.errer(error.data.message);\r\n              });\r\n          }\r\n          if (!this.checkout) {\r\n            this.$Message.error(\"名称已经存在!\");\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    getObjDetailsCountByRoleId(jobId) {\r\n      getObjDetailsCountByRoleId(jobId).then(res => {\r\n        this.actionBtn.forEach(element => {\r\n          element.number = res[element.id];\r\n        });\r\n      });\r\n    },\r\n\r\n    handleChangeObjDetailsCount(val) {\r\n      if (val) {\r\n        this.getObjDetailsCountByRoleId(this.jobId);\r\n      }\r\n    },\r\n\r\n    //当职位名称失去焦点的是校验名称\r\n    onGroupNameOutBlur() {\r\n      let filter = {};\r\n      if (!this.isEdit) {\r\n        if (this.jobId) {\r\n          filter = [\r\n            {\r\n              filedName: \"name\",\r\n              value: this.formItem.name,\r\n              symbol: \"=\"\r\n            },\r\n            {\r\n              filedName: \"id\",\r\n              symbol: \"<>\",\r\n              value: this.jobId\r\n            }\r\n          ];\r\n        } else {\r\n          filter = [\r\n            {\r\n              filedName: \"name\",\r\n              value: this.formItem.name,\r\n              symbol: \"=\"\r\n            }\r\n          ];\r\n        }\r\n        filter = JSON.stringify(filter);\r\n        //当groupId不存在时，校验名称是否唯一\r\n        checkoutFieldIsOnly(\"sys_role\", filter)\r\n          .then(res => {\r\n            if (res.result > 0) {\r\n              this.checkout = false;\r\n              this.$Message.error(\"名称已经存在!\");\r\n            } else {\r\n              this.checkout = true;\r\n            }\r\n          })\r\n          .catch(error => {\r\n            this.$Message.error(error.data.message);\r\n          });\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    let tabsMaxHight = document.body.clientHeight - 95;\r\n    window.document.getElementsByClassName(\"job-wrap-tabs\")[0].style.height =\r\n      tabsMaxHight + \"px\";\r\n\r\n    let filter = JSON.stringify([\r\n      { operator: \"eq\", value: this.jobId, property: \"id\" }\r\n    ]);\r\n    let that = this;\r\n    if (this.jobId) {\r\n      getAllRole(filter).then(res => {\r\n        if (res.tableContent[0]) {\r\n          let tableContent = res.tableContent[0];\r\n          this.name = tableContent.name;\r\n           that.formItem.name = tableContent.name;\r\n          that.formItem.type = tableContent.type;\r\n          that.formItem.status = tableContent.status;\r\n          that.formItem.describe = tableContent.describe;\r\n          this.tableContent = tableContent;\r\n        }\r\n      });\r\n      this.getObjDetailsCountByRoleId(this.jobId);\r\n    } else if (!this.jobId && this.$route.name == \"job-add\") {\r\n      this.isEdit = false;\r\n      this.actionBtn.forEach(element => {\r\n        if (element.id !== \"baseinfo\") {\r\n          element.hidden = true;\r\n        }\r\n      });\r\n    }\r\n\r\n    getListById('000003').then(res => {\r\n        if(!res[0].action.update){\r\n          this.isPermission = false;\r\n        }\r\n      });\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/job/job.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"job-wrap\"},[_c('header',{staticClass:\"job-wrap-header\"},[_c('span',{staticClass:\"job-wrap-header-job\"},[_vm._v(\"职位\")]),_vm._v(\" \"),_c('span',{staticClass:\"job-wrap-header-others\"},[_vm._v(\"/\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.jobId),expression:\"jobId\"}],staticClass:\"job-wrap-header-others\"},[_vm._v(_vm._s(_vm.name))]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.jobId),expression:\"!jobId\"}],staticClass:\"job-wrap-header-others\"},[_vm._v(\"创建\")]),_vm._v(\" \"),_c('Tag',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.jobId),expression:\"jobId\"},{name:\"instanceStateDirective\",rawName:\"v-instanceStateDirective\",value:({status:_vm.formItem.status}),expression:\"{status:formItem.status}\"}],staticClass:\"radius10 marlr10 color_fff\",staticStyle:{\"margin-bottom\":\"7px\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"job-wrap-action\"},[_c('ul',_vm._l((_vm.actionBtn),function(item,index){return (!item.hidden)?_c('li',{key:index,staticClass:\"job-wrap-action-li\",class:index===_vm.actionIndex?'job-wrap-action-li-active':'',on:{\"click\":function($event){_vm.handlerViewChange(index)}}},[_c('div',[(!item.type)?_c('img',{staticClass:\"job-wrap-action-li-img\",attrs:{\"src\":item.imgPath}}):_c('Icon',{staticClass:\"icon\",attrs:{\"type\":item.type}}),_vm._v(\" \"),_c('div',{staticClass:\"left-content\"},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.number!=='undefine'),expression:\"item.number!=='undefine'\"}]},[_vm._v(_vm._s(item.number))]),_vm._v(\" \"),_c('h3',[_vm._v(_vm._s(item.label))])])],1)]):_vm._e()}))]),_vm._v(\" \"),_c('div',{staticClass:\"job-wrap-tabs\"},[(_vm.actionIndex===2)?_c('section',{staticClass:\"baseinfo-container rfd-tab-container-common\"},[_c('Form',{ref:\"formItem\",class:{'is-required':_vm.isEdit},attrs:{\"model\":_vm.formItem,\"labelWidth\":120,\"rules\":_vm.ruleValidate}},[_c('FormItem',{staticStyle:{\"font-size\":\"16px\"},attrs:{\"label\":\"职位名称:\",\"prop\":\"name\"}},[_c('Input',{class:_vm.isEdit?'input-status-isedit':'',attrs:{\"readonly\":_vm.isEdit},on:{\"on-blur\":_vm.onGroupNameOutBlur},model:{value:(_vm.formItem.name),callback:function ($$v) {_vm.$set(_vm.formItem, \"name\", $$v)},expression:\"formItem.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"职位类型\",\"labelWidth\":120,\"prop\":\"type\"}},[_c('Select',{class:_vm.isEdit?'input-status-isedit':'',attrs:{\"placeholder\":\"请选择职位类型\",\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.type),callback:function ($$v) {_vm.$set(_vm.formItem, \"type\", $$v)},expression:\"formItem.type\"}},[_c('Option',{attrs:{\"value\":\"M\"}},[_vm._v(\"管理类\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"Y\"}},[_vm._v(\"营销类\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"J\"}},[_vm._v(\"技术类\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"Z\"}},[_vm._v(\"专业类\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"C\"}},[_vm._v(\"操作类\")])],1)],1),_vm._v(\" \"),(_vm.jobId && _vm.isEdit)?_c('div',{staticClass:\"baseinfo-container-divider\"}):_vm._e(),_vm._v(\" \"),(_vm.jobId && _vm.isEdit)?_c('FormItem',{attrs:{\"label\":\"创建者：\"}},[_c('span',[_vm._v(_vm._s(_vm.tableContent.creator))])]):_vm._e(),_vm._v(\" \"),(_vm.jobId && _vm.isEdit)?_c('FormItem',{attrs:{\"label\":\"创建时间：\"}},[_c('span',[_vm._v(_vm._s(_vm.tableContent.crtTime))])]):_vm._e(),_vm._v(\" \"),(_vm.jobId && _vm.isEdit)?_c('FormItem',{attrs:{\"label\":\"修改者：\"}},[_c('span',[_vm._v(_vm._s(_vm.tableContent.modifier))])]):_vm._e(),_vm._v(\" \"),(_vm.jobId && _vm.isEdit)?_c('FormItem',{attrs:{\"label\":\"修改时间：\"}},[_c('span',[_vm._v(_vm._s(_vm.tableContent.modTime))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"baseinfo-container-divider\"}),_vm._v(\" \"),_c('FormItem',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"label\":\"职位状态\",\"labelWidth\":120}},[_c('Select',{class:_vm.isEdit?'input-status-isedit':'',attrs:{\"disabled\":_vm.isEdit},model:{value:(_vm.formItem.status),callback:function ($$v) {_vm.$set(_vm.formItem, \"status\", $$v)},expression:\"formItem.status\"}},_vm._l((_vm.statusRadio),function(item,index){return _c('Option',{key:index,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"baseinfo-container-action\",on:{\"click\":_vm.handleSubmitBoxs}},[_c('input',{staticClass:\"baseinfo-container-action-submit\",staticStyle:{\"background-color\":\"rgb(81, 90, 110)\"},attrs:{\"type\":\"submit\",\"value\":\"关闭\",\"id\":\"close\"}}),_vm._v(\" \"),(_vm.jobId && _vm.isPermission)?_c('input',{staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\",\"id\":\"edit\"},domProps:{\"value\":_vm.editBtnName}}):_vm._e(),_vm._v(\" \"),_c('input',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEdit),expression:\"!isEdit\"}],staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\",\"value\":\"保存\",\"id\":\"save\"}}),_vm._v(\" \"),(!_vm.jobId)?_c('input',{staticClass:\"baseinfo-container-action-submit\",attrs:{\"type\":\"submit\",\"value\":\"保存并新建\",\"id\":\"saveAndAdd\"}}):_vm._e()])],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===1)?_c('section',{staticClass:\"memberinfo-container rfd-tab-container-common\"},[_c('member-info',{attrs:{\"jobId\":_vm.jobId},on:{\"on-member-info-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e(),_vm._v(\" \"),(_vm.actionIndex===0)?_c('section',{staticClass:\"permission-container rfd-tab-container-common\"},[_c('permission',{attrs:{\"jobId\":_vm.jobId},on:{\"on-permission-change\":_vm.handleChangeObjDetailsCount}})],1):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6792f233\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/job/job.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6792f233\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./job.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./job.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./job.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6792f233\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./job.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/job/job.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"rfd-cs\">\r\n    <header class=\"rfd-cs-header\">\r\n      <slot name=\"header\"></slot>\r\n    </header>\r\n    <div class=\"rfd-cs-table\">\r\n      <Table :loading=\"loading\" :columns=\"columns\" :data=\"columnsData\" ref=\"selection\" @on-selection-change='onSelectionChange'></Table>\r\n    </div>\r\n    <div class=\"rfd-cs-table\" v-if=\"!isHiddenPage\">\r\n      <div style=\"float: right;\">\r\n        <Page :total=\"pageTotal\" :current=\"currentPage\" :page-size=\"pageSize\" size=\"small\" @on-change=\"changeCurrentPage\" @on-page-size-change=\"onPageSizeChange\" show-total show-elevator show-sizer></Page>\r\n      </div>\r\n    </div>\r\n    <footer class=\"rfd-cs-footer\">\r\n      <slot name=\"footer\"></slot>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTableData } from \"@/services/addressBookService.js\";\r\n\r\nexport default {\r\n  name: \"CustomTable\",\r\n\r\n  props: {\r\n    columns: {\r\n      type: Array\r\n    },\r\n\r\n    apiUrl: {\r\n      type: String\r\n    },\r\n    apiParams: {\r\n      type: Object\r\n    },\r\n\r\n    value: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n\r\n    isHiddenPage:{\r\n      type:Boolean,\r\n      default:false\r\n    }\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      pageTotal: 0,\r\n      currentPage: 1,\r\n      pageSize: 10,\r\n      loading: false,\r\n      columnsData: []\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    value(val) {\r\n      if (val) {\r\n        this.getTableData(this.apiParams);\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    changeCurrentPage(currentPage) {\r\n      let params = this.apiParams;\r\n      params.page = currentPage;\r\n      this.getTableData(params);\r\n    },\r\n\r\n    onSelectionChange(selection) {\r\n      this.$emit(\"on-selection-change\", selection);\r\n    },\r\n\r\n    //点击切换每页显示条数\r\n    onPageSizeChange(size) {\r\n      let params = this.apiParams;\r\n      params.limit = size;\r\n      this.getTableData(params);\r\n    },\r\n\r\n    getTableData(params) {\r\n      this.loading = true;\r\n      getTableData(this.apiUrl, params).then(res => {\r\n          this.pageTotal = res.dataCount?res.dataCount:res.summary.total;\r\n          this.columnsData = res.tableContent;\r\n          if (this.value) {\r\n            this.$emit(\"on-refesh-change\", false);\r\n          }\r\n        this.loading = false;\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getTableData(this.apiParams);\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.rfd-cs {\r\n  width: 100%;\r\n  min-height: 500px;\r\n  background-color: #fff;\r\n  padding: 20px 20px;\r\n\r\n  &-header {\r\n    .ivu-btn-primary {\r\n      background-color: #2db7f5;\r\n      border-color: #2db7f5;\r\n    }\r\n  }\r\n\r\n  &-table {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  &-page {\r\n    margin: 10px;\r\n    overflow: hidden;\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/addressBook/organization/instance/CustomTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rfd-cs\"},[_c('header',{staticClass:\"rfd-cs-header\"},[_vm._t(\"header\")],2),_vm._v(\" \"),_c('div',{staticClass:\"rfd-cs-table\"},[_c('Table',{ref:\"selection\",attrs:{\"loading\":_vm.loading,\"columns\":_vm.columns,\"data\":_vm.columnsData},on:{\"on-selection-change\":_vm.onSelectionChange}})],1),_vm._v(\" \"),(!_vm.isHiddenPage)?_c('div',{staticClass:\"rfd-cs-table\"},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.pageTotal,\"current\":_vm.currentPage,\"page-size\":_vm.pageSize,\"size\":\"small\",\"show-total\":\"\",\"show-elevator\":\"\",\"show-sizer\":\"\"},on:{\"on-change\":_vm.changeCurrentPage,\"on-page-size-change\":_vm.onPageSizeChange}})],1)]):_vm._e(),_vm._v(\" \"),_c('footer',{staticClass:\"rfd-cs-footer\"},[_vm._t(\"footer\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/.13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-7f4b4156\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/.13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/addressBook/organization/instance/CustomTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/.3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/.13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f4b4156\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=styles&index=0!./CustomTable.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/.13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./CustomTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=script&index=0!./CustomTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/.13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f4b4156\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/.13.7.2@vue-loader/lib/selector?type=template&index=0!./CustomTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/addressBook/organization/instance/CustomTable.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
webpackJsonp([16],{AKQ3:function(t,e){},CwxW:function(t,e,s){"use strict";var r={name:"ProgressRing",props:{radius:Number,progress:Number,strokeWidth:Number,bottomColor:{default:function(){return"#f0f0f0"}},progressColor:{default:function(t){return"green"}}},computed:{strokeDashoffset:function(){return this.circumference-this.percent/100*this.circumference}},watch:{progress:function(){var t=this;this.percent=0;var e=setInterval(function(){t.percent+=1,t.progress===t.percent?clearInterval(e):0===t.progress&&clearInterval(e)},10)}},data:function(){var t=this.radius-2*this.strokeWidth;return{normalizedRadius:t,circumference:2*t*Math.PI,percent:0}},mounted:function(){var t=this;this.percent=0;var e=setInterval(function(){t.percent+=1,t.progress===t.percent?clearInterval(e):0===t.progress&&clearInterval(e)},10)}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{height:2*t.radius,width:2*t.radius}},[s("circle",{attrs:{stroke:t.bottomColor,fill:"transparent","stroke-width":t.strokeWidth,r:t.normalizedRadius,cx:t.radius,cy:t.radius}}),t._v(" "),s("circle",{style:{strokeDashoffset:t.strokeDashoffset},attrs:{stroke:t.progressColor,fill:"transparent","stroke-dasharray":t.circumference+" "+t.circumference,"stroke-width":t.strokeWidth,r:t.normalizedRadius,cx:t.radius,cy:t.radius}}),t._v(" "),s("text",{staticStyle:{fill:"gray","font-weight":"600"},attrs:{x:t.radius-10,dy:t.radius+5}},[t._v(t._s(t.progress)+"%")])])},staticRenderFns:[]},a=s("VU/8")(r,n,!1,null,null,null).exports;e.a=a},rLxg:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("UzZq"),n={name:"Reports",components:{ProgressRing:s("CwxW").a},watch:{done:{handler:function(t,e){this.completionratio=parseInt(this.done/this.all*100)}},all:{handler:function(t,e){this.completionratio=parseInt(this.done/this.all*100)}},deep:!0},data:function(){return{todo:0,done:0,all:0,draft:0,pageInfo:{limit:30,page:1,total:0},completionratio:0}},methods:{getFlowAllTasks:function(){var t=this;Object(r.b)(this.pageInfo).then(function(e){t.all=e.dataCount})},getFlowTodoTasks:function(){var t=this;Object(r.d)(this.pageInfo).then(function(e){t.todo=e.dataCount})},getFlowDoneTasks:function(){var t=this;Object(r.c)(this.pageInfo).then(function(e){t.done=e.dataCount})},getDraftData:function(){var t=this;Object(r.a)(this.pageInfo).then(function(e){t.draft=e.dataCount})}},mounted:function(){this.getFlowAllTasks(),this.getFlowTodoTasks(),this.getFlowDoneTasks(),this.getDraftData()}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reports"},[s("div",{staticClass:"reports-header"},[t._v("\n        统计报表\n    ")]),t._v(" "),s("div",{staticClass:"reports-content"},[s("div",{staticClass:"reports-content-tasks"},[s("div",{staticClass:"reports-content-tasks-item"},[s("div",{staticClass:"reports-content-tasks-item-txt"},[t._v("待办")]),t._v(" "),s("router-link",{attrs:{to:{name:"todo"}}},[s("div",{staticClass:"reports-content-tasks-item-count todotask"},[t._v(t._s(t.todo))])])],1),t._v(" "),s("div",{staticClass:"reports-content-tasks-item"},[s("div",{staticClass:"reports-content-tasks-item-txt"},[t._v("已办")]),t._v(" "),s("router-link",{attrs:{to:{name:"done"}}},[s("div",{staticClass:"reports-content-tasks-item-count donetask"},[t._v(t._s(t.done))])])],1),t._v(" "),s("div",{staticClass:"reports-content-tasks-item"},[s("div",{staticClass:"reports-content-tasks-item-txt"},[t._v("所有")]),t._v(" "),s("router-link",{attrs:{to:{name:"all"}}},[s("div",{staticClass:"reports-content-tasks-item-count"},[t._v(t._s(t.all))])])],1),t._v(" "),s("div",{staticClass:"reports-content-tasks-item"},[s("div",{staticClass:"reports-content-tasks-item-txt",staticStyle:{height:"35px"}},[t._v("完成率")]),t._v(" "),s("ProgressRing",{attrs:{radius:40,progress:t.completionratio,strokeWidth:5,progressColor:"#9C27B0"}})],1)])])])},staticRenderFns:[]};var o=s("VU/8")(n,a,!1,function(t){s("AKQ3")},"data-v-b3dc39d4",null);e.default=o.exports}});
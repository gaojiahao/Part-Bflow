webpackJsonp([12],{Ai1g:function(t,e){},ZGYE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("o32f"),i={name:"organization",components:{MemberModal:a("lZCD").a},data:function(){return{formItem:{OrgUnitName:"",OrgUnitType:"",DepFunction:"",OrgUnitMemo:"",OrgUnitStatus:"inUse"},memberInfoLoading:!1,memberInfoColumns:[{type:"selection",width:60,align:"center"},{type:"index",width:60,align:"center"},{title:"工号",width:100,key:"userCode"},{title:"姓名",width:100,key:"nickname"},{title:"性别",key:"gender",width:60,render:function(t,e){var a=e.row.gender;return t("span",1===a?"男":0===a?"女":"未知")}},{title:"手机号",key:"mobile"},{title:"状态",width:60,key:"status",render:function(t,e){var a=e.row.status;return t("span",{style:{color:a?"#0279f6":"#f03707",cursor:"default"}},a?"在职":"离职")}},{title:"创建者",key:"creator",width:100},{title:"创建时间",key:"crtTime"},{title:"修改时间",key:"changeTime"}],memberInfoData:[],pageTotal:0,currentPage:1,pageSize:8,permissionLoading:!1,permissionColumns:[{type:"index",width:60,align:"center"},{title:"名称",key:"nickname"}],permissionData:[],isShowMemberModal:!1,listUserLoading:!1,listUserData:[],listUserPageTotal:0,listUserCurrentPage:1}},methods:{changeCurrentPage:function(t){this.getUsersByGroupId(347,t,this.pageSize)},getUsersByGroupId:function(t,e,a){var i=this;this.memberInfoLoading=!0,Object(n.r)(t,e,a).then(function(t){t.tableContent[0]&&(i.c=t.summary.total,i.memberInfoData=t.tableContent,i.memberInfoLoading=!1)})},getListUsers:function(t,e){var a=this;this.listUserLoading=!0,Object(n.s)(t,e).then(function(t){t.tableContent[0]&&(a.listUserPageTotal=t.summary.total,a.listUserData=t.tableContent,a.listUserLoading=!1)})},listUserChangePage:function(t){this.getListUsers(t,this.pageSize)},addUser:function(){},showMemberModal:function(){this.isShowMemberModal=!0,this.getListUsers(this.listUserCurrentPage,this.pageSize)},exportData:function(){this.$refs.table.exportCsv({filename:"成员信息"})}},mounted:function(){this.getUsersByGroupId(347,this.currentPage,this.pageSize);var t=document.body.clientHeight-81;window.document.getElementsByClassName("ivu-tabs-content")[0].style.height=t+"px"}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"organization-wrap"},[t._m(0),t._v(" "),a("div",{staticClass:"organization-wrap-tabs"},[a("Tabs",{attrs:{value:"baseinfo"}},[a("TabPane",{attrs:{label:"基本信息",name:"baseinfo"}},[a("section",{staticClass:"baseinfo-container rfd-tab-container-common"},[a("Form",{attrs:{model:t.formItem,labelWidth:100}},[a("FormItem",{staticStyle:{"font-size":"16px"},attrs:{label:"组织名称:"}},[a("Input",{model:{value:t.formItem.OrgUnitName,callback:function(e){t.$set(t.formItem,"OrgUnitName",e)},expression:"formItem.OrgUnitName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"组织状态",labelWidth:100}},[a("Select",{model:{value:t.formItem.OrgUnitStatus,callback:function(e){t.$set(t.formItem,"OrgUnitStatus",e)},expression:"formItem.OrgUnitStatus"}},[a("Option",{attrs:{value:"inUse"}},[t._v("使用中")]),t._v(" "),a("Option",{attrs:{value:"noUse"}},[t._v("未使用")]),t._v(" "),a("Option",{attrs:{value:"draft"}},[t._v("草稿")]),t._v(" "),a("Option",{attrs:{value:"stop"}},[t._v("停用")])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"组织类型",labelWidth:100}},[a("RadioGroup",{model:{value:t.formItem.OrgUnitType,callback:function(e){t.$set(t.formItem,"OrgUnitType",e)},expression:"formItem.OrgUnitType"}},[a("Radio",{attrs:{label:"manage"}},[t._v("管理层")]),t._v(" "),a("Radio",{attrs:{label:"business"}},[t._v("事业部")]),t._v(" "),a("Radio",{attrs:{label:"department"}},[t._v("部门")]),t._v(" "),a("Radio",{attrs:{label:"group"}},[t._v("小组")])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"部门职能类型",labelWidth:100}},[a("RadioGroup",{model:{value:t.formItem.DepFunction,callback:function(e){t.$set(t.formItem,"DepFunction",e)},expression:"formItem.DepFunction"}},[a("Radio",{attrs:{label:"manage"}},[t._v("管理")]),t._v(" "),a("Radio",{attrs:{label:"sale"}},[t._v("销售")]),t._v(" "),a("Radio",{attrs:{label:"make"}},[t._v("制造")]),t._v(" "),a("Radio",{attrs:{label:"develop"}},[t._v("研发")])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"组织说明",labelWidth:100}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:t.formItem.OrgUnitMemo,callback:function(e){t.$set(t.formItem,"OrgUnitMemo",e)},expression:"formItem.OrgUnitMemo"}})],1)],1),t._v(" "),a("div",{staticClass:"baseinfo-container-action"},[a("Button",{attrs:{type:"success"}},[t._v("编辑")]),t._v(" "),a("Button",{attrs:{type:"success"}},[t._v("删除")]),t._v(" "),a("Button",{attrs:{type:"success"}},[t._v("保存")])],1)],1)]),t._v(" "),a("TabPane",{attrs:{label:"成员信息",name:"memberinfo"}},[a("section",{staticClass:"memberinfo-container rfd-tab-container-common"},[a("div",{staticClass:"memberinfo-container-btn"},[a("Button",{attrs:{icon:"md-add",type:"primary"},on:{click:t.showMemberModal}},[t._v("添加成员")]),t._v(" "),a("Button",{attrs:{icon:"md-remove",type:"primary"}},[t._v("移除成员")]),t._v(" "),a("Button",{staticClass:"permission-container-btn-export",attrs:{icon:"ios-download-outline",type:"primary"},on:{click:t.exportData}},[t._v("导出")])],1),t._v(" "),a("div",{staticClass:"memberinfo-container-table"},[a("Table",{attrs:{loading:t.memberInfoLoading,columns:t.memberInfoColumns,data:t.memberInfoData}})],1),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.pageTotal,current:t.currentPage,"page-size":t.pageSize,size:"small","show-total":"","show-elevator":""},on:{"on-change":t.changeCurrentPage}})],1)])])]),t._v(" "),a("TabPane",{attrs:{label:"权限",name:"permission"}},[a("section",{staticClass:"permission-container rfd-tab-container-common"},[a("div",{staticClass:"permission-container-btn"},[a("Button",{attrs:{icon:"md-add",type:"primary"}},[t._v("添加权限")]),t._v(" "),a("Button",{attrs:{icon:"md-remove",type:"primary"}},[t._v("移除权限")])],1),t._v(" "),a("div",{staticClass:"permission-container-table"},[a("Table",{ref:"selection",attrs:{loading:t.permissionLoading,columns:t.permissionColumns,data:t.permissionData}})],1),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.pageTotal,current:t.currentPage,"page-size":t.pageSize,size:"small","show-total":"","show-elevator":""},on:{"on-change":t.changeCurrentPage}})],1)])])])],1)],1),t._v(" "),a("member-modal",{attrs:{width:"1000",footerBtnAlign:"right",title:"选择用户"},on:{"on-ok":t.addUser},model:{value:t.isShowMemberModal,callback:function(e){t.isShowMemberModal=e},expression:"isShowMemberModal"}},[a("div",[a("Table",{ref:"selection",attrs:{loading:t.listUserLoading,columns:t.memberInfoColumns,data:t.listUserData,size:"small"}}),t._v(" "),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.listUserPageTotal,current:t.listUserCurrentPage,"page-size":t.pageSize,size:"small","show-total":"","show-elevator":""},on:{"on-change":t.listUserChangePage}})],1)])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"organization-wrap-header"},[e("h2",[e("span",[this._v("管理员")]),this._v(" "),e("span",[this._v("/岗位/")]),this._v(" "),e("span",[this._v("001")])])])}]};var o=a("D8HT")(i,s,!1,function(t){a("Ai1g")},null,null);e.default=o.exports}});
//# sourceMappingURL=12.d1c0ce18df7de440f608.js.map